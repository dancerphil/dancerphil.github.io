import{a as e,t}from"./chunk-BhbUqTP9.js";import{_ as n,h as r,n as i,r as a,t as o}from"./emotion-react-jsx-runtime.browser.esm-DRPNBcww.js";import{n as s,t as c}from"./styles-B3vz2MK3.js";import"./useSize-D021t1LK.js";import{E as l}from"./ContextIsolator-CdPt5NJ6.js";import{t as u}from"./button-CpV-Q1b4.js";import{i as d,n as f,o as p,r as m,s as h,t as g}from"./es-DNe67bgw.js";import{n as _}from"./modal-6voLwGui.js";import{l as v}from"./PurePanel-COspVl2o.js";import"./classnames-q6CmcveK.js";import"./style-pa4jnIzs.js";import"./CheckOutlined-CK3WVEhL.js";import"./TextArea-QWdzNYaV.js";import{t as ee}from"./createRegion-Bt7ItnCG.js";import{t as te}from"./Markdown-D84r-tGT.js";import{t as ne}from"./es-BGMg7yl7.js";import{t as y}from"./emotion-styled-base.browser.esm-CZO2pYlP.js";var b={icon:{tag:`svg`,attrs:{viewBox:`64 64 896 896`,focusable:`false`},children:[{tag:`path`,attrs:{d:`M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z`}},{tag:`path`,attrs:{d:`M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z`}}]},name:`question-circle`,theme:`outlined`},x=e(n());function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}var ie=x.forwardRef((e,t)=>x.createElement(l,re({},e,{ref:t,icon:b}))),ae=r(),oe=(0,x.createContext)(null);oe.displayName=`PanelGroupContext`;var se={group:`data-panel-group`,groupDirection:`data-panel-group-direction`,groupId:`data-panel-group-id`,panel:`data-panel`,panelCollapsible:`data-panel-collapsible`,panelId:`data-panel-id`,panelSize:`data-panel-size`,resizeHandle:`data-resize-handle`,resizeHandleActive:`data-resize-handle-active`,resizeHandleEnabled:`data-panel-resize-handle-enabled`,resizeHandleId:`data-panel-resize-handle-id`,resizeHandleState:`data-resize-handle-state`},ce=10,le=x.useLayoutEffect,ue=x.useId,de=typeof ue==`function`?ue:()=>null,fe=0;function pe(e=null){let t=de(),n=(0,x.useRef)(e||t||null);return n.current===null&&(n.current=``+ fe++),e??n.current}function me({children:e,className:t=``,collapsedSize:n,collapsible:r,defaultSize:i,forwardedRef:a,id:o,maxSize:s,minSize:c,onCollapse:l,onExpand:u,onResize:d,order:f,style:p,tagName:m=`div`,...h}){let g=(0,x.useContext)(oe);if(g===null)throw Error(`Panel components must be rendered within a PanelGroup container`);let{collapsePanel:_,expandPanel:v,getPanelSize:ee,getPanelStyle:te,groupId:ne,isPanelCollapsed:y,reevaluatePanelConstraints:b,registerPanel:re,resizePanel:ie,unregisterPanel:ae}=g,ce=pe(o),ue=(0,x.useRef)({callbacks:{onCollapse:l,onExpand:u,onResize:d},constraints:{collapsedSize:n,collapsible:r,defaultSize:i,maxSize:s,minSize:c},id:ce,idIsFromProps:o!==void 0,order:f});(0,x.useRef)({didLogMissingDefaultSizeWarning:!1}),le(()=>{let{callbacks:e,constraints:t}=ue.current,a={...t};ue.current.id=ce,ue.current.idIsFromProps=o!==void 0,ue.current.order=f,e.onCollapse=l,e.onExpand=u,e.onResize=d,t.collapsedSize=n,t.collapsible=r,t.defaultSize=i,t.maxSize=s,t.minSize=c,(a.collapsedSize!==t.collapsedSize||a.collapsible!==t.collapsible||a.maxSize!==t.maxSize||a.minSize!==t.minSize)&&b(ue.current,a)}),le(()=>{let e=ue.current;return re(e),()=>{ae(e)}},[f,ce,re,ae]),(0,x.useImperativeHandle)(a,()=>({collapse:()=>{_(ue.current)},expand:e=>{v(ue.current,e)},getId(){return ce},getSize(){return ee(ue.current)},isCollapsed(){return y(ue.current)},isExpanded(){return!y(ue.current)},resize:e=>{ie(ue.current,e)}}),[_,v,ee,y,ce,ie]);let de=te(ue.current,i);return(0,x.createElement)(m,{...h,children:e,className:t,id:ce,style:{...de,...p},[se.groupId]:ne,[se.panel]:``,[se.panelCollapsible]:r||void 0,[se.panelId]:ce,[se.panelSize]:parseFloat(``+de.flexGrow).toFixed(1)})}var he=(0,x.forwardRef)((e,t)=>(0,x.createElement)(me,{...e,forwardedRef:t}));me.displayName=`Panel`,he.displayName=`forwardRef(Panel)`;var ge;function _e(){return ge}var ve=null,ye=!0,be=null,xe=-1,Se=null;function Ce(e,t,n){let r=(t&Be)!==0,i=(t&Ve)!==0,a=(t&He)!==0,o=(t&Ue)!==0;if(be)return be({exceedsHorizontalMaximum:i,exceedsHorizontalMinimum:r,exceedsVerticalMaximum:o,exceedsVerticalMinimum:a,intersectsHorizontalDragHandle:e===`horizontal`||e===`intersection`,intersectsVerticalDragHandle:e===`vertical`||e===`intersection`,isPointerDown:n});if(t){if(r)return a?`se-resize`:o?`ne-resize`:`e-resize`;if(i)return a?`sw-resize`:o?`nw-resize`:`w-resize`;if(a)return`s-resize`;if(o)return`n-resize`}switch(e){case`horizontal`:return`ew-resize`;case`intersection`:return`move`;case`vertical`:return`ns-resize`}}function we(){Se!==null&&(document.head.removeChild(Se),ve=null,Se=null,xe=-1)}function Te(e,t,n){if(!ye)return;let r=Ce(e,t,n);if(ve!==r){if(ve=r,Se===null){Se=document.createElement(`style`);let e=_e();e&&Se.setAttribute(`nonce`,e),document.head.appendChild(Se)}if(xe>=0){var i;(i=Se.sheet)==null||i.removeRule(xe)}xe=Se.sheet?.insertRule(`*{cursor: ${r} !important;}`)??-1}}function Ee(e){return e.type===`keydown`}function De(e){return e.type.startsWith(`pointer`)}function Oe(e){return e.type.startsWith(`mouse`)}function ke(e){if(De(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(Oe(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Ae(){if(typeof matchMedia==`function`)return matchMedia(`(pointer:coarse)`).matches?`coarse`:`fine`}function je(e,t,n){return n?e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y:e.x<=t.x+t.width&&e.x+e.width>=t.x&&e.y<=t.y+t.height&&e.y+e.height>=t.y}function Me(e,t){if(e===t)throw Error(`Cannot compare node with itself`);let n={a:Re(e),b:Re(t)},r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;ct(r,`Stacking order can only be calculated for elements with a common ancestor`);let i={a:Le(Ie(n.a)),b:Le(Ie(n.b))};if(i.a===i.b){let e=r.childNodes,t={a:n.a.at(-1),b:n.b.at(-1)},i=e.length;for(;i--;){let n=e[i];if(n===t.a)return 1;if(n===t.b)return-1}}return Math.sign(i.a-i.b)}var Ne=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Pe(e){let t=getComputedStyle(ze(e)??e).display;return t===`flex`||t===`inline-flex`}function Fe(e){let t=getComputedStyle(e);return!!(t.position===`fixed`||t.zIndex!==`auto`&&(t.position!==`static`||Pe(e))||+t.opacity<1||`transform`in t&&t.transform!==`none`||`webkitTransform`in t&&t.webkitTransform!==`none`||`mixBlendMode`in t&&t.mixBlendMode!==`normal`||`filter`in t&&t.filter!==`none`||`webkitFilter`in t&&t.webkitFilter!==`none`||`isolation`in t&&t.isolation===`isolate`||Ne.test(t.willChange)||t.webkitOverflowScrolling===`touch`)}function Ie(e){let t=e.length;for(;t--;){let n=e[t];if(ct(n,`Missing node`),Fe(n))return n}return null}function Le(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Re(e){let t=[];for(;e;)t.push(e),e=ze(e);return t}function ze(e){let{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}var Be=1,Ve=2,He=4,Ue=8,We=Ae()===`coarse`,Ge=[],Ke=!1,qe=new Map,Je=new Map,Ye=new Set;function Xe(e,t,n,r,i){let{ownerDocument:a}=t,o={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:i},s=qe.get(a)??0;return qe.set(a,s+1),Ye.add(o),at(),function(){Je.delete(e),Ye.delete(o);let t=qe.get(a)??1;if(qe.set(a,t-1),at(),t===1&&qe.delete(a),Ge.includes(o)){let e=Ge.indexOf(o);e>=0&&Ge.splice(e,1),rt(),i(`up`,!0,null)}}}function Ze(e){let{target:t}=e,{x:n,y:r}=ke(e);Ke=!0,tt({target:t,x:n,y:r}),at(),Ge.length>0&&(ot(`down`,e),rt(),e.preventDefault(),et(t)||e.stopImmediatePropagation())}function Qe(e){let{x:t,y:n}=ke(e);if(Ke&&e.type!==`pointerleave`&&e.buttons===0&&(Ke=!1,ot(`up`,e)),!Ke){let{target:r}=e;tt({target:r,x:t,y:n})}ot(`move`,e),rt(),Ge.length>0&&e.preventDefault()}function $e(e){let{target:t}=e,{x:n,y:r}=ke(e);Je.clear(),Ke=!1,Ge.length>0&&(e.preventDefault(),et(t)||e.stopImmediatePropagation()),ot(`up`,e),tt({target:t,x:n,y:r}),rt(),at()}function et(e){let t=e;for(;t;){if(t.hasAttribute(se.resizeHandle))return!0;t=t.parentElement}return!1}function tt({target:e,x:t,y:n}){Ge.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),Ye.forEach(e=>{let{element:i,hitAreaMargins:a}=e,o=i.getBoundingClientRect(),{bottom:s,left:c,right:l,top:u}=o,d=We?a.coarse:a.fine;if(t>=c-d&&t<=l+d&&n>=u-d&&n<=s+d){if(r!==null&&document.contains(r)&&i!==r&&!i.contains(r)&&!r.contains(i)&&Me(r,i)>0){let e=r,t=!1;for(;e&&!e.contains(i);){if(je(e.getBoundingClientRect(),o,!0)){t=!0;break}e=e.parentElement}if(t)return}Ge.push(e)}})}function nt(e,t){Je.set(e,t)}function rt(){let e=!1,t=!1;Ge.forEach(n=>{let{direction:r}=n;r===`horizontal`?e=!0:t=!0});let n=0;Je.forEach(e=>{n|=e}),e&&t?Te(`intersection`,n,Ke):e?Te(`horizontal`,n,Ke):t?Te(`vertical`,n,Ke):we()}var it;function at(){var e;(e=it)==null||e.abort(),it=new AbortController;let t={capture:!0,signal:it.signal};Ye.size&&(Ke?(Ge.length>0&&qe.forEach((e,n)=>{let{body:r}=n;e>0&&(r.addEventListener(`contextmenu`,$e,t),r.addEventListener(`pointerleave`,Qe,t),r.addEventListener(`pointermove`,Qe,t))}),qe.forEach((e,n)=>{let{body:r}=n;r.addEventListener(`pointerup`,$e,t),r.addEventListener(`pointercancel`,$e,t)})):qe.forEach((e,n)=>{let{body:r}=n;e>0&&(r.addEventListener(`pointerdown`,Ze,t),r.addEventListener(`pointermove`,Qe,t))}))}function ot(e,t){Ye.forEach(n=>{let{setResizeHandlerState:r}=n;r(e,Ge.includes(n),t)})}function st(){let[e,t]=(0,x.useState)(0);return(0,x.useCallback)(()=>t(e=>e+1),[])}function ct(e,t){if(!e)throw console.error(t),Error(t)}function lt(e,t,n=ce){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function ut(e,t,n=ce){return lt(e,t,n)===0}function dt(e,t,n){return lt(e,t,n)===0}function ft(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],a=t[r];if(!dt(i,a,n))return!1}return!0}function pt({panelConstraints:e,panelIndex:t,size:n}){let r=e[t];ct(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:i=0,collapsible:a,maxSize:o=100,minSize:s=0}=r;if(lt(n,s)<0)if(a){let e=(i+s)/2;n=lt(n,e)<0?i:s}else n=s;return n=Math.min(o,n),n=parseFloat(n.toFixed(ce)),n}function mt({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:i,trigger:a}){if(dt(e,0))return t;let o=[...t],[s,c]=r;ct(s!=null,`Invalid first pivot index`),ct(c!=null,`Invalid second pivot index`);let l=0;if(a===`keyboard`){{let r=e<0?c:s,i=n[r];ct(i,`Panel constraints not found for index ${r}`);let{collapsedSize:a=0,collapsible:o,minSize:l=0}=i;if(o){let n=t[r];if(ct(n!=null,`Previous layout not found for panel index ${r}`),dt(n,a)){let t=l-n;lt(t,Math.abs(e))>0&&(e=e<0?0-t:t)}}}{let r=e<0?s:c,i=n[r];ct(i,`No panel constraints found for index ${r}`);let{collapsedSize:a=0,collapsible:o,minSize:l=0}=i;if(o){let n=t[r];if(ct(n!=null,`Previous layout not found for panel index ${r}`),dt(n,l)){let t=n-a;lt(t,Math.abs(e))>0&&(e=e<0?0-t:t)}}}}{let r=e<0?1:-1,i=e<0?c:s,a=0;for(;;){let e=t[i];ct(e!=null,`Previous layout not found for panel index ${i}`);let o=pt({panelConstraints:n,panelIndex:i,size:100})-e;if(a+=o,i+=r,i<0||i>=n.length)break}let o=Math.min(Math.abs(e),Math.abs(a));e=e<0?0-o:o}{let r=e<0?s:c;for(;r>=0&&r<n.length;){let i=Math.abs(e)-Math.abs(l),a=t[r];ct(a!=null,`Previous layout not found for panel index ${r}`);let s=a-i,c=pt({panelConstraints:n,panelIndex:r,size:s});if(!dt(a,c)&&(l+=a-c,o[r]=c,l.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?r--:r++}}if(ft(i,o))return i;{let r=e<0?c:s,i=t[r];ct(i!=null,`Previous layout not found for panel index ${r}`);let a=i+l,u=pt({panelConstraints:n,panelIndex:r,size:a});if(o[r]=u,!dt(u,a)){let t=a-u,r=e<0?c:s;for(;r>=0&&r<n.length;){let i=o[r];ct(i!=null,`Previous layout not found for panel index ${r}`);let a=i+t,s=pt({panelConstraints:n,panelIndex:r,size:a});if(dt(i,s)||(t-=s-i,o[r]=s),dt(t,0))break;e>0?r--:r++}}}return dt(o.reduce((e,t)=>t+e,0),100)?o:i}function ht({layout:e,panelsArray:t,pivotIndices:n}){let r=0,i=100,a=0,o=0,s=n[0];return ct(s!=null,`No pivot index found`),t.forEach((e,t)=>{let{constraints:n}=e,{maxSize:c=100,minSize:l=0}=n;t===s?(r=l,i=c):(a+=l,o+=c)}),{valueMax:Math.min(i,100-a),valueMin:Math.max(r,100-o),valueNow:e[s]}}function gt(e,t=document){return Array.from(t.querySelectorAll(`[${se.resizeHandleId}][data-panel-group-id="${e}"]`))}function _t(e,t,n=document){return gt(e,n).findIndex(e=>e.getAttribute(se.resizeHandleId)===t)??null}function vt(e,t,n){let r=_t(e,t,n);return r==null?[-1,-1]:[r,r+1]}function yt(e){return e instanceof HTMLElement?!0:typeof e==`object`&&!!e&&`tagName`in e&&`getAttribute`in e}function bt(e,t=document){return yt(t)&&t.dataset.panelGroupId==e?t:t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`)||null}function xt(e,t=document){return t.querySelector(`[${se.resizeHandleId}="${e}"]`)||null}function St(e,t,n,r=document){let i=xt(t,r),a=gt(e,r),o=i?a.indexOf(i):-1;return[n[o]?.id??null,n[o+1]?.id??null]}function Ct({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:i,panelGroupElement:a,setLayout:o}){(0,x.useRef)({didWarnAboutMissingResizeHandle:!1}),le(()=>{if(!a)return;let e=gt(n,a);for(let t=0;t<i.length-1;t++){let{valueMax:n,valueMin:a,valueNow:o}=ht({layout:r,panelsArray:i,pivotIndices:[t,t+1]}),s=e[t];if(s!=null){let e=i[t];ct(e,`No panel data found for index "${t}"`),s.setAttribute(`aria-controls`,e.id),s.setAttribute(`aria-valuemax`,``+Math.round(n)),s.setAttribute(`aria-valuemin`,``+Math.round(a)),s.setAttribute(`aria-valuenow`,o==null?``:``+Math.round(o))}}return()=>{e.forEach((e,t)=>{e.removeAttribute(`aria-controls`),e.removeAttribute(`aria-valuemax`),e.removeAttribute(`aria-valuemin`),e.removeAttribute(`aria-valuenow`)})}},[n,r,i,a]),(0,x.useEffect)(()=>{if(!a)return;let e=t.current;ct(e,`Eager values not found`);let{panelDataArray:i}=e;ct(bt(n,a)!=null,`No group found for id "${n}"`);let s=gt(n,a);ct(s,`No resize handles found for group id "${n}"`);let c=s.map(e=>{let t=e.getAttribute(se.resizeHandleId);ct(t,`Resize handle element has no handle id attribute`);let[s,c]=St(n,t,i,a);if(s==null||c==null)return()=>{};let l=e=>{if(!e.defaultPrevented)switch(e.key){case`Enter`:{e.preventDefault();let c=i.findIndex(e=>e.id===s);if(c>=0){let e=i[c];ct(e,`No panel data found for index ${c}`);let s=r[c],{collapsedSize:l=0,collapsible:u,minSize:d=0}=e.constraints;if(s!=null&&u){let e=mt({delta:dt(s,l)?d-l:l-s,initialLayout:r,panelConstraints:i.map(e=>e.constraints),pivotIndices:vt(n,t,a),prevLayout:r,trigger:`keyboard`});r!==e&&o(e)}}break}}};return e.addEventListener(`keydown`,l),()=>{e.removeEventListener(`keydown`,l)}});return()=>{c.forEach(e=>e())}},[a,e,t,n,r,i,o])}function wt(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Tt(e,t){let n=e===`horizontal`,{x:r,y:i}=ke(t);return n?r:i}function Et(e,t,n,r,i){let a=n===`horizontal`,o=xt(t,i);ct(o,`No resize handle element found for id "${t}"`);let s=o.getAttribute(se.groupId);ct(s,`Resize handle element has no group id attribute`);let{initialCursorPosition:c}=r,l=Tt(n,e),u=bt(s,i);ct(u,`No group element found for id "${s}"`);let d=u.getBoundingClientRect(),f=a?d.width:d.height;return(l-c)/f*100}function Dt(e,t,n,r,i,a){if(Ee(e)){let t=n===`horizontal`,r=0;r=e.shiftKey?100:i??10;let a=0;switch(e.key){case`ArrowDown`:a=t?0:r;break;case`ArrowLeft`:a=t?-r:0;break;case`ArrowRight`:a=t?r:0;break;case`ArrowUp`:a=t?0:-r;break;case`End`:a=100;break;case`Home`:a=-100;break}return a}else return r==null?0:Et(e,t,n,r,a)}function Ot({panelDataArray:e}){let t=Array(e.length),n=e.map(e=>e.constraints),r=0,i=100;for(let a=0;a<e.length;a++){let e=n[a];ct(e,`Panel constraints not found for index ${a}`);let{defaultSize:o}=e;o!=null&&(r++,t[a]=o,i-=o)}for(let a=0;a<e.length;a++){let o=n[a];ct(o,`Panel constraints not found for index ${a}`);let{defaultSize:s}=o;if(s!=null)continue;let c=e.length-r,l=i/c;r++,t[a]=l,i-=l}return t}function kt(e,t,n){t.forEach((t,r)=>{let i=e[r];ct(i,`Panel data not found for index ${r}`);let{callbacks:a,constraints:o,id:s}=i,{collapsedSize:c=0,collapsible:l}=o,u=n[s];if(u==null||t!==u){n[s]=t;let{onCollapse:e,onExpand:r,onResize:i}=a;i&&i(t,u),l&&(e||r)&&(r&&(u==null||ut(u,c))&&!ut(t,c)&&r(),e&&(u==null||!ut(u,c))&&ut(t,c)&&e())}})}function At(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function jt({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:i,precision:a=3}){let o=n[i],s;return s=o==null?e==null?`1`:e.toFixed(a):r.length===1?`1`:o.toFixed(a),{flexBasis:0,flexGrow:s,flexShrink:1,overflow:`hidden`,pointerEvents:t===null?void 0:`none`}}function Mt(e,t=10){let n=null;return(...r)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...r)},t)}}function Nt(e){try{if(typeof localStorage<`u`)e.getItem=e=>localStorage.getItem(e),e.setItem=(e,t)=>{localStorage.setItem(e,t)};else throw Error(`localStorage not supported in this environment`)}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Pt(e){return`react-resizable-panels:${e}`}function Ft(e){return e.map(e=>{let{constraints:t,id:n,idIsFromProps:r,order:i}=e;return r?n:i?`${i}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(`,`)}function It(e,t){try{let n=Pt(e),r=t.getItem(n);if(r){let e=JSON.parse(r);if(typeof e==`object`&&e)return e}}catch{}return null}function Lt(e,t,n){return(It(e,n)??{})[Ft(t)]??null}function Rt(e,t,n,r,i){let a=Pt(e),o=Ft(t),s=It(e,i)??{};s[o]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{i.setItem(a,JSON.stringify(s))}catch(e){console.error(e)}}function zt({layout:e,panelConstraints:t}){let n=[...e],r=n.reduce((e,t)=>e+t,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(e=>`${e}%`).join(`, `)}`);if(!dt(r,100)&&n.length>0)for(let e=0;e<t.length;e++){let t=n[e];ct(t!=null,`No layout data found for index ${e}`),n[e]=100/r*t}let i=0;for(let e=0;e<t.length;e++){let r=n[e];ct(r!=null,`No layout data found for index ${e}`);let a=pt({panelConstraints:t,panelIndex:e,size:r});r!=a&&(i+=r-a,n[e]=a)}if(!dt(i,0))for(let e=0;e<t.length;e++){let r=n[e];ct(r!=null,`No layout data found for index ${e}`);let a=r+i,o=pt({panelConstraints:t,panelIndex:e,size:a});if(r!==o&&(i-=o-r,n[e]=o,dt(i,0)))break}return n}var Bt=100,Vt={getItem:e=>(Nt(Vt),Vt.getItem(e)),setItem:(e,t)=>{Nt(Vt),Vt.setItem(e,t)}},Ht={};function Ut({autoSaveId:e=null,children:t,className:n=``,direction:r,forwardedRef:i,id:a=null,onLayout:o=null,keyboardResizeBy:s=null,storage:c=Vt,style:l,tagName:u=`div`,...d}){let f=pe(a),p=(0,x.useRef)(null),[m,h]=(0,x.useState)(null),[g,_]=(0,x.useState)([]),v=st(),ee=(0,x.useRef)({}),te=(0,x.useRef)(new Map),ne=(0,x.useRef)(0),y=(0,x.useRef)({autoSaveId:e,direction:r,dragState:m,id:f,keyboardResizeBy:s,onLayout:o,storage:c}),b=(0,x.useRef)({layout:g,panelDataArray:[],panelDataArrayChanged:!1});(0,x.useRef)({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),(0,x.useImperativeHandle)(i,()=>({getId:()=>y.current.id,getLayout:()=>{let{layout:e}=b.current;return e},setLayout:e=>{let{onLayout:t}=y.current,{layout:n,panelDataArray:r}=b.current,i=zt({layout:e,panelConstraints:r.map(e=>e.constraints)});wt(n,i)||(_(i),b.current.layout=i,t&&t(i),kt(r,i,ee.current))}}),[]),le(()=>{y.current.autoSaveId=e,y.current.direction=r,y.current.dragState=m,y.current.id=f,y.current.onLayout=o,y.current.storage=c}),Ct({committedValuesRef:y,eagerValuesRef:b,groupId:f,layout:g,panelDataArray:b.current.panelDataArray,setLayout:_,panelGroupElement:p.current}),(0,x.useEffect)(()=>{let{panelDataArray:t}=b.current;if(e){if(g.length===0||g.length!==t.length)return;let n=Ht[e];n??(n=Mt(Rt,Bt),Ht[e]=n);let r=[...t],i=new Map(te.current);n(e,r,i,g,c)}},[e,g,c]),(0,x.useEffect)(()=>{});let re=(0,x.useCallback)(e=>{let{onLayout:t}=y.current,{layout:n,panelDataArray:r}=b.current;if(e.constraints.collapsible){let i=r.map(e=>e.constraints),{collapsedSize:a=0,panelSize:o,pivotIndices:s}=Kt(r,e,n);if(ct(o!=null,`Panel size not found for panel "${e.id}"`),!ut(o,a)){te.current.set(e.id,o);let c=mt({delta:Gt(r,e)===r.length-1?o-a:a-o,initialLayout:n,panelConstraints:i,pivotIndices:s,prevLayout:n,trigger:`imperative-api`});At(n,c)||(_(c),b.current.layout=c,t&&t(c),kt(r,c,ee.current))}}},[]),ie=(0,x.useCallback)((e,t)=>{let{onLayout:n}=y.current,{layout:r,panelDataArray:i}=b.current;if(e.constraints.collapsible){let a=i.map(e=>e.constraints),{collapsedSize:o=0,panelSize:s=0,minSize:c=0,pivotIndices:l}=Kt(i,e,r),u=t??c;if(ut(s,o)){let t=te.current.get(e.id),o=t!=null&&t>=u?t:u,c=mt({delta:Gt(i,e)===i.length-1?s-o:o-s,initialLayout:r,panelConstraints:a,pivotIndices:l,prevLayout:r,trigger:`imperative-api`});At(r,c)||(_(c),b.current.layout=c,n&&n(c),kt(i,c,ee.current))}}},[]),ae=(0,x.useCallback)(e=>{let{layout:t,panelDataArray:n}=b.current,{panelSize:r}=Kt(n,e,t);return ct(r!=null,`Panel size not found for panel "${e.id}"`),r},[]),ce=(0,x.useCallback)((e,t)=>{let{panelDataArray:n}=b.current;return jt({defaultSize:t,dragState:m,layout:g,panelData:n,panelIndex:Gt(n,e)})},[m,g]),ue=(0,x.useCallback)(e=>{let{layout:t,panelDataArray:n}=b.current,{collapsedSize:r=0,collapsible:i,panelSize:a}=Kt(n,e,t);return ct(a!=null,`Panel size not found for panel "${e.id}"`),i===!0&&ut(a,r)},[]),de=(0,x.useCallback)(e=>{let{layout:t,panelDataArray:n}=b.current,{collapsedSize:r=0,collapsible:i,panelSize:a}=Kt(n,e,t);return ct(a!=null,`Panel size not found for panel "${e.id}"`),!i||lt(a,r)>0},[]),fe=(0,x.useCallback)(e=>{let{panelDataArray:t}=b.current;t.push(e),t.sort((e,t)=>{let n=e.order,r=t.order;return n==null&&r==null?0:n==null?-1:r==null?1:n-r}),b.current.panelDataArrayChanged=!0,v()},[v]);le(()=>{if(b.current.panelDataArrayChanged){b.current.panelDataArrayChanged=!1;let{autoSaveId:e,onLayout:t,storage:n}=y.current,{layout:r,panelDataArray:i}=b.current,a=null;if(e){let t=Lt(e,i,n);t&&(te.current=new Map(Object.entries(t.expandToSizes)),a=t.layout)}a??=Ot({panelDataArray:i});let o=zt({layout:a,panelConstraints:i.map(e=>e.constraints)});wt(r,o)||(_(o),b.current.layout=o,t&&t(o),kt(i,o,ee.current))}}),le(()=>{let e=b.current;return()=>{e.layout=[]}},[]);let me=(0,x.useCallback)(e=>{let t=!1,n=p.current;return n&&window.getComputedStyle(n,null).getPropertyValue(`direction`)===`rtl`&&(t=!0),function(n){n.preventDefault();let r=p.current;if(!r)return()=>null;let{direction:i,dragState:a,id:o,keyboardResizeBy:s,onLayout:c}=y.current,{layout:l,panelDataArray:u}=b.current,{initialLayout:d}=a??{},f=vt(o,e,r),m=Dt(n,e,i,a,s,r),h=i===`horizontal`;h&&t&&(m=-m);let g=u.map(e=>e.constraints),v=mt({delta:m,initialLayout:d??l,panelConstraints:g,pivotIndices:f,prevLayout:l,trigger:Ee(n)?`keyboard`:`mouse-or-touch`}),te=!At(l,v);(De(n)||Oe(n))&&ne.current!=m&&(ne.current=m,!te&&m!==0?h?nt(e,m<0?Be:Ve):nt(e,m<0?He:Ue):nt(e,0)),te&&(_(v),b.current.layout=v,c&&c(v),kt(u,v,ee.current))}},[]),he=(0,x.useCallback)((e,t)=>{let{onLayout:n}=y.current,{layout:r,panelDataArray:i}=b.current,a=i.map(e=>e.constraints),{panelSize:o,pivotIndices:s}=Kt(i,e,r);ct(o!=null,`Panel size not found for panel "${e.id}"`);let c=mt({delta:Gt(i,e)===i.length-1?o-t:t-o,initialLayout:r,panelConstraints:a,pivotIndices:s,prevLayout:r,trigger:`imperative-api`});At(r,c)||(_(c),b.current.layout=c,n&&n(c),kt(i,c,ee.current))},[]),ge=(0,x.useCallback)((e,t)=>{let{layout:n,panelDataArray:r}=b.current,{collapsedSize:i=0,collapsible:a}=t,{collapsedSize:o=0,collapsible:s,maxSize:c=100,minSize:l=0}=e.constraints,{panelSize:u}=Kt(r,e,n);u!=null&&(a&&s&&ut(u,i)?ut(i,o)||he(e,o):u<l?he(e,l):u>c&&he(e,c))},[he]),_e=(0,x.useCallback)((e,t)=>{let{direction:n}=y.current,{layout:r}=b.current;if(!p.current)return;let i=xt(e,p.current);ct(i,`Drag handle element not found for id "${e}"`);let a=Tt(n,t);h({dragHandleId:e,dragHandleRect:i.getBoundingClientRect(),initialCursorPosition:a,initialLayout:r})},[]),ve=(0,x.useCallback)(()=>{h(null)},[]),ye=(0,x.useCallback)(e=>{let{panelDataArray:t}=b.current,n=Gt(t,e);n>=0&&(t.splice(n,1),delete ee.current[e.id],b.current.panelDataArrayChanged=!0,v())},[v]),be=(0,x.useMemo)(()=>({collapsePanel:re,direction:r,dragState:m,expandPanel:ie,getPanelSize:ae,getPanelStyle:ce,groupId:f,isPanelCollapsed:ue,isPanelExpanded:de,reevaluatePanelConstraints:ge,registerPanel:fe,registerResizeHandle:me,resizePanel:he,startDragging:_e,stopDragging:ve,unregisterPanel:ye,panelGroupElement:p.current}),[re,m,r,ie,ae,ce,f,ue,de,ge,fe,me,he,_e,ve,ye]),xe={display:`flex`,flexDirection:r===`horizontal`?`row`:`column`,height:`100%`,overflow:`hidden`,width:`100%`};return(0,x.createElement)(oe.Provider,{value:be},(0,x.createElement)(u,{...d,children:t,className:n,id:a,ref:p,style:{...xe,...l},[se.group]:``,[se.groupDirection]:r,[se.groupId]:f}))}var Wt=(0,x.forwardRef)((e,t)=>(0,x.createElement)(Ut,{...e,forwardedRef:t}));Ut.displayName=`PanelGroup`,Wt.displayName=`forwardRef(PanelGroup)`;function Gt(e,t){return e.findIndex(e=>e===t||e.id===t.id)}function Kt(e,t,n){let r=Gt(e,t),i=r===e.length-1?[r-1,r]:[r,r+1],a=n[r];return{...t.constraints,panelSize:a,pivotIndices:i}}function qt({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){(0,x.useEffect)(()=>{if(e||n==null||r==null)return;let i=xt(t,r);if(i==null)return;let a=e=>{if(!e.defaultPrevented)switch(e.key){case`ArrowDown`:case`ArrowLeft`:case`ArrowRight`:case`ArrowUp`:case`End`:case`Home`:e.preventDefault(),n(e);break;case`F6`:{e.preventDefault();let n=i.getAttribute(se.groupId);ct(n,`No group element found for id "${n}"`);let a=gt(n,r),o=_t(n,t,r);ct(o!==null,`No resize element found for id "${t}"`),a[e.shiftKey?o>0?o-1:a.length-1:o+1<a.length?o+1:0].focus();break}}};return i.addEventListener(`keydown`,a),()=>{i.removeEventListener(`keydown`,a)}},[r,e,t,n])}function Jt({children:e=null,className:t=``,disabled:n=!1,hitAreaMargins:r,id:i,onBlur:a,onClick:o,onDragging:s,onFocus:c,onPointerDown:l,onPointerUp:u,style:d={},tabIndex:f=0,tagName:p=`div`,...m}){let h=(0,x.useRef)(null),g=(0,x.useRef)({onClick:o,onDragging:s,onPointerDown:l,onPointerUp:u});(0,x.useEffect)(()=>{g.current.onClick=o,g.current.onDragging=s,g.current.onPointerDown=l,g.current.onPointerUp=u});let _=(0,x.useContext)(oe);if(_===null)throw Error(`PanelResizeHandle components must be rendered within a PanelGroup container`);let{direction:v,groupId:ee,registerResizeHandle:te,startDragging:ne,stopDragging:y,panelGroupElement:b}=_,re=pe(i),[ie,ae]=(0,x.useState)(`inactive`),[ce,ue]=(0,x.useState)(!1),[de,fe]=(0,x.useState)(null),me=(0,x.useRef)({state:ie});le(()=>{me.current.state=ie}),(0,x.useEffect)(()=>{if(n)fe(null);else{let e=te(re);fe(()=>e)}},[n,re,te]);let he=r?.coarse??15,ge=r?.fine??5;(0,x.useEffect)(()=>{if(n||de==null)return;let e=h.current;ct(e,`Element ref not attached`);let t=!1;return Xe(re,e,v,{coarse:he,fine:ge},(e,n,r)=>{if(!n){ae(`inactive`);return}switch(e){case`down`:{ae(`drag`),t=!1,ct(r,`Expected event to be defined for "down" action`),ne(re,r);let{onDragging:e,onPointerDown:n}=g.current;e?.(!0),n?.();break}case`move`:{let{state:e}=me.current;t=!0,e!==`drag`&&ae(`hover`),ct(r,`Expected event to be defined for "move" action`),de(r);break}case`up`:{ae(`hover`),y();let{onClick:e,onDragging:n,onPointerUp:r}=g.current;n?.(!1),r?.(),t||e?.();break}}})},[he,v,n,ge,te,re,de,ne,y]),qt({disabled:n,handleId:re,resizeHandler:de,panelGroupElement:b});let _e={touchAction:`none`,userSelect:`none`};return(0,x.createElement)(p,{...m,children:e,className:t,id:i,onBlur:()=>{ue(!1),a?.()},onFocus:()=>{ue(!0),c?.()},ref:h,role:`separator`,style:{..._e,...d},tabIndex:f,[se.groupDirection]:v,[se.groupId]:ee,[se.resizeHandle]:``,[se.resizeHandleActive]:ie===`drag`?`pointer`:ce?`keyboard`:void 0,[se.resizeHandleEnabled]:!n,[se.resizeHandleId]:re,[se.resizeHandleState]:ie})}Jt.displayName=`PanelResizeHandle`;const Yt=p.getDesignToken();var Xt=c(`position:relative;width:1px;.devops-resize-handle-line{position:absolute;width:1px;height:100%;background-color:`,Yt.colorBorder,`;}&[data-resize-handle-state="hover"],&[data-resize-handle-state="drag"]{.devops-resize-handle-line{width:3px;left:-1px;background-color:`,Yt.colorPrimaryBgHover,`;}}`,``);const Zt=({autoSaveId:e,left:t,center:n,right:r,leftProps:o,centerProps:s,rightProps:c})=>a(Wt,{direction:`horizontal`,autoSaveId:e,children:[t&&i(he,{order:1,...o,children:t}),t&&n&&i(Jt,{className:Xt,children:i(`div`,{className:`devops-resize-handle-line`})}),n&&i(he,{order:2,...s,children:n}),(t||n)&&r&&i(Jt,{className:Xt,children:i(`div`,{className:`devops-resize-handle-line`})}),r&&i(he,{order:3,...c,children:r})]}),Qt=[`1	世界是一切发生的事情。`,`1.1	世界是事实的总体，而不是事物的总体。`,`1.11	世界为诸事实所规定，为它们即是<emphasis>全部</emphasis>事实所规定。`,`1.12	因为事实的总体规定那发生的事情，也规定那所有未发生的事情。`,`1.13	在逻辑空间中的诸事实就是世界。`,`1.2	世界分解为诸事实。`,`1.21	每项事情可以发生或者不发生，其余的一切则仍保持原样。`,`2	发生的事情，即事实，就是诸事态<footnote>“Sachverhalt”一词较早的英译文中都按照罗素的用语译为“原子事实”（atomic fact）。鉴于维特根斯坦对该词的使用与罗素的用语意思不全相同，因此在这里按照《逻辑哲学论》较新的英译本（1961年 D.F.皮尔斯和 B.F.麦克吉尼斯译）译为“事态”（State of affairs）。——译者</footnote>的存在。`,`2.01	事态是对象（事物）的结合。`,`2.011	事物的本质在于能够成为事态的组成部分。`,`2.012	逻辑中没有偶然的东西：如果一个事物<emphasis>能够</emphasis>出现在一个事态中，那么该事态的可能性必定已经预含于该事物之中。`,`2.0121	如果一个事物本身能够独立存在，那么后来的适合于它的状况看来就是一种偶然的事情。
如果事物能够出现于事态之中，那么这一可能性必定一开始就已经存在于事物之中。
（在逻辑中没有纯粹是可能的事情。逻辑涉及每一种可能性，而一切可能性都是逻辑的事实。）
正如我们根本不能在空间之外思想空间对象，或者在时间之外思想时间对象一样，离开同其他对象结合的可能性，我们也<emphasis>不能</emphasis>思想一个对象。
如果我能够思想在事态中结合的对象，我就不能离开这种结合的<emphasis>可能性</emphasis>来思想对象。`,`2.0122	事物就其能够出现在一切<emphasis>可能的</emphasis>状况中而言是独立的，但是这种独立性的形式是一种与事态相联系的形式，即一种依赖的形式。（词以两种不同的方式——单独地和在命题中——出现是不可能的。）`,`2.0123	假如我知道一个对象，我也就知道它出现于诸事态中的所有可能性。
（每一个这种可能性必定在该对象的本性中。）
之后不可能发现新的可能性。`,`2.01231	如果我要知道一个对象，虽然我不一定要知道它的外在性质，但是我必须知道它的一切内在性质。`,`2.0124	如果给出所有的对象，那么同时也就给出了所有<emphasis>可能的</emphasis>事态。`,`2.013	每个事物都像是在一个可能事态的空间里。我可以设想这个空间是空的，但是我不能设想没有这空间的事物。`,`2.0131	空间对象必须处在无限的空间之中。（一个空间点就是一个主目位置。）
视域里的一个斑块，虽然不一定是红的，但它必须有某种颜色：所以说它被颜色空间[Farbenraum]所包围。音调必须具有<emphasis>某种</emphasis>高度，触觉对象必须具有<emphasis>某种</emphasis>硬度，等等。`,`2.014	对象包含着一切状况的可能性。`,`2.0141	对象出现在诸事态中的可能性就是对象的形式。`,`2.02	对象是简单的。`,`2.0201	每一个关于复合物的陈述可以分解为关于其各组成部分的陈述，分解为完全地描述该复合物的一些命题。`,`2.021	对象构成世界的实体。因此它们不能是复合的。`,`2.0211	假如世界没有实体，那么一个命题是否有意义就依赖于另一个命题是否为真。`,`2.0212	在这种情况下就不可能勾画出世界的任何图像（真的或假的）。`,`2.022	显然，一个想象的世界，无论它怎样不同于实在的世界，必有某种东西——一种形式——为它与实在的世界所共有。`,`2.023	正是诸对象构成这种不变的形式。`,`2.0231	世界的实体只<emphasis>能</emphasis>规定一种形式，而不能规定任何物质的属性。因为物质的属性只有通过命题来表述——只有通过对象的配置来构成。`,`2.0232	顺便说一下，对象是无色的。`,`2.0233	如果两个对象具有相同的逻辑形式，除了它们外在性质的差异之外，它们之间唯一的区别就是：它们是不同的。`,`2.02331	或者一个事物具有别的任何事物都没有的属性，这时我们可以直接用一个描述使它同别的事物区分开来并指谓它；或者另一种情形，有好几个事物，它们的全部属性都是共有的，这时就完全不可能从它们之中指出某一个来。
因为如果没有任何东西来区分一个事物，我就不能区分它，不然的话它总是会被区分开来的。`,`2.024	实体是独立于发生的事情而存在的。`,`2.025	它是形式和内容。`,`2.0251	空间、时间和颜色（有色性）是对象的形式。`,`2.026	如果世界要有一个不变的形式，就必须要有对象。`,`2.027	不变者、实存者和对象是一个东西。`,`2.0271	对象是不变的和实存的；它们的配置则是可变的和不定的。`,`2.0272	对象的配置构成事态。`,`2.03	在事态中对象就像链条的环节那样互相勾连。`,`2.031	在事态中对象之间以一定的方式相互关联。`,`2.032	对象在事态中发生联系的一定的方式，即是事态的结构。`,`2.033	形式是结构的可能性。`,`2.034	事实的结构由诸事态的结构组成。`,`2.04	存在的事态的总体即是世界。`,`2.05	存在的事态的总体也规定哪些事态不存在。`,`2.06	事态的存在和不存在即是实在。（我们还把事态的存在称为肯定的事实，把事态的不存在称为否定的事实。）`,`2.061	事态相互间是独立的。`,`2.062	从一个事态的存在或不存在不能推出另一个事态的存在或不存在。`,`2.063	全部实在即是世界。`,`2.1	我们给我们自己建造事实的图像。`,`2.11	图像描述逻辑空间中的情况，即事态的存在或不存在。`,`2.12	图像是实在的一种模型。`,`2.13	在图像中图像的要素与对象相对应。`,`2.131	在图像中图像的要素代表对象。`,`2.14	图像的要素以一定的方式相互关联而构成为图像。`,`2.141	图像是一种事实。`,`2.15	图像的要素以一定的方式相互关联，这表明事物也是以同样方式相直关联的。
图像要素的这种关联称为图像的结构，而这种结构的可能性则称为图像的图示形式。`,`2.151	图示形式是这种可能性，即事物之间的联系方式和图像要素之间的联系方式是相同的。`,`2.1511	图像就是<emphasis>这样</emphasis>依附于实在的；它直接触及实在。`,`2.1512	它就像一把衡量实在的标尺。`,`2.15121	只有分度线的端点才真正<emphasis>接触到</emphasis>被测量的对象。`,`2.1513	按照这种理解，图像也应包含使之成为图像的图示关系。`,`2.1514	图示关系是由图像要素和事物之间的相关构成的。`,`2.1515	这些相关像是图像要素的触角，图像通过这些触角而接触实在。`,`2.16	事实要成为图像，它和被图示者必须有某种共同的东西。`,`2.161	在图像和被图示者中必须有某种同一的东西，因此前者才能是后者的图像。`,`2.17	图像为了能以自己的方式——正确地或错误地——图示实在而必须和实在共有的东西，就是它的图示形式。`,`2.171	图像能够图承其形式为图像所具有的一切实在。
空间图像能够图示一切空间的东西，颜色图像能够图示一切有色的东西，等等。`,`2.172	然而图像不能图示它的图示形式；图像显示它的图示形式。`,`2.173	图像从外部表现它的对象。（它的观点就是它的表现形式。）因此图像会正确地或错误地表现它的对象。`,`2.174	然而图像本身不能处在它的表现形式之外。`,`2.18	任何图像，无论具有什么形式，为了能够一般地以某种方式正确或错误地图示实在而必须和实在共有的东西，就是逻辑形式，即实在的形式。`,`2.181	若图示形式为逻辑形式，图像即称为逻辑图像。`,`2.182	每一个图像<emphasis>同时也</emphasis>是一个逻辑图像。（另一方面，例如，并非每一个图像都 是一个空间图像。）`,`2.19	逻辑图像可以图示世界。`,`2.2	图像和被图示者共有逻辑图示形式。`,`2.201	图像用表现事态存在和不存在的可能性来图示实在。`,`2.202	图像表现逻辑空间中的一种可能状况。`,`2.203	图像包含它所表现的状况的可能性。`,`2.21	图像与实在符合或者不符合；它是正确的或者错误的，真的或者假的。`,`2.22	图像通过图示形式表现它所表现的东西，而与图像本身为真或为假无关。`,`2.221	图像所表现的东西是图像的意义。`,`2.222	图像的真或假就在于它的意义与实在符合或者不符合。`,`2.223	要能看出图像的真假，必须将它同实在比较。`,`2.224	单从图像自身不能看出它的真假。`,`2.225	没有先天为真的图像。`,`3	事实的逻辑图像是思想。`,`3.001	“事态是可以思想的”，意思是说，我们自己可以构造事态的图像。`,`3.01	真的思想的总体就是一幅世界的图像。`,`3.02	思想包含它所思想的情况的可能性。可以思想的东西也就是可能的东西。`,`3.03	我们不能思想非逻辑的东西，否则我们就必须非逻辑地思想。`,`3.031	常言道，上帝能够创造一切，只是不能创造速反逻辑规律的东西。这就是说，我们不能<emphasis>说</emphasis>一个“非逻辑的”世界会是什么样子。`,`3.032	在语言中不能表现任何“违反逻辑”的东西，就像在几何学中不能用坐标来表现违反空间规律的图形，或者给出一个并不存在的点的坐标一样。`,`3.0321	虽然我们能在空间上表现一个违反物理规律的事态，但是我们不能在空间上表现一个违反几何规律的事态。`,`3.04	如果一个思想是先天地正确的，那么它就是一个其可能性即保证了其真理性的思想。`,`3.05	仅当一个思想的真从它自身（无须同任何东西比较）就能看出时，我们才有关于一个思想为真的先天的知识。`,`3.1	思想在命题中得到了一种可由感官感知到的表达。`,`3.11	我们用命题中的可由感官感知的记号（声音的或书写的记号等等）作为可能情况的投影。
投影的方法就是思考命题的意义。`,`3.12	我们用以表达思想的记号我称为命题记号。一个命题就是一个处在对世界的投影关系中的命题记号。`,`3.13	命题包括投影所包括的一切，而不包括被投影者。
因此命题包括的是被投影者的可能性，而不是被投影者本身。
因此命题中也不包含命题的意义，而只包含表达其意义的可能性。
（“命题的内容”是指有意义的命题的内容。）
命题中包含命题意义的形式而非其内容。`,`3.14	命题记号的构成，在于其中的要素（语词）是以一定方式相互关联的。
命题记号即是事实。`,`3.141	命题不是词的混合。——（就像音乐的主旋律不是音调的混合一样。）
命题是可以有节奏地说出的［artikuliert］。`,`3.142	只有事实才能表达意义，一组名称不能表达意义。`,`3.143	虽然命题记号即是事实，但是这一点却被通常的书写和印刷的表达形式所掩盖。
因为，例如在一个印刷出来的命题中，命题记号和词之间看起来并没有重大差别。
（这可能就是使弗雷格把命题称为复合名称的原因。）`,`3.1431	如果我们设想一个命题记号是由一些空间对象（例如桌子、椅子和书本）组成，而不是由一些书写记号组成，它的本质就会看得很清楚。
于是这些东西的空间分布就表达出这个命题的意义。`,`3.1432	我们必不可说：“复合记号‘aRb’说的是 a 和 b 处在关系 R 中”，而必须说：“‘a’和‘b’”处于某种关系中<emphasis>这一事实</emphasis>说的是，aRb <emphasis>这一事实</emphasis>。”`,`3.144	情况可以描述，但是不能<emphasis>命名</emphasis>。
（名称像是一些点；命题像是一些箭头——它们具有意义。）`,`3.2	在命题中思想可以这样来表达，使得命题记号的要素与思想的对象相对应。`,`3.201	我称这些要素为“简单记号”，称这命题为“完全分析了的”命题。`,`3.202	命题中使用的简单记号称为名称。`,`3.203	名称意指对象。对象是名称的指谓。（“A”和“A”是同一个记号。）`,`3.21	简单记号在命题记号中的配置；对应于对象在情况中的配置。`,`3.22	对象只能<emphasis>被命名</emphasis>。记号是对象的代表。我只能谈<emphasis>到</emphasis>对象，而不能<emphasis>用语词说出它们来</emphasis>。命题只能说事物是<emphasis>怎样的</emphasis>，而不能说它们是<emphasis>什么</emphasis>。`,`3.23	要求简单记号的可能性，就是要求意义的确定性。`,`3.24	关于复合物的命题与关于其组成部分的命题有一种内在的关系。
复合物只能通过对它的描述而给出，这描述可以是正确的或错误的。说到一个复合物的命题，如果这个复合物不存在，那么这个命题不是无意义的，而只是假的。
当一个命题要素标示一个复合物时，可以从它在其中出现的命题的不确定性看出来。我们<emphasis>知道</emphasis>，这种情形下这个命题有些东西是没有规定的。（概括性记号总是<emphasis>包含</emphasis>一种原型。）
把复合物的符号压缩为简单符号，可以用定义来表达。`,`3.25	命题有一个而且只有一个完全的分析。`,`3.251	命题以确定的可以清楚陈述的方式表达它所表达的东西：命题是可以有节奏地说出的。`,`3.26	名称不可用定义来作任何进一步的分析：名称是一种初始记号。`,`3.261	每个被定义的记号<emphasis>通过</emphasis>那些定义它的记号而起标示作用；定义则指明这一途径。
两个记号，如果一个是初始记号，而另一个是用一些初始记号定义的记号，则二者不能以相同的方式起标示作用。名称<emphasis>不能</emphasis>用定义来分解。（任何一个自身独立地具有指谓的记号也是如此。）`,`3.262	记号不能表达的东西，其应用显示之。记号隐略了的东西，其应用清楚地说出之。`,`3.263	初始记号的指谓可以通过解释来说明。解释就是包含初始记号的命题。所以只有已经知道这些记号的指谓，才能理解它们。`,`3.3	只有命题才有意义；只有在命题的联系关系中名称才有指谓。`,`3.31	命题中表征其意义的每个部分我都称为表达式（或符号）。
（命题本身是一个表达式。）
凡是能够为诸命题所共有、对于命题的意义具有本质重要性的，都是表达式。
一个表达式标志一个形式和一个内容。`,`3.311	表达式以它能够在其中出现的所有命题的形式为前提。它是一类命题的共同特征的标记。`,`3.312	因此表达式表现为它所表征的那些命题的一般形式。
事实上，在这一形式中表达式为<emphasis>常项</emphasis>，而其余的一切都是<emphasis>变项</emphasis>。`,`3.313	因此表达式为一变项所表现，这变项的值就是那些包含该表达式的命题。
（在极限情况下，变项成为常项，表达式成为命题。）
我称这样一种变项为“命题变项”。`,`3.314	表达式只有在命题中才有指谓。所有变项都可理解为命题变项。
（连变名也一样。）`,`3.315	如果我们把命题的一个组成部分改为变项，就有了一类命题，它们全都是由此得来的变项命题的值。这个类一般还依赖于我们按任意约定所给予的原来命题各组成部分的指谓。但是，如果把其中已任意规定了指谓的所有记号都改为变项，仍然会得到一个这样的类。这个类不再依赖于任何约定，而仅仅依赖于命题的本性。它相应于一种逻辑形式——一种逻辑原型。`,`3.316	一个命题变项可以取一些什么值是某种被规定了的东西。
值的规定<emphasis>即是</emphasis>变项。`,`3.317	规定命题变项的值就是<emphasis>给出</emphasis>以这变项为共同特征的<emphasis>那些命题</emphasis>。
规定就是描述这些命题。
因此规定只涉及符号，而不涉及它们的指谓。
对于规定来说<emphasis>唯一</emphasis>重要的事情在于，<emphasis>它仅仅是对符号的描述</emphasis>，<emphasis>而对符号所标示的东西不作任何陈述</emphasis>。
命题的描述如何产生，那是不重要的。`,`3.318	像弗雷格和罗素一样，我把命题看成是其中包含的表达式的函项。`,`3.32	记号是一个符号中可以被感官感知到的东西。`,`3.321	故同一个记号（书写记号或声音记号等等）可以为两个不同的符号所共有——这时两者是以不同的方式在标示。`,`3.322	如果我们应用同一个记号，而以不同的标示方式来标示两个不同的对象，这 样做决不能指示这两者有一个共同的特征。当然，这是因为这记号是未加规定的。因此 我们可以选用两个不同的记号，这样，标示者一方还保持有什么共同点呢？`,`3.322	如果我们应用同一个记号，而以不同的<emphasis>标示方式</emphasis>来标示两个不同的对象，这样做决不能指示这两者有一个共同的特征。当然，这是因为这记号是未加规定的。因此我们可以选用两个不同的记号，这样，标示者一方还保持有什么共同点呢？`,`3.323	在日常语言中经常碰到同一个词有着不同的标示方式——因而属于不同的符号——，或者有着不同标示方式的两个词以表面上相似的方式应用于命题之中。
就如“是”（ist）这个词既作为系词，也作为相等的记号和存在的表达式<footnote>德语“ist”一间也可用作表示“存在’、“有”。——译者</footnote>出现，“存在”（existieren）作为像“去”（gehen）一样的不及物动词出现；“同一的”（identisch）作为一个形容词出现；我们说到<emphasis>某事</emphasis>，同时也意味着说到<emphasis>某事</emphasis>的发生。
（在命题“Gtün ist grün<footnote>“格林是不成熟的。”——译者</footnote>”中，第一个词“Grün”是一个人的专名，最后一个词“grün”是一个形容词，这两个词不仅具有不同的指谓，而且它们是<emphasis>不同的符号</emphasis>。）`,`3.324	这样就容易发生最根本的混淆（整个哲学充满着这类混淆）。`,`3.325	为了避免这类错误，我们必须使用一种能够排除这类错误的记号语言，其中不将同一记号用于不同的符号中，也不以表面上相似的方式应用那些有着不同的标示方式的记号：也就是说，要使用一种遵从<emphasis>逻辑</emphasis>语法——逻辑句法——的语言记号。
（弗雷格和罗素的概念记号系统就是这样的一种语言，诚然它也还未能排除一切错误。）`,`3.326	为了通过其记号来辨识一个符号，我们必须在有意义的使用中观察它。`,`3.327	记号只有结合它的符合逻辑句法的应用才能规定一种逻辑形式。`,`3.328	如果一个记号是<emphasis>无用的</emphasis>，它也就是无指谓的。这就是奥卡姆准则的要旨<footnote>指奥卡姆的名言：“如无必要，勿增实体”；哲学史上称之为“奥卡姆剃刀”。——译者</footnote>。
（如果一切情况都表明一个记号具有指谓，那么这个记号就是具有指谓的。）`,`3.33	在逻辑句法中，记号的指谓决不应起任何作用。逻辑句法应该无须提到记号的<emphasis>指谓</emphasis>而建立起来；它<emphasis>仅仅</emphasis>以表达式的描述为前提。`,`3.331	根据这一见解我们回过来看罗素的“类型论”：罗素的错误显然在于，他在建立记号的规则时必须提到记号的指谓。`,`3.332	没有一个命题能够作出关于自身的陈述，因为一个命题记号不能包含于它自身之中（这就是全部的“类型论”）。`,`3.333	一个函项所以不能成为它自身的主目，因为函项的记号已经包含着其主目的原型，而且它不能包含自身。
让我们假设函项 F（fx）可以成为它自身的主目，这时就会有一个命题“F（F（fx））”，其中的外函项 F 和内函项 F 必定有不同的指谓，因为内函项具有 ϕ（fx）的形式，而外函项则具有 Ψ（ϕ（fx））的形式。只有字母“F”对于两个函项是共同的，但是字母本身不标示任何东西。
如果我们把“F（F（u））”写作“（∃ϕ）：F（ϕu）·ϕu＝Fu”，这一点就立刻清楚了。
这样罗素的悖论就消解了。`,`3.334	只要我们知道每一个别记号如何起标示作用，逻辑句法的规则就应当是自明的。`,`3.34	命题具有本质特征和偶然特征。
偶然特征是随同产生命题记号的特定方式而来的特征，本质特征则是命题为了能够表达其意义所必不可少的那些特征。`,`3.341	因此一个命题中本质的东西，是所有能够表达相同意义的命题共有的东西。
同样地，一般说来，一个符号中本质的东西，是所有能够达到同一目的的符号共有的东西。`,`3.3411	因此可以说：一个对象的真正的名称，是所有标示这个对象的符号共有的东西。由此可以依次得出，任何一种组合对于一个名称都不是本质的。`,`3.342	虽然我们的记号系统中确有某种随意的东西，但是如下<emphasis>这一点</emphasis>却不是随意的： 即<emphasis>只要</emphasis>我们随意地规定了一个东西，某种其它的东西就必然要发生。（这一点来自记号系统的<emphasis>本质</emphasis>。）`,`3.3421	一种特定的标示样式也许是不重要的，但它是一种<emphasis>可能的</emphasis>标示样式，这一点永远是重要的。在哲学中一般地正是这样：个别的情形总是一再表明是不重要的，但是每一个别情形的可能性都揭示了关于世界本质的某种东西。`,`3.343	定义是从一种语言翻译为另一种语言的规则。凡是正确的记号语言都应该按照这种规则可以翻译为任何其它一种语言：<emphasis>这一点</emphasis>是一切正确的记号语言所共有的。`,`3.344	在一个符号中起标示作用的东西，是依据逻辑句法规则可以代换这个符号的一切符号所共有的东西。`,`3.3441	例如我们可以这样来表述所有真值函项记号系统共同的东西：它们的共同之处在于，比如说，它们每一种都<emphasis>能够</emphasis>用“～P”（“非 P”）和“P V q”（“P 或 q”）构 成的记号系统来<emphasis>替换</emphasis>。
（这就表明了一种特定记号系统的可能性如何能够揭示某种一般东西的方式。）`,`3.3442	复合物记号在分析中不能这样随意地分解，以致在不同的命题结合中它的每一次分解都不相同。`,`3.4	一个命题规定逻辑空间中的一个位置。命题的各组成部分的存在——有意义的命题的存在，即保证了这种逻辑位置的存在。`,`3.41	命题记号加上逻辑坐标，即是逻辑位置。`,`3.411	几何位置和逻辑位置的一致之处在于，二者都是某物存在的可能性。`,`3.42	一个命题虽然只能规定逻辑空间中的一个位置，然而整个逻辑空间也应该已经由它而给出。
（不然的话，通过否定、逻辑和、逻辑积等等就会在坐标上不断引入新的要氛）
（围绕着一个图像的逻辑脚手架规定着逻辑空间。一个命题有贯通整个逻辑空间的力量。）`,`3.5	被使用的、被思考的命题记号即是思想。`,`4	思想是有意义的命题。`,`4.001	命题的总体即是语言。`,`4.002	人有能力构造语言，可以用它表达任何意义，而无须想到每一个词怎样具有指谓和指谓的是什么。——就像人们说话时无须知道每个声音是怎样发生的一样。
日常语言是人的机体的一部分，而且也像机体那样复杂。
人不可能直接从日常语言中懂得语言逻辑。
语言掩饰着思想。而且达到这种程度，就像不能根据衣服的外形来推出它所遮盖的思想的形式一样；因为衣服外形的设计不是为了揭示身体的形状，而是为了全然不同的目的。
理解日常语言所要依赖的种种默契是极其复杂的。`,`4.003	关于哲学问题所写的大多数命题和问题，不是假的而是无意义的。因此我们根本不能回答这类问题，而只能确定它们的无意义性。哲学家们的大多数命题和问题，都是因为我们不懂得我们语言的逻辑而产生的。
（它们都是像善是否比美更为同一或者更不同一之类的问题。）
因而用不着奇怪，一些最深刻的问题实际上却根本<emphasis>不是</emphasis>问题。`,`4.0031	全部哲学都是一种“语言批判”（当然不是在毛特纳的意义上的批判。）罗素的功绩在于指明了一个命题表面的逻辑形式不一定就是它真正的逻辑形式。`,`4.01	命题是实在的图像。
命题是我们所想象的实在的模型。`,`4.011	乍看起来，一个命题——例如印在纸上的某个命题——不像是它所论及的实在的一个图像。但是书写的音符乍看起来也不像是一首乐曲的图像，我们的声音记号（字母）也不像是我们口语的图像。
然而，即使在通常的意义下，这些记号语言也证明是它们所表现的东西的图像。`,`4.012	显然，一个“aRb”形式的命题使我们产生一个图像的印象。这种情况下这个记号显然是被标示者的一个相像物。`,`4.013	如果我们深入到图像特性的本质，就会看到，这种特性并<emphasis>不</emphasis>因<emphasis>表面的不规则性</emphasis>（如乐谱中使用 ♯ 和 ♭）而蒙受损害。
因为就是这种不规则性也图示它们想要表达的东西；不过用的是另外一种方式。`,`4.014	留声机唱片、音乐思想、乐谱、声波，彼此之间都处在一种图示的内在关系之中，这就是语言和世界之间具有的关系。
它们的逻辑结构都是共同的。
（就像童话里的两个少年，他们的两匹马和他们的百合花。在某种意义上，他们都是同一的。）`,`4.0141	有一条总的规则，使得音乐家能从总谱读出交响乐，使得我们能够通过唱片的沟纹放出交响乐来.而且应用原规则还可以从交响乐重新推得总谱。这些看起来完全不同的东西之间的内在相似性正在于此。这条规则就是将交响乐投射到音符语言上去的投影法则，也是把这种音符语言翻译为唱片语言的规则。`,`4.015	所有的比喻以及所有的表达方式的图示性质，其可能性都是基于图示的逻辑。`,`4.016	为了理解命题的本质，我们可以看一看象形文字，它图示着它所描述的事实。
从象形文字发展而来的字母文字，并未失去图示的本质。`,`4.02	我们看出这一点是基于如下事实：无须向我们解释我们就理解命题记号的意义。`,`4.021	命题是实在的图像；因为当我理解一个命题，我就知道它所表述的情况，而且无须向我解释其意义，我就理解这个命题。`,`4.022	命题<emphasis>显示</emphasis>其意义。
命题<emphasis>显示当</emphasis>它为真时事情是怎样的，而且<emphasis>宣称</emphasis>事情就是这样的。`,`4.023	命题对实在的确定必须达到二者取一：是或者否。
为此命题必须完全地描述实在。
命题是对事态的描述。
正如一个对象是通过给出其外部属性来加以描述一样命题是通过实在的内部属性来描述实在的。
命题借助一种逻辑的脚手架来构造一个世界，因此<emphasis>如果</emphasis>一个命题为真，就可从中看出所有合乎逻辑的东西是怎样的。人们可以从假的命题<emphasis>作出推论</emphasis>。`,`4.024	理解一个命题意味着知道若命题为真事情该是怎样的。
（因此，不知道一个命题是否为真也可以理解它。）
理解一个命题的组成部分也就理解这个命题。`,`4.025	把一种语言翻译为另一种语言时，我们并不是把一种语言的每一个<emphasis>命题</emphasis>翻译为另一种语言的<emphasis>命题</emphasis>，而是只翻译命题的组成部分。
（字典不仅翻译名词，也翻译动词、形容词和连接词等等，它以同样方式对待所有这些词。）`,`4.026	必须向我们解释简单记号（词）的指谓，我们才能理解它们。
但是我们可以用命题清楚地表达自己的意思。`,`4.027	命题能够传达<emphasis>新的</emphasis>意义，这一点属于命题的本质。`,`4.03	命题必须用已有的表达式来传达新的意义。
命题传达情况，因此它必定<emphasis>在本质上</emphasis>与情况有关联。
而这种关联恰恰在于，命题是情况的逻辑图像。
命题仅仅在它是一个图像时才能陈述某种东西。`,`4.031	在命题中情况就像是用试验的方法组合起来的。
可以径直说：“这个命题表述如此这般的情况”，而不说：“这个命题有如此这般的意义”。`,`4.0311	一个名称代表一个事物，另一个名称代表另一个事物，而且它们是彼此组合起来的；这样它们整个地就像一幅活的画一样表现一个事态。`,`4.0312	命题的可能性建立在对象以记号为其代表物这一原理的基础上。
我的一个基本的思想是：“逻辑常项”不是代表物，事实的<emphasis>逻辑</emphasis>是不能有代表物的。`,`4.032	只有当一个命题是合乎逻辑地组合起来的才是一个情况的图像。
（甚至命题“Ambulo”<footnote>拉丁文动词“ambuldare”的第一人称现在时，意为：我走路、我散步。——译者</footnote>也是组合的，因为它的词干配合另一种词尾，或它的词尾配合另一种词干，都会产生不同的意义。）`,`4.04	在一个命题和它所表述的情况中，应该恰好具有同样多的可以区分开来的部分。
两者必定具有同样的逻辑（数学）的多样性。（参照赫兹的《力学》论动力学模型。）`,`4.041	这种数学的多样性本身当然不能再被图示，因为图示时不可能摆脱这种多样性。`,`4.0411	例如，如果我们想把“（x）·fx”所表达的东西，通过在“fx”前面加上一个附标来表达，如写作“Alg·fx” <footnote>“alg”是“Allgemeine”（一般、普遍）的缩写.本条下面的下标‘a’和主目位置的‘A’也是该词的缩写。——译者</footnote>，那是不恰当的：我们会不知道那个附标概括的是什么。如果想用一个下标“a”来标示，如写作“<katex>f(x_a)</katex>”，也不恰当：我们会不知道那个概括记号的范围。
如果试图在主目位置上引入一个标记来表达，如写作“（A，A）·F（A，A），仍然不恰当：我们会不能确立诸变项的同一性。如此等等。
所有这些标示方式都不恰当，因为它们没有必须的数学多样性。`,`4.0412	同样的道理，唯心主义者以“空间眼镜”解释空间关系的视觉是不恰当的，因为它不能解释这些关系的多样性。`,`4.05	实在是与命题相比较的。`,`4.06	命题只因为是实在的图像，才能为真或者为假。`,`4.061	决不可忽略命题有一种独立于事实的意义，否则就很容易认为真和假是记号和它们所标示的东西之间具有同等地位的关系。
例如，这时人们就可以说，“p”以真的方式标示“～p”以假的方式所标示的东西，等等。`,`4.062	我们能否用假命题——只要我们知道它们被认为是假的——来表达自己，就像我们一直用真命题表达自己一样呢？不能！因为如果我们用一个命题来说一些事物处于一定情况，而且它们确实如此，则这个命题为真；如果我们用“p”意指“～p”，而且情况确如我们所指的那样，那么在新的理解下“p”为真而不为假。`,`4.0621	然而记号“p”和“～p”<emphasis>能</emphasis>说同样的东西，这一点很重要，因为它表明实在中没有与记号“～”相对应的东西。
一个命题中出现的否定，不足以表征这个命题的意义（～～”p”＝p）。
命题“p”和“～p”具有相反的意义，但是和它们相对应的是同一个实在。`,`4.063	可用一个比喻来说明真这个概念：设想白纸上有一个黑斑块：通过指明这纸上的每一点是黑的还是白的，就可描述这个斑块的形状。一个点是黑的事实，相应于一个肯定的事实，一个点是白（非黑）的事实，则相应于一个否定的事实。如果我在纸面上指出一个点（即弗雷格所谓的真值），这就相应于一个为判断而提出的假定，如此等等。
但是为了能够说出一个点是黑的或者白的，我必须首先知道一个点在什么情况下称为黑的和在什么情况下称为白的：为了能够说“p”为真（或者假），我必须规定在何种惰况下我称“p”为真，并由此而规定这命题的意义。
这一比喻的不足之处在于：即使我们不知道什么是黑的和白的，我们也可以指出纸上的一点；但是如果一个命题没有意义，是没有什么东西与它相对应的，因为它并不标示一个具有可以称为“假”或“真”这种属性的东西（即真值）。一个命题的动词，并非如弗雷格所认为的，“为真”或者“为假”，而是“为真”的东西必须已经包含着动词。`,`4.064	每个命题必须<emphasis>已经</emphasis>具有一个意义：肯定并不能给命题以意义，因为所肯定的东西正好就是命题的意义。这一点同样也适用于否定，等等。`,`4.0641	可以说，否定必定已经与被否定命题所规定的逻辑位置有关。
否定命题规定一个<emphasis>不同于</emphasis>被否定命题所规定的逻辑位置。
否定命题借助被否定命题的逻辑位置来规定一个逻辑位置，因为它是在后者逻辑位置之外来描述后者的。
被否定命题可以再被否定，这本身就表明，被否定者已经是一个命题，而不仅仅是命题的某个起始部分。`,`4.1	命题表述事态的存在和不存在。`,`4.11	真命题的总体就是全部自然科学（或各门自然科学的总体）。`,`4.111	哲学不是自然科学之一。
（“哲学”一词所指的东西，应该位于各门自然科学之上或者之下，而不是同它们并列。）`,`4.112	哲学的目的是从逻辑上澄清思想。
哲学不是一门学说，而是一项活动。
哲学著作从本质上来看是由一些解释构成的。
哲学的成果不是一些“哲学命题”，而是命题的澄清。
可以说，没有哲学，思想就会模糊不清：哲学应该使思想清晰，并且为思想划定明确的界限。`,`4.1121	心理学不比任何其它自然科学更为接近哲学。
知识论是心理学的哲学。
我对记号语言的研究，和哲学家们认为对逻辑哲学如此重要的那种思想过程的研究，难道不是一致的吗？只是在大多数情形下，他们都纠缠于一些非本质的心理学考察，在我的方法这里也有类似的危险。`,`4.1122	达尔文的理论不比自然科学中任何其它一种假设更与哲学有关。`,`4.113	哲学为自然科学划定可以在其中进行争论的范围。`,`4.114	哲学应当为能思考的东西划定界限，从而也为不能思考的东西划定界限。
哲学应当从内部通过能思考的东西为不能思考的东西划定界限。`,`4.115	哲学将通过清楚地表达可说的东西来指谓那不可说的东西。`,`4.116	凡是能思考的东西都能清楚地思考。凡是可以说的东西都可以清楚地说出来。`,`4.12	命题能够表述全部实在，但是不能表述它们为了能够表述实在而必须和实在共有的东西——即逻辑形式。
为了能够表述逻辑形式，我们必须能够和命题一起置身于逻辑之外，也就是说，置身于世界之外。`,`4.121	命题不能表述逻辑形式：后者反映于命题之中。
自行反映在语言中的东西，语言不能表述。
语言中表达了<emphasis>自己</emphasis>的东西，<emphasis>我们</emphasis>不能用语言来表达。
命题<emphasis>显示</emphasis>实在的逻辑形式。
命题展示出这种逻辑形式。`,`4.1211	因此，一个命题“fa”显示：对象 a 出现在该命题的意义中：两个命题“fa”和“ga”则显示：二者说的是同一个对象。
如果两个命题互相矛盾，则它们的结构显示这一点；如果其中一个从另一个推导出来，也由其结构显示出来。如此等等。`,`4.1212	<emphasis>能</emphasis>显示出来的东西，<emphasis>不能</emphasis>说出来。`,`4.1213	现在我们也理解了我们的这种感觉：只要我们的记号语言中一切都得到正确处理，我们也就有了一个正确的逻缉观点。`,`4.122	在某种意义上我们可以谈对象和事态的形式属性，或者，对事实而言，谈它们的结构属性，以及在同一意义上谈它们的形式关系和结构关系。
［我也可以不说“结构属性”而说“内部属性”；不说“结构关系”而说“内部关系”。
我引入这些表达式，是为了指明在哲学家当中广为流行的混淆内部关系和真正的（外部）关系的根源。］
不过，这些内部属性和关系的存在不能通过命题来断言，而是在表述有关事态和涉及有关对象的命题中它们自己显示出来。`,`4.1221	事实的一个内部属性也可以称为这个事实的一个特征（如在我们所说的面部特征的意义上。）`,`4.123	一个属性，如果不能设想它的对象不具有它，它就是一个内部属性。
（因此，这个蓝色同那个蓝色处在浅些或者深些的内部关系中。<emphasis>这</emphasis>两个对象不处在这种关系中是不可设想的。） （在这里，“对象”一词的变化不定的用法和“属性”、“关系”这两个词的变化不定的用法是一致的。）`,`4.124	一个可能情况的某个内部属性的存在，不是用命题来表达，而是在表述这个情况的命题中，通过该命题的一个内部属性自己表达出来。
断言命题具有一种形式属性和否认它具有一种形式属性，同样是无意义的。`,`4.1241	说一种形式具有这种属性而另一种形式具有那种属性，是不可能把两种形式彼此区分开来的：因为这样就要假定二者之中任一属性归属任一形式是有意义的。`,`4.125	可能情况之间的某种内部关系的存在，通过表述这些情况的命题之间的某种内部关系在语言中自己表达出来。`,`4.1251	这里我们就得到了关于“是否所有关系都是内部的或者外部的”这个争论不休的问题的回答。`,`4.1252	一个按照<emphasis>内部</emphasis>关系依次序排列的系列，我称为形式系列。 数列不是按照外部关系，而是按照内部关系依次序排列的。
命题系列也是如此：
“aRb”
“（∃x）：aRx·xRb”
“（∃x, y）：aRx·xRy·yRb”
如此等等。
（如果 b 对 a 处在上述关系之一，我称 b 为 a 的一个后继。）`,`4.126	现在我们也可以在形式属性的意义上来谈形式概念。
（我引入这个表达式，是为了弄清楚那贯穿于整个传统逻辑中的混淆形式概念和真正概念的根源。）
当某种东西归入形式概念而成为后者的一个对象，这一点是不能用命题来表达的，而是在这个对象的记号自身中显示出来。（一个名称显示它标示一个对象，一个数的记号显示它标示一个数，等等。）
形式概念确实不能和专有概念一样从函项来表述。
因为它们的特征，即形式属性，是不能用函项来表达的。
形式属性的表达式是一定符号的特征。
因此，代表一个形式概念特征的记号，是其指谓属于该概念的所有符号的特有特征。
因此，一个形式概念的表达式是一个以这种特有特征为唯一常项的命题变项。`,`4.127	命题变项标示形式概念，命题变项的值标示属于该形式概念的对象。`,`4.1271	每一个变项都是一个形式概念的记号。
因为每一个变项都表示一个为它的所有值具有的不变形式，而这一形式就可以看作为这些值的形式属性。`,`4.1272	因此变名“x”就是<emphasis>对象</emphasis>这个伪概念的专有记号。
凡属正确地使用“对象”（“事物”、“物”，等等）一词的地方，在概念记号系统中总是用变项名称来表达的。
例如，在命题“有两个对象，它们……”中，就用“（∃x，y）…”来表达。
一旦以别种方式来使用这个词，如把它作为专有概念词使用，就只能造成无意义的似是而非的命题。
因此，例如，不能像说“有一些书”那样，说“有一些对象”。同样也不能说“有 100 个对象”，或者，“有 <katex>\\aleph_0</katex><footnote>“ℵ₀”希伯来文字母，表示数学上的无穷数。——译者</footnote>个对象”。
因而说<emphasis>对象的总数</emphasis>是无意义的。
这一点同样适用于“复合物”、“事实”、“函项”、“数”这些词，等等。
它们全都标示形式概念，因而在概念记号系统中用变项来表述，而不是（如弗雷格和罗素所认为的）用函项或者类来表述。
诸如“1是一个数”，“只有一个零”以及一切类似的表达式，都是无意义的。
（说“只有一个 1”就和说“2＋2 在 3 点钟的时候等于 4”一样是无意义的。）`,`4.12721	一个形式概念是随着属于它的任何一个对象的给定而立即给定的，因此，不能把属于一个形式概念的对象<emphasis>和</emphasis>这个形式概念本身一起作为初始观念引入。因此，比如说，不能如罗素那样，把函项概念和特定的函项两者一起作为初始观念引入；或者，把数的概念和确定的数两者一起作为初始观念引入。`,`4.1273	如果我们要在概念记号系统中表达一般命题“b 是 a 的一个后继”，就需要有一个形式系列的一般项的表达式：<centered>aRb，
（∃x）：aRx·xRb，
（∃x，y）：aRx·xRy·yRb，
……</centered>一个形式系列的一般项必须用变项来表达，因为“该形式系列的项”这个概念是一个形式概念。（这一点为弗雷格和罗素所忽略：因此他们用以表达上述那种一般命题的方式是不正确的，其中包含着一种恶性循环。）
我们可以通过给出第一项和由前一命题产生下一项的运算的一般形式来规定形式系列的一般项。`,`4.1274	问一个形式概念是否存在是无意义的，因为不可能有一个命题是对这个问题的回答。
（因此，例如，不能提问“是否存在不可分析的主谓式命题？”这种问题。）`,`4.128	逻辑形式是<emphasis>无</emphasis>数的。
因此在逻辑中没有特殊的数，因此也没有哲学的一元论和二元论的可能性，等等。`,`4.2	命题的意义是它与事态的存在和不存在的可能性符合和不符合。`,`4.21	最简单的命题，即基本命题，断言有一个事态的存在。`,`4.211	不可能有基本命题同它相矛盾，这是一个基本命题的标志。`,`4.22	基本命题由名称组成。它是名称的一种关联，一种联结。`,`4.221	显然，对命题的分析必须达到由名称的直接结合而组成的基本命题。
这就发生了一个问题：命题的结合是怎样产生的？`,`4.2211	即使世界无限复杂，因此每个事实都是由无限多个事态组成，而且每个事态又都是由无限多个对象组合起来，那也仍然必须有诸对象和事态。`,`4.23	名称只有同基本命题发生关联才能在命题中出现。`,`4.24	名称是简单符号，我用单个的字母（“x”、“y”、“z”）来表示。
我把基本命题写作名称的函项，所以它们具有“fx”，“ϕ（x，y）”的形式，等等。
或者我用字母p，q，r来表示它们。`,`4.241	当我使用的两个记号具有同一指谓时，我就在它们之间放入记号“＝”来表达这一点。
因此“a＝b”就意味着记号“b”可以替换记号“a”。
（如果我用等式引进一个新记号“b”，规定它可用以替换已知记号“a”，那么，像罗素那样，我把这个等式（定义）写成“a＝bDef.<footnote>“Def.”为“Definition”（定义）一词的编写。——译者</footnote>”的形式。定义就是一条记号规则。）`,`4.242	因此，“a＝b”形式的表达式不过是一种表述的辅助手段。关于记号“a”和“b”的指谓，它们并没有陈述什么东西。`,`4.243	如果不知道两个名称是标示同一个事物还是标示两个不同事物，我们能够理解这两个名称吗？——如果不知道在一个命题中出现的两个名称的指谓是相同还是不同，我们能够理解这个命题吗？
假如我知道一个英文词和一个具有相同指谓的德文词的指谓：那么我就不可能不知道二者是具有相同指谓的，我必定能把其中一个翻译为另一个。
像“a＝a”这样的表达式以及从中推得的那些表达式，既不是基本命题，也不是另一类有意义的记号。（下面将会表明这一点。）`,`4.25	若一个基本命题为真，事态就存在；若一个基本命题为假，事态就不存在。`,`4.26	若列举出所有为真的基本命题，就完全地描述了世界。世界通过列举所有的基本命题加上列举其中哪些为真哪些为假而被完全地描述。`,`4.27	关于 n 个事态的存在和不存在，有 <katex>K_n=\\sum\\limits_{ν=0}^{n} \\binom{n}{ν}</katex> 种可能性。这些事态的任何一种组合都可存在而同时别的组合不存在。`,`4.28	和这些组合相应的即是同等数目的关于这 n 个基本命题的真（和假）的可能性。`,`4.3	基本命题的真值可能性意指事态存在和不存在的可能性。`,`4.31	我们可用如下这种图式来表述真值可能性（“W”指“真”，“F”指“假”；在基本命题行下面的“W”和“F”的各行，以易于理解的方式标明各种真值可能性）。<custom />`,`4.4	命题是与基本命题的真值可能性符合和不符合的表达式。`,`4.41	基本命题的真值可能性是命题真和假的条件。`,`4.411	这也许立即使人想到，引入基本命题乃是理解所有其它命题的基础。的确，对一般命题的理解<emphasis>显然</emphasis>是依赖于对基本命题的理解的。`,`4.42	关于一个命题与n个基本命题的真值可能性符合和不符合，有 <katex>\\sum\\limits_{K=0}^{K_n} \\binom{K_n}{K}=L_n</katex> 种可能情况。`,`4.43	在图式中我们可用与真值可能性相关的标记“W”（为真）来表达与真值可能性的符合。
没有这个标记就意指不符合。`,`4.431	与基本命题的真值可能性符合和不符合的表达式，表达命题的真值条件。
命题即是其真值条件的表达式。
（因此，弗雷格在解释他的概念记号系统的记号时以真值条件为出发点，是完全正确的。但是弗雷格对真值概念的解释是错误的：如果“真”和“假”真的是对象，而且是～p等等中的主目，那么依照弗雷格的方法，～p的意义就根本是未确定的。）`,`4.44	由标记“W”与真值可能性相关而产生的记号，就是一个命题记号。`,`4.441	很清楚，关于记号“F”和“W”的复合物，并没有对象（或对象的复合物）与之相对应；正好就像没有任何对象与横线、竖线或括号相对应一样。——不存在“逻辑对象”。
当然，这也同样适用于所有和“W”与“F”的图式表达的东西相同的记号。`,`4.442	例如，以下就是一个命题记号：<custom />（弗雷格的“断定号”“⊢”逻辑上是完全无指谓的：在弗雷格（和罗素）的著作中，它不过表示作者主张用这个记号标记的命题是真的。因此，“⊢”不是命题的组成部分，就像命题的编号不是命题的组成部分一样。一个命题不可能宣称自己为真。）
如果一个图式中真值可能性的排列次序是由组合规则一次性地固定好的，那么最后一列本身就是一个真值条件的表达式。将这一列写成为一行，上述命题记号就成为：<centered>“（WW—W）（p，q）”</centered>或者，更清楚一点：<centered>“（WWFW）（p，q）”</centered>（左边括号中的位数由右边括号中的项数决定。）`,`4.45	对于 n 个基本命题有 <katex>L_n</katex> 组可能的真值条件。
从一定数目基本命题的真值可能性得来的真值条件组可以排成一个系列。`,`4.46	在可能的真值条件组中有两种极端情况。一种情况是，一个命题对于所有基本命题的真值可能性都为真。我们称该真值条件是<emphasis>重言式的</emphasis>。
第二种情况是，一个命题对于所有真值可能性都为假：该真值条件是<emphasis>矛盾的</emphasis>。
在第一种情况下，我们称这命题为重言式，在第二种情况下，称这命题为矛盾式。`,`4.461	命题显示它们所说的东西，重言式和矛盾式则显示它们什么也没有说。
重言式没有真值条件，因为它无条件地为真；而矛盾式则不在任何条件下为真。
重言式和矛盾式是缺少意义的。
（就像两个箭头由此指向相反方向的一个点。）
（例如，当我知道或者下着雨或者没有下雨时，关于天气我就什么也不知道。）`,`4.4611	但是，重言式和矛盾式不是无意义的。它们是符号系统的一部分，正如“0”是算术符号系统的一部分。`,`4.462	重言式和矛盾式不是实在的图像。它们不表述任何可能情况。因为前者容许<emphasis>每一种</emphasis>可能情况，后者则排除<emphasis>任何一种</emphasis>可能情况。
在重言式中，与世界符合的条件——表现关系——互相抵消，以致它与实在没有任何表现关系。`,`4.463	命题的真值条件规定它给事实留出的范围。
（一个命题，一个图像或者一个模型，在否定的意义上就像一个固体，限制着其它物体的活动自由；在肯定的意义上就像用固体物质围住的一片空间，其中有一个物体活动的场所。）
重言式为实在留出了全部——整个无限的——逻辑空间；矛盾式则占满了全部逻辑空间，一点也没有留给实在。因而二者都不以任何方式规定实在。`,`4.464	重言式的真是确定的，命题的真是可能的，矛盾式的真是不可能的。
（确定的，可能的，不可能的：这里就有了我们在概率论中所需要的最重要的分度标志。）`,`4.465	一个重言式和一个命题的逻辑积，与这个命题说的是同一回事情。因此，这积与这命题是同一的。因为没有改变一个符号的意义就不能改变它的本质。`,`4.466	记号的一定的合乎逻辑的结合，对应着其指谓的一定的合乎逻辑的结合。能与<emphasis>每一种任意的</emphasis>结合对应的只能是非结合的记号。
换句话说，对于每一种情况都为真的命题，根本不可能是记号的结合；因为，如果它们是记号的结合，就只能有对象的一定的结合与它们相对应。
（而不合乎逻辑的结合是<emphasis>没有</emphasis>一种对象的结合与之相对应的。）
重言式和矛盾式是记号结合的极限情形：即记号结合的解体。`,`4.4661	当然，在重言式和矛盾式中，记号也是互相结合着的，即它们彼此之间有一定的关系；但是这些关系是无指谓的，对符号而言它们不是本质的东西。`,`4.5	看来现在可以给出最一般的命题形式：即给出一个关于<emphasis>任何一种</emphasis>记号语言的命题的描述，使得每一种可能的意义都能够用适合这种描述的符号来表达，而且，在适当地选择名称指谓的前提下，每一个适合这种描述的符号都能表达一种意义。
显然，在这种描述中<emphasis>只能</emphasis>包含对于最一般的命题形式为本质的东西，否则，它就不会是最一般的形式。
一般的命题形式的存在，为以下事实所证明：即没有任何一个命题，其形式是不能须知（即构造）的。命题的一般形式是：事情是如此这般的。`,`4.51	假如向我给出了<emphasis>所有的</emphasis>基本命题：那么问题就只在于我能用它们构造出一些什么命题。这样我就有了<emphasis>全部</emphasis>命题，而且<emphasis>这</emphasis>就确定了这全部命题的界限。`,`4.52	命题包括从所有基本命题的总体（自然，也从其确实是<emphasis>所有</emphasis>基本命题的<emphasis>总体</emphasis>）中所能得出的一切。（因此，在一定的意义上可以说，<emphasis>一切</emphasis>命题都是基本命题的概括。）`,`4.53	一般的命题形式是变项。`,`5	命题是基本命题的真值函项。
（基本命题是自身的真值函项。）`,`5.01	基本命题是命题的真值主目。`,`5.02	函项的主目很容易和名称的附标相混淆。因为从主目和附标我都能看出包含它们的那些记号的指谓。
例如，当罗素写“<katex>＋_c</katex>”时，其中“c”就是一个附标，它指明整个记号是用于基数的加号。但是这种标记法是一种任意约定的结果，因而完全可能选择一个简单的记号来代替“<katex>＋_c</katex>”；可是，在“～p”中，“p”不是附标而是主目：除非已经先理解了“p”的意义，“～p”的意义就<emphasis>不可能</emphasis>理解。（在名称尤利乌斯·恺撒中，“尤利乌斯”是一个附标。附标总是对对象的描述的一部分，我们把它附加到对象的名称上面：例如尤利乌斯家族中的<emphasis>这位</emphasis>恺撒。）
如果我没有弄错，弗雷格关于命题和函项的指谓理论，就是建立在混淆主目和附标的基础之上的。弗雷格认为逻辑命题是名称，而它们的主目则是这些名称的附标。`,`5.1	真值函项可以排成系列。
这是概率论的基础。`,`5.101	一定数目的基本命题的真值函项，可以按以下这种图式列出：<custom />我将用命题的<emphasis>真值基础</emphasis>这个名称来称呼其真值主目使该命题为真的那些真值可能性。`,`5.11	如果为一定数目的命题所共有的真值基础，同时也是某个命题的真值基础，那么我们就说，这个命题的真是从另外那些命题的真得来的。`,`5.12	特别是，如果命题“q”的所有真值基础也是命题“p”的真值基础，那么命题“p”的真就是从“q”的真得来的。`,`5.121	一个命题的真值基础包含在另一个命题的真值基础之中：p 从 q 得出来。`,`5.122	如果 p 从 q 得出来，则“p”的意义包含在“q”的意义之中。`,`5.123	如果上帝创造一个世界，其中某些命题为真，那么由此它也就创造了一个世界，其中所有从这些命题得出来的命题也同样为真。同样，它也不可能在创造出一个命题“p”为真的世界的同时，而不创造出这个命题的所有对象。`,`5.124	一个命题肯定每一个从它得出来的命题。`,`5.1241	“p·q”既是肯定“p”的命题之一，也是肯定“q”的命题之一。
两个命题，如果没有一个有意义的命题肯定它们两者，它们就是彼此反对的。
凡与另一个命题矛盾的命题，都否定这个命题。`,`5.13	一个命题的真从另一些命题的真得出来，这一点我们可以从这些命题的结构看出来。`,`5.131	如果一个命题的真从另一些命题的真得出来，这一点为这些命题的形式相互之间的关系所表达：我们无须通过把这些命题结合成为一个单独的命题，来建立起它们之间的这些关系；相反地，这些关系是内在的，它们的存在是这些命题存在的一个直接结果。`,`5.1311	当我们从 p V q 和～p 推出 q 时，命题形式“p V q”和“～p”之间的关系在这里被我们的标示方式所掩盖。但是，例如，若将“ p V q”写为“p|q·|·p|q”， 将“～p”写为“p|p（p|q。既非 p也非 q），其内在联系就显而易见了。
（从（x）·fx可以推出 fa，这表明符号（x）·fx本身也包含着概括。）`,`5.132	如果 p 从 q 得出来，则我能作出从 q 到 p 的推论，即从 q 推出 p 来。
单从这两个命题即可了解推论的特性。
只有这两个命题本身才能证明此推论的正确。
如弗雷格和罗素著作中用以证明推论为正确的“推演律”是缺少意义的，因而是多余的。`,`5.133	一切演绎推理都是先天形成的。`,`5.134	一个基本命题不能从另一个基本命题推演出来。`,`5.135	从一种情况的存在无法推论出另一种完全不同的情况的存在。`,`5.136	没有证明这样一种推论为正确的因果联系。`,`5.1361	我们<emphasis>不能</emphasis>从现在的事件推出将来的事件。相信因果联系是<emphasis>迷信</emphasis>。`,`5.1362	意志自由在于不可能知道尚属未来的行为。仅当因果性像逻辑推论一样是一种<emphasis>内在的</emphasis>必然性，我们才能知道这些行为。——知与所知的联系是逻辑必然性的联系。
（如果 p是重言式，则“A知道p是发生的事情”便是缺乏意义的。）`,`5.1363	如果不能从一个命题对于我们是自明的而<emphasis>推出</emphasis>它为真，则它的自明性就不能保证我们相信它为真是正确的。`,`5.14	如果一个命题是从另一个命题得出来的，那么后者所说较前者为多，前者所说较后者为少。`,`5.141	如果 p 从 q 得出来且 q 从 p 得出来，则二者为同一个命题。`,`5.142	重言式从一切命题得出来：它什么也没有说。`,`5.143	矛盾式是没有一个命题与其它命题共有的命题共性，重言式是彼此间没有任何共同东西的所有命题的共性。
可以说，矛盾式隐迹于一切命题之外；重言式则隐迹于一切命题之内。
矛盾式是命题的外部界限；重言式则是居于诸命题中心的非实在的点。`,`5.15	如 <katex>w_r</katex> 是命题“r”的真值基础数，<katex>w_{rs}</katex> 是同属命题“s”和“r”的真值基础数，则我们称比值 <katex>w_{rs}:w_r</katex> 为命题“r”给予命题“s”的<emphasis>概率</emphasis>度。`,`5.151	在如上述 5. 101 那样的图式中，设 <katex>w_r</katex> 是命题 r 的“w”数，<katex>w_{rs}</katex> 是和命题 r 的那些“w”同列的命题 s 的“w”数。则命题 r 给命题 s 以概率 <katex>w_{rs}:w_r</katex>。`,`5.1511	没有概率命题特有的特殊对象。`,`5.152	彼此之间役有共同的真值主目的命题，我们称它们是相互独立的。
两个基本命题彼此给予概率 <katex>\\frac{1}{2}</katex>。
如果 p 从 q 得出来，则命题“q”给予命题“p”概率 1。逻辑推论的确实性是概率的一种极限情况。
（应用于重言式和矛盾式。）`,`5.153	就其自身而言，一个命题既不是概率的也不是非概率的。一个事件或者发生，或者不发生。没有中间状况。`,`5.154	设在一个罐子里有相等数量的白球和黑球（且没有任何别种颜色的球）。我一个一个地取出球来，又将它放回罐里。用这种试验我能够确定，随着不断地这样做下去，取出来的黑球数和白球数是彼此接近的。
所以<emphasis>这</emphasis>不是一个数学的真实。
如果我说：“我取到一个白球的概率和取到一个黑球的概率是相等的”，这就意昧着，我所知道的全部情况（包括作为假设的自然律）给予一个事件发生的概率不<emphasis>大于</emphasis>另一个事件发生的概率。也就是说，正如从以上的说明所不难理解的，给予每个事件以概率 <katex>\\frac{1}{2}</katex>。
通过试验我能够确认的是：这两个事件的发生是独立于我并不详细知道的种种情况的。`,`5.155	概率命题的最小单元是：诸情况——我对它们别无所知——对一特定事件的发生给予某一概率度。`,`5.156	由此可见，概率是一种概括。
它包含着对一种命题形式的一般的描述。
仅当缺少确定性时我们才使用概率——虽然我们关于一个事实的知识是不完全的，但是关于它的形式我们确实知道<emphasis>某种东西</emphasis>。
（一个命题也许是一定情况的不完全的图像，但它总归是<emphasis>某种东西</emphasis>的完全的图像。）
一个概率命题是另外一些命题的一种摘要。`,`5.2	命题的结构之间具有内在的关系。`,`5.21	为了在我们的表达方式中突出这些内在关系，可以把一个命题表现为一个运算的结果，这个运算通过另外一些命题（即该运算的基础）而产生出这个命题来。`,`5.22	运算就是其结果和基础两者结构之间关系的表达式。`,`5.23	必须对一个命题施以运算才能产生出别的命题来。`,`5.231	当然，这要依赖于它们形式的属性，依赖于它们形式的内在相似性。`,`5.232	整编成一个系列所依赖的内在关系，等价于一个从一项产生出另一项来的运算。`,`5.233	运算只能出现在一个命题以逻辑上有意义的方式产生于其它命题的地方，也即命题的逻辑构造开始的地方。`,`5.234	基本命题的真值函项是以基本命题为基础的运算的结果（我称这些运算为真值运算。）`,`5.2341	p 的真值函项的意义是 p 的意义的真值函项。
否定、逻辑加、逻辑乘等等都是运算。
（否定将命题的意义反转。）`,`5.24	运算显示于变项中，它显示我们怎样可以从命题的一种形式得到另一种形式。
运算表达形式之间的差异。
（运算的基础与其结果之间所共有的恰为这些基础本身。）`,`5.241	运算标志的不是一种形式，而是一种形式之间的差异。`,`5.242	从“p”产生“q”的运算，同样也从“q”产生“r”，如此等等。表达这一点的唯一方式是：“p”、“q”、“r”等等必须是为一定的形式关系给出一般表达式的变项。`,`5.25	运算的出现并不表征命题的意义。
的确，运算是无所陈述的，只有它的结果才有所陈述，而这又依赖于运算的基础。
（运算和函项决不能互相混淆。）`,`5.251	一个函项不可能是它自身的主目，然而一个运算的结果可以成为该运算自身的基础。`,`5.252	只有这样，从一个形式系列中的一项到另一项（在罗素和怀特海的等级系统中是从一个类型到另一个类型）的推移才是可能的。（罗素和怀特海不承认这种推移的可能性，但是他们自己却一再地利用这种可能性。）`,`5.2521	一个运算重复地应用于其自身的结果，我称之为运算的连续应用（“o’o’o’a”是三次连续应用运算“o’ξ”于“a”的结果。）
我也在同样的意义上谈到连续应用<emphasis>几个</emphasis>运算于若干个命题。`,`5.2522	因此我把形式系列 a，o’a，o’o’a，……的通项记为“[a，x，o’x]”。这个括起来的表达式是一个变项：其中第一项是形式系列的首项，第二项是系列中任意选取的项 x 的形式，第三项是系列中紧接 x 之后的那一项的形式。`,`5.2523	连续应用一个运算的概念和“如此等等”这个概念是等价的。`,`5.253	一个运算可以取消另一个运算的作用，运算可以互相抵销。`,`5.254	运算可以消失（如在“～～p”中的否定：～～p＝p）。`,`5.3	所有命题都是基本命题的真值运算结果。
真值运算是从基本命题产生出真值函项的方法。
依据真值运算的本性，就如从基本命题产生出它们的真值函项一样，以同样的方法也可以从真值函项产生出新的真值函项。当一个真值运算施用于基本命题的真值函项，总是产生出基本命题的另一个真值函项，即另一个命题。对基本命题真值运算的结果再作一次真值运算，其结果总可等同于对基本命题施用<emphasis>某一单独的</emphasis>真值运算。
每个命题都是对基本命题作真值运算的结果。`,`5.31	即使“p”、“q”、“r”等等不是基本命题，4.31 的图式也是有指谓的。
容易看出，即使“p”和“q”是基本命题的真值函项，4.442中的命题记号也仍然是表达基本命题的一个真值函项。`,`5.32	所有真值函项都是把有限数量的真值运算连续应用于基本命题的结果。`,`5.4	这就表明，没有（在弗雷格和罗素的意义上的）“逻辑对象”或“逻辑常项”。`,`5.41	因为：所有的对于真值函项的真值运算结果，只要它们是基本命题的同一个真值函项，就都是等同的。`,`5.42	显然，V、⊃等等不是右和左等等那种意义上的关系。
弗雷格和罗素的逻辑“初始记号”的交叉定义已足以表明，它们不是初始记号，更不是关系的记号。
显然，通过“～”和“V”定义的“⊃”和在“V”的定义中与“～”一起出现的那个“⊃”是等同的；而且后面这个“V”与前一个“V”也是等同的，如此等等。`,`5.43	从一个事实 p 会得出无数<emphasis>其它事实</emphasis>，即～～p，～～～p等等，这看起来有点令人难以置信。同样使人惊讶的是，无数的逻辑（数学）命题是从半打“初始命题”得出来的。
但是一切逻辑命题之所说都是相同的，即什么也没有说。`,`5.44	真值函项不是实质函项。
例如，肯定可以由双否定产生，团此否定是否在某种意义上就包含在肯定之中呢？“～～p”是否定～p，还是肯定 p，还是两者都是呢？
命题“～～p”并不是把否定作为一个对象而与之相关；而另一方面，否定的可能性在肯定中又是早就预定了的。
而且，如果存在一个称为“～”的对象，那么就会得出，“～～p”说了某种不同于“p”所说的东西。这是因为一个命题涉及“～”，而另一个命题则否。`,`5.441	这些表面的逻辑常项的这种消失，也发现于“～（∃x）·～fx”的情形，它与“（x）·fx”的所说是一样的；或者也发生于“（∃x）·fx·x＝a”的情形，它与“fa”说的是一回事情。`,`5.442	如果给定一个命题，那么以它为基础的一切真值运算的给果也<emphasis>随之</emphasis>给定。`,`5.45	如果有了逻辑的初始记号，那么任何正确的逻辑就必须能够清楚地表明这些记号彼此之间的相对地位，并证明它们存在的合理性。以其初始记号<emphasis>为基础</emphasis>的逻辑的构造，必须是清楚的。`,`5.451	如果逻辑有一些初始概念，它们就应该是互相独立的。如果引入了一个初始概念，那么在它出现的一切结合里，它都是应该是已经引入了的。因此，它不能先对一种结合引入，尔后又对另一种结合再次引入。例如，一旦引入了否定，我们就应该既在“～p”形式的命题中理解它，也在“～（pVq）”、“（∃x）·～fx”等等这样的命题中同样地理解它。我们不应先对一类情况引入它，然后又对另一类情况引入它，因为这样一来，它的指谓在两类情况中是否相同，就值得怀疑，而且没有理由在两类情况下应用同一种记号结合方式。
（简言之，弗雷格（在《算术的基本定律》中）关于通过定义引入记号的意见，经过适当的修改，也适用于初始记号的引入。）`,`5.452	在逻辑的符号系统中引入任何一种新的手段都必然是一个重大事件。在逻辑中，一种新的手段不能以所谓漫不经心的态度在括号或者脚注中引入。
（如在罗素和怀特海的《数学原理》中就出现了用文字表达的定义和初始命题。为什么这里忽然出现文字呢？这是需要说明理由的，但是没有提出理由，也必然提不出理由，因为这种程序事实上是非法的。）
但是，如果证明在某处引入一种新的手段是必要的，我们就应立即追问：这种手段在哪些地方是<emphasis>必须</emphasis>用到的？必须弄清楚它在逻辑中的地位。`,`5.453	在逻辑中一切数都需要说明理由。
或者不如说，必须弄清楚，逻辑中是没有数的。
不存在特别的数。`,`5.454	逻辑中没有并列，也不可能有分类。
逻辑中不可能有普遍和特殊的区分。`,`5.4541	逻辑问题的解决必定是简单的，因为它们设立了简单性的标准。
人们一直猜想，必定有一个领域，其中对问题的回答对称地——先天地——结合着而构成一个自足的系统。
这个领域遵从如下规则：简单性是真理的标志。`,`5.46	如果我们恰当地引入逻辑记号，那么我们也就同时引入了它们的一切结合——不仅“pVq”，也有“～（pV～q）”等等——的意义。同时我们也就引入了括号的一切可能结合的效用；因此很清楚，真正一般的初始记号不是“pVq”、“（∃x）·fx” 等等，而是它们的结合的最一般形式。`,`5.461	和真实的关系不同，像 V 和 ⊃ 这种逻辑的伪关系是需要用到括号的，这一点看起来不太重要，事实上却具有重大意义。
的确，对这些表面上的初始记号使用括号，本身即已表明它们不是真正的初始记号。当然没有人会认为，括号具有独立的指谓。`,`5.4611	逻辑运算的记号是标点符号。`,`5.47	很清楚，关于一切命题的形式，凡是我们<emphasis>事先</emphasis>可以说的，我们必须能够<emphasis>一下子都</emphasis>说出来。
实际上基本命题自身已经包含了全部逻辑运算。因为“fa”与“（∃x）·fx·x＝a”所说的完全一样。
凡有组合的地方，就有主目和函项，而有了这些就已经有了全部的逻辑常项。
可以说，唯一的逻辑常项就是<emphasis>一切</emphasis>命题根据它们的本性所彼此共有的东西。
而这就是一般的命题形式。`,`5.471	一般的命题形式是命题的本质。`,`5.4711	给出命题的本质，意味着给出一切描述的本质，也即给出世界的本质。`,`5.472	描述最一般的命题形式，就是描述逻辑中那个唯一的一般的初始记号。`,`5.473	逻辑必须照顾自己。
如果一个记号是<emphasis>可能的</emphasis>，它就应该能起标示作用。凡在逻辑中为可能的都是容许的。（“苏格拉底是同一的”之所以不意指什么，是因为没有称为“同一的”这种属性。这个命题所以无意义，是因为我们无法作出一种任意的规定来，而不是因为这符号本身是不容许的。）
在一定的意义上，我们不可能在逻辑上犯错误。`,`5.4731	由于语言本身能防止各种逻辑错误，所以罗素多次说到的自明性才会在逻辑中成为多余的。——逻辑之所以是先天的，就在于<emphasis>不可能</emphasis>非逻辑地思考。`,`5.4732	我们不能给予一个记号以错误的意义。`,`5.47321	奥卡姆法则当然不是一条随意的规则，也不是一条因其在实践上的成功而获得了证明的规则：它表明，记号语言中<emphasis>非必要</emphasis>的单位不指谓任何东西。
满足<emphasis>一个</emphasis>目的的记号逻辑上是等价的；<emphasis>不</emphasis>满足<emphasis>任何</emphasis>目的的记号逻辑上是无指谓的。`,`5.4733	弗雷格说：每一个合法则地构造的命题都应当具有意义；而我说：每一个可能的命题都是合法则地构造的，而且，如果它没有意义，那只能是因为我们未能给予它的某些组成部分以<emphasis>指谓</emphasis>。
（尽管我们认为自己已经这样做了。）
因此，“苏格拉底是同一的”之所以什么也没有说，是由于我们没有给予“同一的”这个词以<emphasis>任何形容词的</emphasis>指谓。而当它作为同一性记号出现时，它是以完全不同的方式——另外一种标示关系——来标示的，因而在这两种情况下的符号也是完全不同的：这两个符号不过偶然地具有共同的记号。`,`5.474	必要的基本运算的数目<emphasis>唯一地</emphasis>取决于我们的记号系统。`,`5.475	这只是构造一个具有一定度数，即一定的数学多样性的记号系统的问题。`,`5.476	很清楚，这里涉及的不是必须给以标示的<emphasis>一定数目的初始概念</emphasis>，而是一项规则的表达式。`,`5.5	每一个真值函项都是连续应用运算“（……W）（ξ，……）”于基本命题的结果。
这个运算否定右边一对括号里的全部命题，我称之为这些命题的否定。`,`5.501	一个以命题作为项的括号表达式，如果括号里各项的次序是无关紧要的，我就用一个“<katex>(\\bar{ξ})</katex>”形式的记号来表示。“ξ”是一个变项，它的值是括号表达式的各个项。变项上面的横线表示，它代表括号里变项所有的值。
（例如，若 ξ 有三个值 P、Q、R，则（ξ）＝（P，Q，R）。）变项的值是规定了的。
这规定就是对变项所代表的命题的描述。
括号表达式中各项的描述是怎样产生的，这一点无关紧要。
我们可以区分三种描述：1.直接列举，这时可以简单地用作为变项取值的常项代换变项。2.给出一个函项 fx，它对所有 x 值的取值即为要描述的命题。3.给出一个决定命题构成的形式规则，这时括号表达式中的各项就是一个形式系列的所有的项。`,`5.502	因此，我写作“<katex>N(\\bar{ξ})</katex>”以代替“（……W）（ξ，……）”。
<katex>N(\\bar{ξ})</katex>是对命题变项 ξ 所有的值的否定。`,`5.503	显然，我们不难表达：命题如何可以用此运算来构成和如何不可以用它来构成；故而为此必可找到一个精确的表达式。`,`5.51	如果 ξ 只有一个值，则 <katex>N(\\bar{ξ})</katex>＝～p（非 p）；如果它有两个值，则 <katex>N(\\bar{ξ})</katex>＝～p·～q（既非 p 也非 q）。`,`5.511	包容一切而反映着世界的逻辑之所以能够运用这种特别的钩子和装置，是因为它们全都彼此结合着成为一张无比精细的网——一面巨大的镜子。`,`5.512	若“p”为假，则“～p”为真。因而，在真命题“～p”中，“p”是一个假命题。那么波线“～”怎样能使“p”与实在相符合呢？
但是在“～p”中起否定作用的并不是“～”，而是这个记号系统中所有否定 p 的记号共有的东西。
也就是说，是构成“～p”、“～～～p”、“～p V ～p”、“～p·～p”等等（以至无穷）所遵循的共同规则，这一共同的因素反映着否定。`,`5.513	可以说，肯定 p 和 q 两者的一切符号所共同的东西，就是命题“p·q”；而肯定 p 或者 q 的一切符号所共同的东西，就是命题 p V q”。
同样可以说，两个命题如果彼此之间没有任何共同的东西，它们就是互相反对的，而且每个命题只有一个否定，因为只有一个命题完全在它之外。
因此在罗素的记号系统中也同样表明，“q：p V ～p”和“q”说的是一回事情，“p V ～p”则什么也没有说。`,`5.514	一个记号系统一旦建立起来，其中就有一条用以构造一切否定 p 的命题的规则，一条用以构造一切肯定 p 的命题的规则，一条用以构造一切肯定 p 或 q 的命题的规则，等等。这些规则等价于一些符号，它们的意义就反映在符号之中。`,`5.515	在我们的符号中必须表明，只有命题才能相互之间从“V”、“·”等等结合起来。
情况的确如此，因为“p”和“q”的符号本身已假定了“V”、“～”等等。如果在“p V q”中记号“p”不代表一个复合记号，那么它自身单独地就不能有意义：而在这种情况下，和“p”具有相同意义的记号“p V p”、“p·p”等等也就不能有意义。而如果“p V p” 没有意义，“p V q”也就不可能有任何意义。`,`5.5151	一个否定命题的记号必须要用肯定命题的记号来构成吗？为什么不能用一个否定的事实来表达一个否定命题呢？（例如，设“a”不处在对“b”的一定关系之中，就可以说为：aRb 不是实情。）
但是即使在这里，否定命题其实也是间接地用肯定命题来构成的。
肯定<emphasis>命题</emphasis>必须以否定<emphasis>命题</emphasis>的存在为前提，反之亦然。`,`5.52	若 ξ 的值是函项 fx 对于所有 x 值的全部取值，则 <katex>N(\\bar{ξ})</katex>＝～（∃x）·fx。`,`5.521	我把<emphasis>所有</emphasis>这个概念同真值函项分离开来。
弗雷格和罗素是联系逻辑积或逻辑和而引入概括的。这样就难以理解隐含着这两个概念的命题“（∃x）·fx”和“（x）·fx”。`,`5.522	概括记号的特点在于，第一，它指示一个逻辑原型；第二，它突出了常项。`,`5.523	概括记号是以主目的身份出现的。`,`5.524	如果给出了一些对象，那么同时也就给出了<emphasis>所有</emphasis>对象。
如果给出了一些基本命题，那么同时也就给出了<emphasis>所有</emphasis>基本命题。`,`5.525	像罗素那样将命题“（∃x）·fx”译述为“fx是<emphasis>可能的</emphasis>”，是不正确的。
一种情况的必然、可能或者不可能，不是用命题来表达，而是由表达式是一个重言式、一个有意义的命题或者一个矛盾式来表达。
我们常常要援引的惯例必须已经存在于符号本身之中。`,`5.526	我们可以用完全概括的命题，即不必首先把每个名称对应于一个特定的对象，来完全地描述世界。
然后，为了达到习惯的表达方式，我们只需在“有一个而且只有一个 x，使得……”这个表达式后面加上一句话：“而且 x 是 a”。`,`5.5261	一个完全概括的命题，像每个其它命题一样，是组合的。（这一点为我们在“（∃x，ϕ）·ϕx”中必须分开地提及“ϕ”和“x”这一事实所表明。两者都独立地处在对世界的标示关系中，就像非概括命题的情形一样。）
组合符号的标志是：它和<emphasis>别的</emphasis>符号有某种共同的东西。`,`5.5262	<emphasis>每一个</emphasis>命题的真或假都在世界的一般构造中引起某种改变。而且基本命题的总体为世界的构造所留下的可能范围，正好就是所有的概括命题所界定的范围。
（如果有一个基本命题为真，那就意味着无论如何有<emphasis>多于一个</emphasis>的基本命题为真。）`,`5.53	我用记号的同一，而不是用等号，来表达对象的同一。对象的不同则用记号的不同来表达。`,`5.5301	显然，同一不是对象之间的一种关系。例如，只要考察一下“（x）：fx·⊃·x ＝a”这个命题，这一点就很清楚了。这个命题只是说，<emphasis>只有</emphasis> a 满足函项 f，而不是说，只有对 a 具有一定关系者满足函项f。
当然，也可以说，<emphasis>只有</emphasis> a 才对 a 具有这种关系；但是为了表达这点，就需要同一记号本身。`,`5.5302	罗素的“＝”的定义是不充分的，因为我们不能根据它说两个对象共有它们的一切属性。（即使这个命题决非正确的，它也仍然具有<emphasis>意义</emphasis>。）`,`5.5303	大致说来：说<emphasis>两个</emphasis>东西是同一的，这是无意义的，而说<emphasis>一个</emphasis>东西和它自身同一，就是根本什么也没有说。`,`5.531	因此我不写“f（a，b）·a＝b”，而写“f（a，a）”（或者“f（b，b）”。不写 “f（a，b）·～a＝b”，而写“f（a，b）”。`,`5.532	以此类推：我不写“（∃x，y）·f（x，y）·x＝y”，而写“（∃x）·f（x，x）”； 不写（∃x，y）·f（x，y）·～x＝y”，而写“（∃x，y）·f（x，y）”。 （这样，罗素的“（∃x，y）·fxy”就成为：“（∃x，y）·f（x，y）·V（∃x）·f（x，x）”。）`,`5.5321	因此，例如，我们不写“（x）：fx⊃x＝a”，而写“（∃x）·fx⊃·fa：～（∃x，y）·fx·fy”。
因而，命题“只有一个 x 满足 f（ ）”将读作“（∃x）·fx：～（∃x，y）·fx·fy。`,`5.533	所以，同一记号不是概念记号系统的必要组成部分。`,`5.534	现在我们看到，在一个正确的概念记号系统中，像“a＝a”，“a＝b·b＝c·⊃a ＝c”，“（x）·x＝x”，“（∃x）·x＝a”等等伪似命题是根本不能写的。`,`5.535	这也就消解了所有和这类伪似命题联系在一起的问题。
至此，罗素的“无穷公理”所带来的一切问题都已获致解决。
无穷公理所要说的，可以通过存在无限多个具有不同指谓的名称，在语言中自行表达出来。`,`5.5351	在某些情形下，人们情不自禁地要使用“a＝a”或者“p⊃p”之类形式的表达式。当人们想要谈论原型，即命题、事物等等时，就出现这种情形。所以，在罗素的《数学原则》中，“p是命题”——这是无意义的——被翻译为符号“p⊃p”，而且把它作为假设置于某些命题前面，以保证处在这些命题主目位置上的只能是命题。 （把假设 p⊃p 置于一个命题前面，以保证它的主目具有正确形式，这是无意义的，因为对于以非命题为主目这个假设不是假的而是无意义的，而且因为错误种类的主目也使得这个命题本身成为无意义的，所以在防止错误的主目这一点上，命题本身和为此目的而附加的无意义的假设是同样地有用，或者说，是同样地无用。）`,`5.5352	同样地人们想用“～（∃x）·x＝x”来表达“没有<emphasis>事物</emphasis>”。但是，即使这是一个命题，如果确实“有一些事物”，但这些事物与自身不是同一的，这个命题不也同样为真吗？`,`5.54	在一般的命题形式中，命题只是作为真值运算基础而出现于别的命题之中。`,`5.541	初看起来，一个命题也可能以别种方式在另一个命题中出现。
特别是在某些心理学的命题形式中，如“A 相信 p 是真的”，或者“A 思考 p”等等。
这里如果只是肤浅地考察，就好像命题 p 同对象 A 处在某种关系之中。
（在当今的知识论中（罗素、摩尔等），正是这样来理解这些命题的。）`,`5.542	但是很清楚，“A 相信 p”，“A 思考 p”，“A 说 p”都是“‘p’说 p”的形式：这里涉及到的不是一个事实和一个对象的相关，而是借助于其对象相关的诸事实的相关。`,`5.5421	这也表明，没有像当今肤浅的心理学中所设想的心灵——主体等等——这类东西。
的确，一个组合的心灵就已经不再是心灵了。`,`5.5422	对命题形式“A 判断 p”的正确解释必须表明：使判断成为一种无意义是不可能的。（罗素的理论不满足这个条件。）`,`5.5423	感知一个复合物的意思就是感知到它的各组成部分以如此这般的方式互相关联着。
这也能很好地解释，为何有两种可能的方式把如下图形<custom />看成为立方体；以及所有类似的现象。因为我们确实看到两个不同的事实。
（如果我先看定诸 a 角，对诸 b 角只是瞥及，于是诸 a 角显得在前；反之则诸 b 角显得在前。）`,`5.55	现在我们必须先天地回答关于基本命题的一切可能形式的问题。
基本命题由名称组成。可是我们既然不能给出具有不同指谓的名称的数目，我们也就不能给出基本命题的组成。`,`5.551	我们的基本原则是：凡一般地可以由逻辑决定的问题，必须能够当即决定。
（如果我们处在必须通过观察世界来回答这类问题的境地，那就表明我们已经陷入了完全错误的思路。）`,`5.552	我们为了理解逻辑所需要的“经验”，不是某物是如何如何的，而是某物<emphasis>存在</emphasis>：但这恰恰<emphasis>不是</emphasis>经验。
逻辑<emphasis>先于</emphasis>任何经验——某物<emphasis>是如此这般的</emphasis>。
逻辑先于关于“<kaiti>如何</kaiti>”的问题，而不先于关于“<kaiti>什么</kaiti>”的问题。`,`5.5521	如果不是这样，我们怎么能够应用逻辑呢？也可以这样说：假如即使没有世界也有一个逻辑，那么，为何有了一个世界就有一个逻辑呢？`,`5.553	罗素说，在事物（个体）的不同数目之间存在着简单的关系。但是，在什么数目之间？又如何断定这种关系？——依靠经验吗？
（没有地位特殊的数。）`,`5.554	任何特殊形式的提出都是完全任意的。`,`5.5541	例如，我能否处于一种需要27位关系的记号来标示某种事物的状况，应该可以先天地回答这个问题。`,`5.5542	但是，我们真的可以这样来提问吗？我们能够建立一种记号形式而不知道是否有任何东西与之对应吗？
能否有意义地提问：为有某事发生，必须<emphasis>存在</emphasis>什么东西？`,`5.555	显然，关于基本命题，我们具有某种与其特定的逻辑形式无关的概念。
但是，当有一个系统使我们得以建造符号时，那么这个系统，而非单个的符号，才是逻辑上重要的东西。`,`5.556	不可能有基本命题形式的等级系列。我们只能预见我们自己构造的东西。`,`5.5561	经验的实在受到对象总体的限制。这种限制也在基本命题的总体中表现出来。
等级系列是独立于实在的，而且必须独立于实在。`,`5.5562	如果我们根据纳粹逻辑的理由知道必须有基本命题，那么，凡是理解具有未分析形式的命题的人也必定知道这一点。`,`5.5563	事实上，我们日常语言中的所有命题，正如它们本来的那样，在逻辑上是完全有条理的。——我们必须在这里提及的最简单的东西，不是类似于真，而是完整的真本身。
（我们的问题不是抽象的，而且也许是所有问题中最为具体的。）`,`5.557	逻辑的<emphasis>应用</emphasis>决定有什么样的基本命题。
逻辑不能预期属于其应用的东西。
显然，逻辑不能与其应用冲突。
但是逻辑必须同其应用接触。
因此，逻辑不能和其应用互相重迭。`,`5.5571	如果我不能先天地举出有一些什么基本命题，那么要举出它们就必定会导致明显的无意义。`,`5.6	<emphasis>我的语言的界限</emphasis>意味着我的世界的界限。`,`5.61	逻辑充满世界：世界的界限也就是逻辑的界限。
所以在逻辑上我们不能说：世界上有这个和这个，而没有那个。
因为这看来就假定了我们会排除某些可能性，而这是不可能的事情，不然逻辑就必须超出世界的界限，因为只有超出世界的界限它才也能从另外一边来察看这些界限。
我们不能思考我们所不能思考的东西；因此我们也不能<emphasis>说</emphasis>我们所不能思考的东西。`,`5.62	这一段话为解决唯我论中有多少真理的问题提供了钥匙。
唯我论者<emphasis>意味</emphasis>的东西是完全正确的，不过它不能<emphasis>说</emphasis>，而只能自己显示出来。
世界是<emphasis>我的</emphasis>世界：这表现在<emphasis>语言</emphasis>（我所唯一理解的语言）的界限就意味<emphasis>我的</emphasis>世界的界限。`,`5.621	世界和人生是一回事。`,`5.63	我是我的世界。（小宇宙。）`,`5.631	没有思考着或想象着的主体这种东西。
如果我写一本书叫作《我所发现的世界》，我也应该在其中报道我的身体，并且说明哪些部分服从我的意志，哪些部分不服从我的意志，等等。这是一种孤立主体的方法，或者不如说，是在一种重要意义上表明并没有主体的方法；因为在这本书里唯独不能谈到的就是主体。`,`5.632	主体不属于世界，然而它是世界的一个界限。`,`5.633	在世界上<emphasis>哪里</emphasis>可以找到一个形而上主体呢？
你会说这就正好像眼睛和视域的情形一样。但是事实上你看<emphasis>不</emphasis>见眼睛。
而且<emphasis>在视野里</emphasis>没有任何东西使得你能推论出那是被一只眼睛看到的。`,`5.6331	视域肯定不具有如图这样的形式：<custom />`,`5.634	与此有联系的一点是，我们的经验中也没有一部分同时是先天的。
我们看到的一切也可能是别种样子。
我们通常能够描述的一切也可能是别种样子。
没有先天的事物秩序。`,`5.64	这里可以看到，严格贯彻的唯我论与纯粹的实在论是一致的。唯我论的自我收缩为无广延的点，保留的是与它相关的实在。`,`5.641	因此，确实有种意义使哲学可以用非心理学的方式来谈论自我。
由于“世界是我的世界”而使自我进入哲学之中。
哲学上的自我并不是人，也不是人的身体或者心理学所考察的人的心灵，而是形而上主体，是世界的界限——而不是它的一个部分。`,`6	真值函项的一般形式是：<centered><katex>［\\bar{p}，\\bar{ξ}，N(\\bar{ξ})］</katex></centered>这也是命题的一般形式。`,`6.001	它只是说明：每个命题都是连续应用运算 <katex>N(\\bar{ξ})</katex> 于基本命题的结果。`,`6.002	如果有了怎样构成一个命题的一般形式，那么也就随之有了怎样通过一个运算可以从一个命题产生出另一个命题的一般形式。`,`6.01	因此运算 <katex>Ω'(\\bar{η})</katex> 的一般形式是：<centered><katex>［\\bar{ξ},N(\\bar{ξ})］'(\\bar{η})(=［\\bar{η},\\bar{ξ},N(\\bar{ξ})］)</katex>。</centered> 这是由一个命题过渡到另一个命题的最一般的形式。`,`6.02	<emphasis>由此</emphasis>我们就达到了数。我给出如下定义：<centered><katex>x=Ω^{0'}x</katex> Def.
并且 <katex>Ω^{'}Ω^{ν'}x＝Ω^{ν+1'}x</katex> Def.</centered>这样，根据这些记号规则我把系列<centered><katex>x，Ω'x，Ω'Ω'x，Ω'Ω'Ω'x，</katex>……</centered>写作：<centered><katex>Ω^{0'}x，Ω^{0+1'}x，Ω^{0+1+1'}x，^{0+1+1+1'}x，</katex>……</centered>因此，我不写作“<katex>［x，ξ，Ω'ξ］</katex>”，而写作：<centered>“<katex>［Ω^{0'}x，Ω^{ν'}x，Ω^{ν+1'}x］</katex>”</centered>而且我给出如下定义：<custom /><centered>（以及依此类推）</centered>`,`6.021	数是一个运算的阶次。`,`6.022	数的概念不过是一切数所共有的东西，即数的一般形式。
数的概念是变数。
数相等的概念就是一切特定的数相等情形的一般形式。`,`6.03	整数的一般形式是：<katex>［0，\\bar{ξ}，\\bar{ξ}＋1］</katex>。`,`6.031	类的理论在数学中完全是多余的。
与此相关联的一点是：数学中所需要的概括，不是<emphasis>偶然的</emphasis>概括。`,`6.1	逻辑命题是重言式。`,`6.11	因此，逻辑命题什么也没有说。（它们是分析命题。）`,`6.111	凡是使一个逻辑命题显得像是具有内容的理论都是假的。例如，人们也许认为，词“真”和“假”标示着和其它属性一起的两种属性，于是，每个命题都具有这两种属性之一，看起来就是一个很奇怪的事实。按照这种理论，这个事实看起来决不是自明的，正如命题“所有玫瑰花不是黄的就是红的”一样，即使它为真，也不是自明的。的确，这使得逻辑命题获得了自然科学命题的全部特征，而这也就肯定地标志着逻辑命题遭到了误解。`,`6.112	要正确地说明逻辑命题，就必须在所有命题中给与它们以独特的地位。`,`6.113	逻辑命题的特有标志是，仅仅从符号人们就能认出它们为真，这个事实包含着全部的逻辑哲学。 
因此，一个同样也是非常重要的事实是：非逻辑命题的真或假<emphasis>不能</emphasis>单从命题本身看出来。`,`6.12	逻辑命题是重言式，这<emphasis>显示</emphasis>语言和世界的形式的——逻辑的——属性。
命题成分<emphasis>以这种特定方式</emphasis>联结起来构成重言式，这就表明了这些命题成分的逻辑特征。
如果一些命题以一定方式联结起来构成重言式，那么它们必定具有一定的结构性质。所以，当它们<emphasis>以这种方式</emphasis>结合起来而构成重言式时，就表明它们具有这些结构性质。`,`6.1201	例如，命题“p”和“～p”在结合“～（p·～p）”中构成一个重言式，这就表明它们是互相矛盾的。命题“p⊃q”、“p”、“q”在形式“（p⊃q）·（p）：?：（q）” 中互相结合起来构成一个重言式，这就表明 q 从 p 并且 p⊃q 得出来。“（x）·fx：⊃： fa”是一个重言式，就表明 fa 从（x）·fx 得出来，等等。`,`6.1202	很清楚，用矛盾式取代重言式也能达到同样的目的。`,`6.1203	为了看出一个表达式是重言式，在其中没有概括记号出现的情形下，可以应用如下的直观方法：我将“p”、“q”、“r’等等，写为“WpF”、“WqF”、“WrF”等等。
用括号来表达真值组合，如：<custom index="1" />并且用线段表示整个命题的真或假与其真值主目的真值组合之间的相关，方式如下<custom index="2" />这样，如上述这个记号就表述命题p⊃q。现在我想以举例的方式来考察一下命题～（p·～p）（矛盾律），看它是否为重言式。在我们的记号法中，形式“<katex>～\\bar{ξ}</katex>”写为：<custom index="3" />形式“<katex>\\bar{ξ}·η</katex>”则写为：<custom index="4" />因而，命题～（p·～q）就表为：<custom index="5" />如果在这里我们用“p”代换“q”，并考察最外层的 W 和 F 与最里层的 W 和 F 的结合，那么就得出，整个命题的真相关于其主目的<emphasis>一切</emphasis>真值组合，而其假则不与其主目的任何真值组合相关。`,`6.121	逻辑命题通过把一些命题结合成为什么也没有说的命题而展现这些命题的逻辑性质。
这种方法也可称为置零法。在逻辑命题中各命题之间达到平衡，而这种平衡状态则指明这些命题在逻辑上必须怎样构成。`,`6.122	由此得出，不用逻辑命题也行；因为在一个合适的记号系统中，我们只须仔细考察命题本身就能看出命题的形式属性。`,`6.1221	例如，若两个命题“p”和“q”在组合“p⊃q”中构成重言式，那么很清楚，q 是从 p 得来的。
例如，我们从这两个命题本身看出：“q”从“p⊃q·p”得出来，但是我们同样也可以用<emphasis>如下</emphasis>方式来表明这一点：我们将其结合为形式“p⊃q·p：?：q”，并且表明这是一个重言式。`,`6.1222	这就颇有启发地说明，为何逻辑命题不可被经验确证，就像它不可被经验驳倒一样。一个逻辑命题不仅必须不被任何可能的经验驳倒，它也必须不被任何可能的经验确证。`,`6.1223	现在清楚了，为什么人们常觉得好像我们要“<emphasis>设立</emphasis>”“逻辑真理”。道理就在于，我们可以要求设立逻辑真理，就如我们可以要求设立一种合适的记号系统一样。`,`6.1224	现在也清楚了，逻辑为何被称为形式和推论的理论。`,`6.123	很清楚，逻辑规律不能反过来又遵从逻辑规律。
（并不像罗素所认为的，每个“类型”都有一个特殊的矛盾律；一个规律就够了，因为它不应用于自身。）`,`6.1231	逻辑命题的特征<emphasis>不</emphasis>是普遍有效性。普遍不过意味着偶然地适合于一切事物。非概括命题和概括命题一样，也可以是重言式的。`,`6.1232	逻辑的普遍有效性同“凡人皆有死”这类命题的偶然的普遍有效性相对比，可以称为本质的普遍有效性。如罗素的“可归约性公理”这类命题不是逻辑命题，这就说明了我们的这种感觉：即使这些命题为真，也只能是一件碰巧的偶然事情。`,`6.1233	可能设想一个世界，其中可归约性公理是无效的。因此很清楚，我们的世界实际上是否也像这样的，这个问题同逻辑毫无关系。`,`6.124	逻辑命题描述世界的脚手架。或者不如说，它们展示世界的脚手架。它们不“论及”什么。它们假定名称具有指谓。基本命题具有意义，这就是它们同世界的联系。显然，符号——它们本质上具有确定的特性——的一定结合是重言式，这种情况必定指示着关于世界的某种东西。这是关键所在。我们说过，在我们使用的符号中，有些东西是随意的，有些东西则不是随意的。逻辑中只表达后者，这就意味着，逻辑领域不是<emphasis>我们</emphasis>借助记号来自由表达的地方，而是绝对必要的记号自身表现其本性的地方。如果我们知道任何一种记号语言的逻辑句法，那么也就有了所有的逻辑命题。`,`6.125	即使按照旧逻辑的观点，事先描述所有的“真”逻辑命题，也是可能的。`,`6.1251	因而在逻辑中<emphasis>绝不</emphasis>可能有出乎意料的东西。`,`6.126	通过对<emphasis>符号</emphasis>的逻辑属性的演算，可以演算一个命题是否属于逻辑命题。
当我们“证明”一个逻辑命题时，就是这样做的。因为无须关心意义和指谓，我们只是应用<emphasis>处理记号的规则</emphasis>来从其它命题构造逻辑命题。
逻辑命题的证明过程如下：我们连续应用总是由初始的重言式重又生成重言式的一定运算来从别的逻辑命题产生出待证明的逻辑命题。（而且，事实上从一个重言式只能<emphasis>得出</emphasis>重言式来。）
当然，这种指明逻辑命题是重言式的方法，对于逻辑是完全不重要的，因为作为证明的出发点的那些命题，必定无须任何证明就表明自己是重言式。`,`6.1261	在逻辑中，中间过程和结果的地位是等同的。（因此没有出乎意料的东西。）`,`6.1262	逻辑中的证明只是一种使得在复杂的情况下易于辨识重言式的机械的便利方法。`,`6.1263	如果一个有意义的命题可以<emphasis>逻辑地</emphasis>证明是从一些别的命题得来，一个逻辑命题<emphasis>也是</emphasis>如此的话，那就的确太奇怪了。一开始就很清楚，一个有意义的命题的证明和逻辑<emphasis>中</emphasis>的证明必然是根本不同的两回事情。`,`6.1264	有意义的命题陈述某件事情，它的证明表明确是如此。在逻辑中每个命题都是一种证明的形式。
每个逻辑命题都是一个用记号表示的 modus ponens<footnote>modus ponens，假言推理的肯定式。 ——译者</footnote>。（而 modus ponens 不能用一个命题来表达。）`,`6.1265	对逻辑始终可以这样来理解：每个逻辑命题都是它自身的证明。`,`6.127	所有逻辑命题都是同等地位的：其中并没有本质上为初始命题和本质上为派生命题之分。
每个重言式本身表明它是一个重言式。`,`6.1271	很清楚，“逻辑的初始命题”的数目是任意的，因为可以从单独一个初始命题，例如，从弗雷格的那些初始命题简单地构成的一个逻辑积，推演出逻辑来。（弗雷格也许会说，这样我们就不再有一个直接自明的初始命题了。但是一位像弗雷格这样的严谨的思想家竟会援引自明的程度作为逻辑命题的标准，那是很奇怪的。）`,`6.13	逻辑不是一种学说，而是世界的一个映像。
逻辑是先验的。`,`6.2	数学是一种逻辑方法。
数学命题是等式，因此都是伪命题。`,`6.21	数学命题不表达思想。`,`6.211	在现实生活中我们要得到的并非数学命题；或者说，我们应用数学命题<emphasis>只是</emphasis>为了从一些不属于数学的命题推论出另一些同样也不属于数学的命题。
（“我们使用这个词或者这个命题究竟为了什么？”这个问题在哲学中往往导致有价值的领悟。）`,`6.22	逻辑命题在重言式中显示的世界的逻辑，数学在等式中显示出来。`,`6.23	如果两个表达式用等号连接起来，这就意味着它们可以彼此代换。但是事实是否如此，两个表达式本身必可显示出来。
两个表达式可以彼此代换，这表明它们的逻辑形式的特征。`,`6.231	肯定可以看作双重否定，这是肯定的一个性质。
“1＋1＋1＋1”可以看作“（1＋1）＋（1＋1）”，这是“1＋1＋1＋1”的一个性质。`,`6.232	弗雷格说，上述两个表达式有相同的指谓，但是有不同的意义。
但对于等式来说，具有根本意义的一点是：为了显示用等号连接的两个表达式有相同的指谓，等式并非必要，因为这一点从两个表达式本身即可以看出来。`,`6.2321	而数学命题证明的可能性，不过意味着数学命题的正确性可以直接察知，而无须将它们表达的东西本身同事实比较以确定其正确性。`,`6.2322	两个表达式指谓的同一是不能<emphasis>断言</emphasis>的。因为，为了能够断言关于它们指谓的任何东西，我就必须知道它们的指谓，而一旦知道了它们的指谓，也就知道了它们所指的是否相同。`,`6.2323	等式不过标志我考察两个表达式的角度，即它们的指谓相等的角度。`,`6.233	在解决数学问题中是否需要直觉，这个问题应该这样回答：这里语言已经提供了必须的直觉。`,`6.2331	<emphasis>演算</emphasis>过程正好引进了这种直觉。
演算并非试验。`,`6.234	数学是一种逻辑的方法。`,`6.2341	数学方法的本质特征在于它是用等式来工作的。正是由于这种方法，每个数学命题本身必须足以表明自己的成立。`,`6.24	数学用来得到等式的方法是代换法。因为等式表达两个表达式的可代换性；我们从一定数目的等式出发，按照等式的条件，通过代换不同的表达式而推进到新的等式。`,`6.241	因此，命题 2×2＝4 的证明进行如下：<centered><katex>{(Ω^{ν})^{μ}}'x={Ω^{ν\\timesμ}}'x</katex> Def.
<katex>{Ω^{2\\times2}}'x={(Ω^{2})^{2}}'x={(Ω^{2})^{1+1}}'x</katex>
<katex>={Ω^{2}}'{Ω^{2}}'x={Ω^{1+1}}'{Ω^{1+1}}'x=(Ω'Ω)'(Ω'Ω)'x</katex>
<katex>=Ω'Ω'Ω'Ω'x={Ω^{1+1+1+1}}'x={Ω^4}'x</katex></centered>`,`6.3	逻辑的探究就是对<emphasis>所有符合规律性的东西</emphasis>的探究。逻辑之外的一切都是偶然的。`,`6.31	所谓的归纳律不可能是一条逻辑规律，因为它显然是一个有意义的命题。——因此它也不可能是一条先天的规律。`,`6.32	因果律不是规律而是一种规律的形式。`,`6.321	“因果律”是一个通名。正如在力学中有一些“极小原理”。如最小作用律，在物理学中也有一些因果律，即具有因果形式的规律。`,`6.3211	的确，人们在精确地知道怎样表述“最小作用律”以前，就已经猜测到应该有<emphasis>一个</emphasis>这样的规律。（在这里，像通常那样，一定的先天的东西被证明是某种纯属逻辑的东西。）`,`6.33	我们并非先天地<emphasis>相信</emphasis>一种守恒律，而是先天地<emphasis>知道</emphasis>一种逻辑形式的可能性。`,`6.34	如充足理由律、自然界的连续性原理和最小耗损原理等等，所有这些命题都是关于科学命题可能的规范形式的先天领悟。`,`6.341	例如，牛顿力学给世界的描述提供了一种统一的形式。让我们设想一个上面有着一些不规则黑斑的白色表面。于是我们可以说，不管这些斑块构成一种什么图像，只要用一张足够精细的方格网覆盖住这个表面，然后说出每一个方格是黑的还是白的，我就总是能够使对这个表面的描述达到任意程度的近似。用这个办法我就给这个表面的描述提供了一种统一的形式。这种形式是任意选择的，因为我可以用一张三角形格子或者六角形格子的网来达到同样的效果。也许用三角形格子的网会使描述更为简单：也就是说，用较稀的三角形网格也许比用较密的四方形网格能够更精确地描述这个表面（或者相反），如此等等。不同的网相当于不同的描述世界的系统。力学规定了一种描述世界的形式：它指出，所有描述世界的命题都必须以一定的方式从若干给定的命题——力学公理而得到。这样它就提供了建筑科学大厦的砖块，而且指出：不管你想建筑怎样的大厦，你总得必须使用而且只能使用这些砖块。
（正如借助数字系统我们能够写出任何数目一样，借助力学系统我们也应该能够写出任何物理学命题。）`,`6.342	现在我们可以看出逻辑和力学的相对地位。（这张网也可由不只一种形状的网眼组成：例如，我们可以用三角形和六角形两种网眼。）以一种给定形式的网来描述一个如上所述的图像，这一可能性关于这图像本身并无所说。（因为这种可能性对于所有这类图像都是有效的。）但是，这图像能够用具有<emphasis>特定</emphasis>大小网眼的特定的网来<emphasis>完全地</emphasis>描述，这件事<emphasis>确实</emphasis>说明了这图像的特征。
同样，世界可以用牛顿力学来描述，这关于世界并无所说；但是恰如实际上所用的描述世界的<emphasis>这种确定方式</emphasis>，却告诉了我们关于世界的某些东西。用一种力学可以比用另一种力学更为简单地描述世界，也告诉了我们关于世界的某些东西。`,`6.343	力学是一种按照单一的计划来构造我们描述世界所需的全部<emphasis>真</emphasis>命题的尝试。`,`6.3431	物理学定律借助其全部的逻辑机制而间接地说及世界的对象。`,`6.3432	我们不应忘记，力学对世界的描述都是完全一般的描述。例如，它从不提到<emphasis>特定的</emphasis>质点：它只是谈论<emphasis>任何一个不论怎样的质点</emphasis>。`,`6.35	虽然我们上述图像中的斑块是几何图形，但是几何学显然根本不能谈论它的实际形状和位置。而网是<emphasis>纯粹</emphasis>几何学的，它的全部属性可以先天地给出来。
像充足理由律等等这样的定律，涉及的是网而不是网所描述的东西。`,`6.36	要是有因果律，也就可以说“有自然律”。不过，这当然不可说，而是自已显露出来的。`,`6.361	可以用赫兹的话来说：只有<emphasis>遵从规律的</emphasis>联系才是<emphasis>可以思考</emphasis>的。`,`6.3611	我们不能将一个过程和“时间之流”——不存在这种东西——相比较，而只能将它同另一个过程（如计时器的运行过程）相比较。
因此，我们只有依靠另外一种过程才能描述一段时间的经过。
对于空间也有完全类似的情形。例如，当人们说，两个（相互排斥的）事件中一个也不能发生，因为<emphasis>没有任何东西导致发生</emphasis>一个事件而不发生另一个事件，这实际上是由于，除非有某种不对称，我们就不能描述这两件事当中的<emphasis>一件</emphasis>。而<emphasis>如果有</emphasis>这种不对称，我们就可以认为它是一件事发生而另一件事不发生的原因。`,`6.36111	康德的关于右手和左手不能使之重合的问题，在平面中就已经存在，甚至也存在于一维空间中：<centered><katex>\\cdots\\underset{\\text{a}}{\\circ——\\times}\\cdots\\underset{\\text{b}}{\\times——\\circ}\\cdots</katex></centered>如其中两个全等的图形 a 和 b，除非越出这个空间，就不能使之重合。右手和左手事实上是真正地全等的，人们不能使它们重合与这一事实没有关系。
假如能够在四维空间中旋转，右手套就可以戴到左手上面。`,`6.362	凡能描述的就能够发生；而为因果律所排除的东西是不可描述的。`,`6.363	归纳程序的实质在于，我们承认能够同我们的经验协调的<emphasis>最简单的</emphasis>规律为真。`,`6.3631	但是这种程序只有心理的依据而没有逻辑的依据。
很清楚，相信实际上只会发生最简单的可能事件是没有根据的。`,`6.36311	太阳会在明天出来是一个假设：这意味着我们不<emphasis>知道</emphasis>它是否会出来。`,`6.37	由于另外某个事件的发生，一个事件就必定发生，这种强制性是没有的。只有一种<emphasis>逻辑的</emphasis>必然性。`,`6.371	整个现代的世界观都建立在一种幻觉的基础上，即认为所谓的自然律是自然现象的解释。`,`6.372	所以，当代人们站在自然律面前，就像古代人们站在神和命运面前一样，把它视为某种神圣不可侵犯的东西。
事实上他们两者都是正确的，也都是错误的：虽然古代人们的观点更为清楚一些，因为他们承认有一个明白的界限，而现代的系统则力求显得似乎<emphasis>一切东西</emphasis>都已经得到解释。`,`6.373	世界是独立于我的意志的。`,`6.374	即使我们所希望的一切都会发生，这也只能说是命运的恩赐，因为在意志和世界之间没有保证这一点的<emphasis>逻辑的</emphasis>联系，而假定的物理的联系又不是我们自己所能意愿的东西。`,`6.375	正如只有<emphasis>逻辑的</emphasis>必然性一样，也只有<emphasis>逻辑的</emphasis>不可能性。`,`6.3751	例如，在视域的一个位置上同时显现两种颜色是不可能的，而且是逻辑上的不可能，因为它为颜色的逻辑结构所排斥。
让我们设想这种矛盾在物理学中是如何表现的：大体上是这样的——一个质点不可能同时具有两个速度；也就是说，它不可能同时处在两个位置；也就是说，同一时刻处在不同位置的质点不可能是同一的。
（很清楚，两个基本命题的逻辑积可以既不是重言式也不是矛盾。说视野中的一个点同时具有两种不同颜色，这个陈述是一个矛盾。）`,`6.4	所有命题都是同等价值的。`,`6.41	世界的意义必定在世界之外。世界中一切事情就如它们之所是而是，如它们之所发生而发生；世界<emphasis>中</emphasis>不存在价值——如果存在价值，那它也会是无价值的。
如果存在任何有价值的价值，那么它必定处在一切发生的和既存的东西之外。因为一切发生的和既存的东西都是偶然的。
使它们成为非偶然的那种东西，不可能<emphasis>在</emphasis>世界<emphasis>之中</emphasis>，因为如果在世界之中，它本身就是偶然的了。
它必定在世界之外。`,`6.42	所以也不可能有伦理命题。
命题不能表达更高的东西。`,`6.421	很清楚，伦理是不可说的。
伦理是超验的。
（伦理和美学是同一个东西。）`,`6.422	当列出一个“你应该……”形式的伦理规范时，人们首先的一个想法就是：如果我不这样做又怎么样呢？可是很清楚，伦理与通常意义下的奖和惩没有什么关系。所以关于行为<emphasis>后果</emphasis>的问题必定是不重要的。——至少那些后果不是重大事件。但是这问题的提出必有某种正确的东西。确实应该有某种伦理的奖励和伦理的惩罚，但是这些必须就包含在行动本身之中。
（同样也很清楚，奖励应该是某种愉快的东西，而惩罚应该是某种不愉快的东西。）`,`6.423	作为伦理主体的意志是不可说的。
而作为一种现象的意志只有心理学才感到兴趣。`,`6.43	如果善的意志或恶的意志可以改变世界，那么它只能改变世界的界限，而不能改变事实，即不能改变可以用语言表达的东西。
简言之，其结果必然是世界整个地变成另外的样子。也就是说，世界必定作为整体而消长。
幸福者的世界不同于不幸者的世界。`,`6.431	同样地，在死这一点上，世界不是改变，而是终止。`,`6.4311	死不是生活里的一件事情：人是没有经历过死的。
如果我们不把永恒性理解为时间的无限延续，而是理解为无时间性，那么此刻活着的人，也就永恒地活着。
人生之为无穷，正如视域之为无限。`,`6.4312	不仅人的灵魂在时间上的不灭，或者说它在死后的永存，是没有保证的，而且在任何情形下，这个假定都达不到人们所不断追求的目的。难道由于我的永生就能把一些谜解开吗？这种永恒的人生难道不像我们此刻的人生一样是一个谜吗？时空之中的人生之谜的解答，在于时空<emphasis>之外</emphasis>。
（所要解答的肯定不是自然科学的问题。）`,`6.432	世界上的事物是<emphasis>怎样的</emphasis>，对于更高者完全无关紧要。上帝不<emphasis>在</emphasis>世<emphasis>上</emphasis>现身。`,`6.4321	事实都只算是提出问题，而非问题的解答。`,`6.44	世界是<emphasis>怎样的</emphasis>这一点并不神秘，而世界存在着，这一点是神秘的。`,`6.45	用永恒观点来观察世界，就是把它看作一个整体——一个有界限的整体。
把世界作为一个有限整体的感觉是神秘的。`,`6.5	若解答不可说，其问题也就不可说。
<emphasis>谜</emphasis>是不存在的。
当一个问题可以提出，它也就<emphasis>可能</emphasis>得到解答。`,`6.51	怀疑论不是不可反驳的，而是因为它试图在不能提出问题的地方产生怀疑，所以显然是无意义的。
因为怀疑只能存在于有一定问题的地方，一定问题只能存在于有一定解答的地方，而解答则只能存在于有某种东西<emphasis>可说</emphasis>的地方。`,`6.52	我们觉得，即使一切<emphasis>可能的</emphasis>科学问题都已得到解答，也还完全没有触及到人生问题。当然那时不再有问题留下来，而这也就正是解答。`,`6.521	人生问题的解答在于这个问题的消除。
（有些人在长期怀疑之后发现他们明白了人生的意义，但是又不能说出来这意义究竟是什么，不就是这个道理吗？）`,`6.522	确实有不可说的东西。它们<emphasis>显示</emphasis>自己，它们是神秘的东西。`,`6.53	哲学中正确的方法是：除了可说的东西，即自然科学的命题——也就是与哲学无关的某种东西之外，就不再说什么，而且一旦有人想说某种形而上学的东西时，立刻就向他指明，他没有给他的命题中的某些记号以指谓。虽然有人会不满意这种方法——他不觉得我们是在教他哲学——但是<emphasis>这</emphasis>却是唯一严格正确的方法。`,`6.54	我的命题应当是以如下方式来起阐明作用的：任何理解我的人，当他用这些命题为梯级而超越了它们时，就会终于认识到它们是无意义的。（可以说，在登上高处之后他必须把梯子扔掉。）
他必须超越这些命题，然后他就会正确看待世界。`,`7	对于不可说的东西我们必须保持沉默。`];var $t=y(`div`,{target:`eh1i7b61`})({name:`vetbs0`,styles:`display:grid`}),en=y(`div`,{target:`eh1i7b60`})({name:`rm6o55`,styles:`border-style:solid;border-color:#aaa;text-align:center;border-width:0;width:50px`}),tn=m(2),nn=f(2),rn=c({name:`138hpv0`,styles:`border-top-width:1px!important`}),an=c({name:`ccjhqj`,styles:`border-right-width:1px!important`}),on=c({name:`wf74ae`,styles:`border-bottom-width:1px!important`}),sn=c({name:`1t95p66`,styles:`border-left-width:1px!important`});const cn=({rowSeparate:e=1,col:t,colSeparate:n=-1,values:r})=>i($t,{className:c(`grid-template-columns:repeat(`,t,`, 1fr);`,``),children:r.map((r,a)=>{let o=Math.floor(a/t),c=a%t;return i(en,{className:s(o===e?s(tn,rn):``,c===n?s(nn,sn):``,c===t-1?``:an,on),children:r},a)})});var ln=y(`text`,{target:`eiewcif4`})({name:`1wbhht`,styles:`font-size:12px;fill:black;user-select:none`}),un=y(`line`,{target:`eiewcif3`})({name:`vgrzyq`,styles:`stroke:black;stroke-width:1.5`}),dn={a1:[40,140],a2:[140,140],a3:[140,40],a4:[40,40]},fn={b1:[80,100],b2:[180,100],b3:[180,0],b4:[80,0]};const pn=()=>a(`svg`,{className:d(200),viewBox:`0 0 200 150`,children:[i(un,{x1:dn.a1[0],y1:dn.a1[1],x2:dn.a2[0],y2:dn.a2[1]}),i(un,{x1:dn.a2[0],y1:dn.a2[1],x2:dn.a3[0],y2:dn.a3[1]}),i(un,{x1:dn.a3[0],y1:dn.a3[1],x2:dn.a4[0],y2:dn.a4[1]}),i(un,{x1:dn.a4[0],y1:dn.a4[1],x2:dn.a1[0],y2:dn.a1[1]}),i(un,{x1:fn.b1[0],y1:fn.b1[1],x2:fn.b2[0],y2:fn.b2[1]}),i(un,{x1:fn.b2[0],y1:fn.b2[1],x2:fn.b3[0],y2:fn.b3[1]}),i(un,{x1:fn.b3[0],y1:fn.b3[1],x2:fn.b4[0],y2:fn.b4[1]}),i(un,{x1:fn.b4[0],y1:fn.b4[1],x2:fn.b1[0],y2:fn.b1[1]}),i(un,{x1:dn.a1[0],y1:dn.a1[1],x2:fn.b1[0],y2:fn.b1[1]}),i(un,{x1:dn.a2[0],y1:dn.a2[1],x2:fn.b2[0],y2:fn.b2[1]}),i(un,{x1:dn.a3[0],y1:dn.a3[1],x2:fn.b3[0],y2:fn.b3[1]}),i(un,{x1:dn.a4[0],y1:dn.a4[1],x2:fn.b4[0],y2:fn.b4[1]}),i(ln,{x:dn.a1[0]-3,y:dn.a1[1]+12,children:`a`}),i(ln,{x:dn.a2[0]-3,y:dn.a2[1]+12,children:`a`}),i(ln,{x:dn.a3[0]-6,y:dn.a3[1]-5,children:`a`}),i(ln,{x:dn.a4[0]-6,y:dn.a4[1]-5,children:`a`}),i(ln,{x:fn.b1[0]+1,y:fn.b1[1]+12,children:`b`}),i(ln,{x:fn.b2[0]+1,y:fn.b2[1]+12,children:`b`}),i(ln,{x:fn.b3[0]-3,y:fn.b3[1]-5,children:`b`}),i(ln,{x:fn.b4[0]-3,y:fn.b4[1]-5,children:`b`})]});var mn=y(`svg`,{target:`eiewcif2`})({name:`15c4nl0`,styles:`width:300px;height:100px`}),hn=y(`circle`,{target:`eiewcif1`})({name:`zdx0bd`,styles:`fill:white;stroke:black;stroke-width:1.5`}),gn=y(`path`,{target:`eiewcif0`})({name:`sju5qp`,styles:`fill:none;stroke:black;stroke-width:1.5`}),_n=50,vn=50,yn=4,bn=300,xn=-80,Sn=300,Cn=180;const wn=()=>a(mn,{viewBox:`0 0 300 100`,children:[i(gn,{d:`M ${_n} ${vn}
                      C ${bn} ${xn},
                        ${Sn} ${Cn},
                        ${_n} ${vn}`}),i(hn,{cx:_n,cy:vn,r:yn}),i(ln,{x:_n-50,y:vn+4,children:`眼睛 -`})]}),Tn=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),En=(e,t)=>t?{x:-e.y,y:e.x}:{x:e.y,y:-e.x},Dn=(e,t)=>({x:e.x*t,y:e.y*t});var On=y(`text`,{target:`e1vzqiyf2`})({name:`1wbhht`,styles:`font-size:12px;fill:black;user-select:none`}),kn=y(`line`,{target:`e1vzqiyf1`})({name:`10zi3xa`,styles:`stroke:#aaa;stroke-width:1.5`}),An=y(`line`,{target:`e1vzqiyf0`})({name:`vgrzyq`,styles:`stroke:black;stroke-width:1.5`}),jn=({start:e,end:t,isLeftBracket:n,curveScale:r=.05})=>{let i={x:t.x-e.x,y:t.y-e.y},a=En(i,n),o=[e],s=e=>{let t=o[o.length-1],n=Tn(t,e);o.push(n)};return s(Dn(a,r)),s(Dn(i,.1)),s(Dn(i,.3)),s(Dn(i,.1)),s(Dn(a,.05)),s(Dn(a,-.05)),s(Dn(i,.1)),s(Dn(i,.3)),s(Dn(i,.1)),s(Dn(a,-r)),`
        M ${o[0].x} ${o[0].y}
        Q ${o[1].x} ${o[1].y} ${o[2].x} ${o[2].y}
        L ${o[3].x} ${o[3].y}
        Q ${o[4].x} ${o[4].y} ${o[5].x} ${o[5].y}
        Q ${o[6].x} ${o[6].y} ${o[7].x} ${o[7].y}
        L ${o[8].x} ${o[8].y}
        Q ${o[9].x} ${o[9].y} ${o[10].x} ${o[10].y}
    `.trim()},S={leftW:{x:30,y:70},left:{x:50,y:70},leftF:{x:70,y:70},rightW:{x:230,y:70},right:{x:250,y:70},rightF:{x:270,y:70}},C={leftW:{x:30,y:100},left:{x:50,y:100},leftF:{x:70,y:100},leftFW:{x:50,y:70},leftWF:{x:50,y:130},rightW:{x:210,y:100},right:{x:230,y:100},rightF:{x:250,y:100}},Mn={up:{x:0,y:-10},down:{x:0,y:10}},Nn={ww:{start:Tn(S.leftW,Mn.up),end:Tn(S.rightW,Mn.up),isLeftBracket:!1},wf:{start:Tn(S.leftW,Mn.up),end:Tn(S.rightF,Mn.up),isLeftBracket:!1,curveScale:.12},fw:{start:Tn(S.leftF,Mn.down),end:Tn(S.rightW,Mn.down),isLeftBracket:!0},ff:{start:Tn(S.leftF,Mn.down),end:Tn(S.rightF,Mn.down),isLeftBracket:!0,curveScale:.12}},Pn={fw:{start:Tn(S.leftF,Mn.up),end:Tn(S.rightW,Mn.up),isLeftBracket:!1},ff:{start:Tn(S.leftF,Mn.up),end:Tn(S.rightF,Mn.up),isLeftBracket:!1,curveScale:.12},ww:{start:Tn(S.leftW,Mn.down),end:Tn(S.rightW,Mn.down),isLeftBracket:!0},wf:{start:Tn(S.leftW,Mn.down),end:Tn(S.rightF,Mn.down),isLeftBracket:!0,curveScale:.12}},Fn={fww:{start:Tn(C.leftFW,Mn.up),end:Tn(C.rightW,Mn.up),isLeftBracket:!1},fwf:{start:Tn(C.leftFW,Mn.up),end:Tn(C.rightF,Mn.up),isLeftBracket:!1,curveScale:.12},wfw:{start:Tn(C.leftWF,Mn.down),end:Tn(C.rightW,Mn.down),isLeftBracket:!0},wff:{start:Tn(C.leftWF,Mn.down),end:Tn(C.rightF,Mn.down),isLeftBracket:!0,curveScale:.12}};const In=()=>a(`svg`,{viewBox:`0 0 300 150`,width:`300`,height:`150`,children:[i(`path`,{d:jn(Nn.ww),fill:`none`,stroke:`black`,strokeWidth:`1.5`}),i(`path`,{d:jn(Nn.wf),fill:`none`,stroke:`black`,strokeWidth:`1.5`}),i(`path`,{d:jn(Nn.fw),fill:`none`,stroke:`black`,strokeWidth:`1.5`}),i(`path`,{d:jn(Nn.ff),fill:`none`,stroke:`black`,strokeWidth:`1.5`}),i(On,{x:S.leftW.x-4,y:S.leftW.y+4,children:`W`}),i(On,{x:S.left.x-4,y:S.left.y+4,children:`p`}),i(On,{x:S.leftF.x-4,y:S.leftF.y+4,children:`F`}),i(On,{x:S.rightW.x-4,y:S.rightW.y+4,children:`W`}),i(On,{x:S.right.x-4,y:S.right.y+4,children:`q`}),i(On,{x:S.rightF.x-4,y:S.rightF.y+4,children:`F`})]}),Ln=()=>a(`svg`,{viewBox:`0 0 300 150`,width:`300`,height:`150`,children:[i(`path`,{d:jn(Nn.ww),fill:`none`,stroke:`black`,strokeWidth:`1.5`}),i(`path`,{d:jn(Nn.wf),fill:`none`,stroke:`black`,strokeWidth:`1.5`}),i(`path`,{d:jn(Nn.fw),fill:`none`,stroke:`black`,strokeWidth:`1.5`}),i(`path`,{d:jn(Nn.ff),fill:`none`,stroke:`black`,strokeWidth:`1.5`}),i(On,{x:S.leftW.x-4,y:S.leftW.y+4,children:`W`}),i(On,{x:S.left.x-4,y:S.left.y+4,children:`p`}),i(On,{x:S.leftF.x-4,y:S.leftF.y+4,children:`F`}),i(On,{x:S.rightW.x-4,y:S.rightW.y+4,children:`W`}),i(On,{x:S.right.x-4,y:S.right.y+4,children:`q`}),i(On,{x:S.rightF.x-4,y:S.rightF.y+4,children:`F`}),i(kn,{x1:130,y1:41,x2:145,y2:112}),i(kn,{x1:150,y1:95,x2:148,y2:112}),i(kn,{x1:170,y1:115,x2:155,y2:118}),i(On,{x:140,y:125,children:`W`}),i(On,{x:147,y:14,children:`F`})]}),Rn=()=>a(`svg`,{viewBox:`0 0 100 200`,width:`100`,height:`200`,children:[i(On,{x:C.leftW.x-4,y:C.leftW.y+4,children:`W`}),i(On,{x:C.left.x-4,y:C.left.y+4,children:`ξ`}),i(On,{x:C.leftF.x-4,y:C.leftF.y+4,children:`F`}),i(On,{x:C.leftFW.x-4,y:C.leftFW.y+4,children:`W`}),i(On,{x:C.leftWF.x-4,y:C.leftWF.y+4,children:`F`}),i(An,{x1:C.leftW.x+4,y1:C.leftW.y+8,x2:C.leftWF.x-4,y2:C.leftWF.y-8}),i(An,{x1:C.leftF.x-4,y1:C.leftF.y-8,x2:C.leftFW.x+4,y2:C.leftFW.y+8})]}),zn=()=>a(`svg`,{viewBox:`0 0 300 150`,width:`300`,height:`150`,children:[i(`path`,{d:jn(Pn.ww),fill:`none`,stroke:`black`,strokeWidth:`1.5`}),i(`path`,{d:jn(Pn.wf),fill:`none`,stroke:`black`,strokeWidth:`1.5`}),i(`path`,{d:jn(Pn.fw),fill:`none`,stroke:`black`,strokeWidth:`1.5`}),i(`path`,{d:jn(Pn.ff),fill:`none`,stroke:`black`,strokeWidth:`1.5`}),i(On,{x:S.leftW.x-4,y:S.leftW.y+4,children:`W`}),i(On,{x:S.left.x-4,y:S.left.y+4,children:`ξ`}),i(On,{x:S.leftF.x-4,y:S.leftF.y+4,children:`F`}),i(On,{x:S.rightW.x-4,y:S.rightW.y+4,children:`W`}),i(On,{x:S.right.x-4,y:S.right.y+4,children:`η`}),i(On,{x:S.rightF.x-4,y:S.rightF.y+4,children:`F`}),i(kn,{x1:130,y1:95,x2:125,y2:24}),i(kn,{x1:170,y1:26,x2:162,y2:122}),i(kn,{x1:150,y1:45,x2:160,y2:122}),i(kn,{x1:150,y1:121,x2:157,y2:124}),i(On,{x:120,y:20,children:`W`}),i(On,{x:158,y:135,children:`F`})]}),Bn=()=>a(`svg`,{viewBox:`0 0 300 200`,width:`300`,height:`200`,children:[i(`path`,{d:jn(Fn.wfw),fill:`none`,stroke:`black`,strokeWidth:`1.5`}),i(`path`,{d:jn(Fn.wff),fill:`none`,stroke:`black`,strokeWidth:`1.5`}),i(`path`,{d:jn(Fn.fww),fill:`none`,stroke:`black`,strokeWidth:`1.5`}),i(`path`,{d:jn(Fn.fwf),fill:`none`,stroke:`black`,strokeWidth:`1.5`}),i(On,{x:C.leftW.x-4,y:C.leftW.y+4,children:`W`}),i(On,{x:C.left.x-4,y:C.left.y+4,children:`q`}),i(On,{x:C.leftF.x-4,y:C.leftF.y+4,children:`F`}),i(On,{x:C.leftFW.x-4,y:C.leftFW.y+4,children:`W`}),i(On,{x:C.leftWF.x-4,y:C.leftWF.y+4,children:`F`}),i(On,{x:C.rightW.x-4,y:C.rightW.y+4,children:`W`}),i(On,{x:C.right.x-4,y:C.right.y+4,children:`p`}),i(On,{x:C.rightF.x-4,y:C.rightF.y+4,children:`F`}),i(An,{x1:C.leftW.x+4,y1:C.leftW.y+8,x2:C.leftWF.x-4,y2:C.leftWF.y-8}),i(An,{x1:C.leftF.x-4,y1:C.leftF.y-8,x2:C.leftFW.x+4,y2:C.leftFW.y+8}),i(kn,{x1:133,y1:60,x2:142,y2:38}),i(kn,{x1:155,y1:40,x2:160,y2:166}),i(kn,{x1:133,y1:141,x2:154,y2:167}),i(kn,{x1:155,y1:159,x2:157,y2:166}),i(On,{x:140,y:35,children:`W`}),i(On,{x:170,y:15,children:`F`}),i(An,{x1:153,y1:25,x2:168,y2:15}),i(On,{x:155,y:179,children:`F`}),i(On,{x:175,y:199,children:`W`}),i(An,{x1:163,y1:178,x2:174,y2:188})]});var Vn=class e{constructor(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new e(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}},Hn=class e{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(t,n){return new e(n,Vn.range(this,t))}},w=class e{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r=`KaTeX parse error: `+t,i,a,o=n&&n.loc;if(o&&o.start<=o.end){var s=o.lexer.input;i=o.start,a=o.end,i===s.length?r+=` at end of input: `:r+=` at position `+(i+1)+`: `;var c=s.slice(i,a).replace(/[^]/g,`$&̲`),l=i>15?`…`+s.slice(i-15,i):s.slice(0,i),u=a+15<s.length?s.slice(a,a+15)+`…`:s.slice(a);r+=l+c+u}var d=Error(r);return d.name=`ParseError`,d.__proto__=e.prototype,d.position=i,i!=null&&a!=null&&(d.length=a-i),d.rawMessage=t,d}};w.prototype.__proto__=Error.prototype;var Un=function(e,t){return e===void 0?t:e},Wn=/([A-Z])/g,Gn=function(e){return e.replace(Wn,`-$1`).toLowerCase()},Kn={"&":`&amp;`,">":`&gt;`,"<":`&lt;`,'"':`&quot;`,"'":`&#x27;`},qn=/[&><"']/g;function Jn(e){return String(e).replace(qn,e=>Kn[e])}var Yn=function e(t){return t.type===`ordgroup`||t.type===`color`?t.body.length===1?e(t.body[0]):t:t.type===`font`?e(t.body):t},Xn=function(e){var t=Yn(e);return t.type===`mathord`||t.type===`textord`||t.type===`atom`},Zn=function(e){if(!e)throw Error(`Expected non-null, but got `+String(e));return e},Qn={deflt:Un,escape:Jn,hyphenate:Gn,getBaseElem:Yn,isCharacterBox:Xn,protocolFromUrl:function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]!==`:`||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?null:t[1].toLowerCase():`_relative`}},$n={displayMode:{type:`boolean`,description:`Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.`,cli:`-d, --display-mode`},output:{type:{enum:[`htmlAndMathml`,`html`,`mathml`]},description:`Determines the markup language of the output.`,cli:`-F, --format <type>`},leqno:{type:`boolean`,description:`Render display math in leqno style (left-justified tags).`},fleqn:{type:`boolean`,description:`Render display math flush left.`},throwOnError:{type:`boolean`,default:!0,cli:`-t, --no-throw-on-error`,cliDescription:`Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error.`},errorColor:{type:`string`,default:`#cc0000`,cli:`-c, --error-color <color>`,cliDescription:`A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.`,cliProcessor:e=>`#`+e},macros:{type:`object`,cli:`-m, --macro <def>`,cliDescription:`Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).`,cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:`number`,description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:`--min-rule-thickness <size>`,cliProcessor:parseFloat},colorIsTextColor:{type:`boolean`,description:`Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.`,cli:`-b, --color-is-text-color`},strict:{type:[{enum:[`warn`,`ignore`,`error`]},`boolean`,`function`],description:`Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.`,cli:`-S, --strict`,cliDefault:!1},trust:{type:[`boolean`,`function`],description:`Trust the input, enabling all HTML features such as \\url.`,cli:`-T, --trust`},maxSize:{type:`number`,default:1/0,description:`If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large`,processor:e=>Math.max(0,e),cli:`-s, --max-size <n>`,cliProcessor:parseInt},maxExpand:{type:`number`,default:1e3,description:`Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.`,processor:e=>Math.max(0,e),cli:`-e, --max-expand <n>`,cliProcessor:e=>e===`Infinity`?1/0:parseInt(e)},globalGroup:{type:`boolean`,cli:!1}};function er(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!=`string`)return n.enum[0];switch(n){case`boolean`:return!1;case`string`:return``;case`number`:return 0;case`object`:return{}}}var tr=class{constructor(e){for(var t in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e||={},$n)if($n.hasOwnProperty(t)){var n=$n[t];this[t]=e[t]===void 0?er(n):n.processor?n.processor(e[t]):e[t]}}reportNonstrict(e,t,n){var r=this.strict;if(typeof r==`function`&&(r=r(e,t,n)),!(!r||r===`ignore`)){if(r===!0||r===`error`)throw new w(`LaTeX-incompatible input and strict mode is set to 'error': `+(t+` [`+e+`]`),n);r===`warn`?typeof console<`u`&&console.warn(`LaTeX-incompatible input and strict mode is set to 'warn': `+(t+` [`+e+`]`)):typeof console<`u`&&console.warn(`LaTeX-incompatible input and strict mode is set to `+(`unrecognized '`+r+`': `+t+` [`+e+`]`))}}useStrictBehavior(e,t,n){var r=this.strict;if(typeof r==`function`)try{r=r(e,t,n)}catch{r=`error`}return!r||r===`ignore`?!1:r===!0||r===`error`?!0:r===`warn`?(typeof console<`u`&&console.warn(`LaTeX-incompatible input and strict mode is set to 'warn': `+(t+` [`+e+`]`)),!1):(typeof console<`u`&&console.warn(`LaTeX-incompatible input and strict mode is set to `+(`unrecognized '`+r+`': `+t+` [`+e+`]`)),!1)}isTrusted(e){if(e.url&&!e.protocol){var t=Qn.protocolFromUrl(e.url);if(t==null)return!1;e.protocol=t}return!!(typeof this.trust==`function`?this.trust(e):this.trust)}},nr=class{constructor(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}sup(){return dr[fr[this.id]]}sub(){return dr[pr[this.id]]}fracNum(){return dr[mr[this.id]]}fracDen(){return dr[hr[this.id]]}cramp(){return dr[gr[this.id]]}text(){return dr[_r[this.id]]}isTight(){return this.size>=2}},rr=0,ir=1,ar=2,or=3,sr=4,cr=5,lr=6,ur=7,dr=[new nr(rr,0,!1),new nr(ir,0,!0),new nr(ar,1,!1),new nr(or,1,!0),new nr(sr,2,!1),new nr(cr,2,!0),new nr(lr,3,!1),new nr(ur,3,!0)],fr=[sr,cr,sr,cr,lr,ur,lr,ur],pr=[cr,cr,cr,cr,ur,ur,ur,ur],mr=[ar,or,sr,cr,lr,ur,lr,ur],hr=[or,or,cr,cr,ur,ur,ur,ur],gr=[ir,ir,or,or,cr,cr,ur,ur],_r=[rr,ir,ar,or,ar,or,ar,or],T={DISPLAY:dr[rr],TEXT:dr[ar],SCRIPT:dr[sr],SCRIPTSCRIPT:dr[lr]},vr=[{name:`latin`,blocks:[[256,591],[768,879]]},{name:`cyrillic`,blocks:[[1024,1279]]},{name:`armenian`,blocks:[[1328,1423]]},{name:`brahmic`,blocks:[[2304,4255]]},{name:`georgian`,blocks:[[4256,4351]]},{name:`cjk`,blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:`hangul`,blocks:[[44032,55215]]}];function yr(e){for(var t=0;t<vr.length;t++)for(var n=vr[t],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(e>=i[0]&&e<=i[1])return n.name}return null}var br=[];vr.forEach(e=>e.blocks.forEach(e=>br.push(...e)));function xr(e){for(var t=0;t<br.length;t+=2)if(e>=br[t]&&e<=br[t+1])return!0;return!1}var Sr=80,Cr=function(e,t){return`M95,`+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+` -`+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+` `+t+`h400000v`+(40+e)+`h-400000z`},wr=function(e,t){return`M263,`+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+` -`+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+` `+t+`h400000v`+(40+e)+`h-400000z`},Tr=function(e,t){return`M983 `+(10+e+t)+`
l`+e/3.13+` -`+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+` `+t+`h400000v`+(40+e)+`h-400000z`},Er=function(e,t){return`M424,`+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+` -`+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+` `+t+`
h400000v`+(40+e)+`h-400000z`},Dr=function(e,t){return`M473,`+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+` -`+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+` `+t+`h400000v`+(40+e)+`H1017.7z`},Or=function(e){var t=e/2;return`M400000 `+e+` H0 L`+t+` 0 l65 45 L145 `+(e-80)+` H400000z`},kr=function(e,t,n){var r=n-54-t-e;return`M702 `+(e+t)+`H400000`+(40+e)+`
H742v`+r+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+`H400000v`+(40+e)+`H742z`},Ar=function(e,t,n){t=1e3*t;var r=``;switch(e){case`sqrtMain`:r=Cr(t,Sr);break;case`sqrtSize1`:r=wr(t,Sr);break;case`sqrtSize2`:r=Tr(t,Sr);break;case`sqrtSize3`:r=Er(t,Sr);break;case`sqrtSize4`:r=Dr(t,Sr);break;case`sqrtTall`:r=kr(t,Sr,n)}return r},jr=function(e,t){switch(e){case`⎜`:return`M291 0 H417 V`+t+` H291z M291 0 H417 V`+t+` H291z`;case`∣`:return`M145 0 H188 V`+t+` H145z M145 0 H188 V`+t+` H145z`;case`∥`:return`M145 0 H188 V`+t+` H145z M145 0 H188 V`+t+` H145z`+(`M367 0 H410 V`+t+` H367z M367 0 H410 V`+t+` H367z`);case`⎟`:return`M457 0 H583 V`+t+` H457z M457 0 H583 V`+t+` H457z`;case`⎢`:return`M319 0 H403 V`+t+` H319z M319 0 H403 V`+t+` H319z`;case`⎥`:return`M263 0 H347 V`+t+` H263z M263 0 H347 V`+t+` H263z`;case`⎪`:return`M384 0 H504 V`+t+` H384z M384 0 H504 V`+t+` H384z`;case`⏐`:return`M312 0 H355 V`+t+` H312z M312 0 H355 V`+t+` H312z`;case`‖`:return`M257 0 H300 V`+t+` H257z M257 0 H300 V`+t+` H257z`+(`M478 0 H521 V`+t+` H478z M478 0 H521 V`+t+` H478z`);default:return``}},Mr={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Nr=function(e,t){switch(e){case`lbrack`:return`M403 1759 V84 H666 V0 H319 V1759 v`+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+` v1759 h84z`;case`rbrack`:return`M347 1759 V0 H0 V84 H263 V1759 v`+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+` v1759 h84z`;case`vert`:return`M145 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z`;case`doublevert`:return`M145 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+` v585 h43z`;case`lfloor`:return`M319 602 V0 H403 V602 v`+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+` v1715 H319z`;case`rfloor`:return`M319 602 V0 H403 V602 v`+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+` v1715 H319z`;case`lceil`:return`M403 1759 V84 H666 V0 H319 V1759 v`+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+` v602 h84z`;case`rceil`:return`M347 1759 V0 H0 V84 H263 V1759 v`+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+` v602 h84z`;case`lparen`:return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case`rparen`:return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw Error(`Unknown stretchy delimiter.`)}},Pr=class{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e=``,t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){return this.children.map(e=>e.toText()).join(``)}},Fr={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Ir={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Lr={Å:`A`,Ð:`D`,Þ:`o`,å:`a`,ð:`d`,þ:`o`,А:`A`,Б:`B`,В:`B`,Г:`F`,Д:`A`,Е:`E`,Ж:`K`,З:`3`,И:`N`,Й:`N`,К:`K`,Л:`N`,М:`M`,Н:`H`,О:`O`,П:`N`,Р:`P`,С:`C`,Т:`T`,У:`y`,Ф:`O`,Х:`X`,Ц:`U`,Ч:`h`,Ш:`W`,Щ:`W`,Ъ:`B`,Ы:`X`,Ь:`B`,Э:`3`,Ю:`X`,Я:`R`,а:`a`,б:`b`,в:`a`,г:`r`,д:`y`,е:`e`,ж:`m`,з:`e`,и:`n`,й:`n`,к:`n`,л:`n`,м:`m`,н:`n`,о:`o`,п:`n`,р:`p`,с:`c`,т:`o`,у:`y`,ф:`b`,х:`x`,ц:`n`,ч:`n`,ш:`w`,щ:`w`,ъ:`a`,ы:`m`,ь:`a`,э:`e`,ю:`m`,я:`r`};function Rr(e,t,n){if(!Fr[t])throw Error(`Font metrics not found for font: `+t+`.`);var r=e.charCodeAt(0),i=Fr[t][r];if(!i&&e[0]in Lr&&(r=Lr[e[0]].charCodeAt(0),i=Fr[t][r]),!i&&n===`text`&&xr(r)&&(i=Fr[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var zr={};function Br(e){var t=e>=5?0:e>=3?1:2;if(!zr[t]){var n=zr[t]={cssEmPerMu:Ir.quad[t]/18};for(var r in Ir)Ir.hasOwnProperty(r)&&(n[r]=Ir[r][t])}return zr[t]}var Vr=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Hr=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Ur=function(e,t){return t.size<2?e:Vr[e-1][t.size-1]},Wr=class e{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||e.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||``,this.fontFamily=t.fontFamily||``,this.fontWeight=t.fontWeight||``,this.fontShape=t.fontShape||``,this.sizeMultiplier=Hr[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new e(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:Ur(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Hr[e-1]})}havingBaseStyle(t){t||=this.style.text();var n=Ur(e.BASESIZE,t);return this.size===n&&this.textSize===e.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:``})}withTextFontWeight(e){return this.extend({fontWeight:e,font:``})}withTextFontShape(e){return this.extend({fontShape:e,font:``})}sizingClasses(e){return e.size===this.size?[]:[`sizing`,`reset-size`+e.size,`size`+this.size]}baseSizingClasses(){return this.size===e.BASESIZE?[]:[`sizing`,`reset-size`+this.size,`size`+e.BASESIZE]}fontMetrics(){return this._fontMetrics||=Br(this.size),this._fontMetrics}getColor(){return this.phantom?`transparent`:this.color}};Wr.BASESIZE=6;var Gr={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Kr={ex:!0,em:!0,mu:!0},qr=function(e){return typeof e!=`string`&&(e=e.unit),e in Gr||e in Kr||e===`ex`},Jr=function(e,t){var n;if(e.unit in Gr)n=Gr[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit===`mu`)n=t.fontMetrics().cssEmPerMu;else{var r=t.style.isTight()?t.havingStyle(t.style.text()):t;if(e.unit===`ex`)n=r.fontMetrics().xHeight;else if(e.unit===`em`)n=r.fontMetrics().quad;else throw new w(`Invalid unit: '`+e.unit+`'`);r!==t&&(n*=r.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},E=function(e){return+e.toFixed(4)+`em`},Yr=function(e){return e.filter(e=>e).join(` `)},Xr=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push(`mtight`);var r=t.getColor();r&&(this.style.color=r)}},Zr=function(e){var t=document.createElement(e);for(var n in t.className=Yr(this.classes),this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&t.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t},Qr=/[\s"'>/=\x00-\x1f]/,$r=function(e){var t=`<`+e;this.classes.length&&(t+=` class="`+Qn.escape(Yr(this.classes))+`"`);var n=``;for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Qn.hyphenate(r)+`:`+this.style[r]+`;`);for(var i in n&&(t+=` style="`+Qn.escape(n)+`"`),this.attributes)if(this.attributes.hasOwnProperty(i)){if(Qr.test(i))throw new w(`Invalid attribute name '`+i+`'`);t+=` `+i+`="`+Qn.escape(this.attributes[i])+`"`}t+=`>`;for(var a=0;a<this.children.length;a++)t+=this.children[a].toMarkup();return t+=`</`+e+`>`,t},ei=class{constructor(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Xr.call(this,e,n,r),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return Zr.call(this,`span`)}toMarkup(){return $r.call(this,`span`)}},ti=class{constructor(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Xr.call(this,t,r),this.children=n||[],this.setAttribute(`href`,e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return Zr.call(this,`a`)}toMarkup(){return $r.call(this,`a`)}},ni=class{constructor(e,t,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=[`mord`],this.style=n}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement(`img`);for(var t in e.src=this.src,e.alt=this.alt,e.className=`mord`,this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e=`<img src="`+Qn.escape(this.src)+`"`+(` alt="`+Qn.escape(this.alt)+`"`),t=``;for(var n in this.style)this.style.hasOwnProperty(n)&&(t+=Qn.hyphenate(n)+`:`+this.style[n]+`;`);return t&&(e+=` style="`+Qn.escape(t)+`"`),e+=`'/>`,e}},ri={î:`ı̂`,ï:`ı̈`,í:`ı́`,ì:`ı̀`},ii=class{constructor(e,t,n,r,i,a,o,s){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=r||0,this.skew=i||0,this.width=a||0,this.classes=o||[],this.style=s||{},this.maxFontSize=0;var c=yr(this.text.charCodeAt(0));c&&this.classes.push(c+`_fallback`),/[îïíì]/.test(this.text)&&(this.text=ri[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),t=null;for(var n in this.italic>0&&(t=document.createElement(`span`),t.style.marginRight=E(this.italic)),this.classes.length>0&&(t||=document.createElement(`span`),t.className=Yr(this.classes)),this.style)this.style.hasOwnProperty(n)&&(t||=document.createElement(`span`),t.style[n]=this.style[n]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t=`<span`;this.classes.length&&(e=!0,t+=` class="`,t+=Qn.escape(Yr(this.classes)),t+=`"`);var n=``;for(var r in this.italic>0&&(n+=`margin-right:`+this.italic+`em;`),this.style)this.style.hasOwnProperty(r)&&(n+=Qn.hyphenate(r)+`:`+this.style[r]+`;`);n&&(e=!0,t+=` style="`+Qn.escape(n)+`"`);var i=Qn.escape(this.text);return e?(t+=`>`,t+=i,t+=`</span>`,t):i}},ai=class{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e=document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e=`<svg xmlns="http://www.w3.org/2000/svg"`;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=` `+t+`="`+Qn.escape(this.attributes[t])+`"`);e+=`>`;for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+=`</svg>`,e}},oi=class{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e=document.createElementNS(`http://www.w3.org/2000/svg`,`path`);return this.alternate?e.setAttribute(`d`,this.alternate):e.setAttribute(`d`,Mr[this.pathName]),e}toMarkup(){return this.alternate?`<path d="`+Qn.escape(this.alternate)+`"/>`:`<path d="`+Qn.escape(Mr[this.pathName])+`"/>`}},si=class{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e=document.createElementNS(`http://www.w3.org/2000/svg`,`line`);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e}toMarkup(){var e=`<line`;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=` `+t+`="`+Qn.escape(this.attributes[t])+`"`);return e+=`/>`,e}};function ci(e){if(e instanceof ii)return e;throw Error(`Expected symbolNode but got `+String(e)+`.`)}function li(e){if(e instanceof ei)return e;throw Error(`Expected span<HtmlDomNode> but got `+String(e)+`.`)}var ui={bin:1,close:1,inner:1,open:1,punct:1,rel:1},di={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},fi={math:{},text:{}};function D(e,t,n,r,i,a){fi[e][i]={font:t,group:n,replace:r},a&&r&&(fi[e][r]=fi[e][i])}var O=`math`,k=`text`,A=`main`,j=`ams`,pi=`accent-token`,M=`bin`,mi=`close`,hi=`inner`,N=`mathord`,gi=`op-token`,_i=`open`,vi=`punct`,P=`rel`,yi=`spacing`,F=`textord`;D(O,A,P,`≡`,`\\equiv`,!0),D(O,A,P,`≺`,`\\prec`,!0),D(O,A,P,`≻`,`\\succ`,!0),D(O,A,P,`∼`,`\\sim`,!0),D(O,A,P,`⊥`,`\\perp`),D(O,A,P,`⪯`,`\\preceq`,!0),D(O,A,P,`⪰`,`\\succeq`,!0),D(O,A,P,`≃`,`\\simeq`,!0),D(O,A,P,`∣`,`\\mid`,!0),D(O,A,P,`≪`,`\\ll`,!0),D(O,A,P,`≫`,`\\gg`,!0),D(O,A,P,`≍`,`\\asymp`,!0),D(O,A,P,`∥`,`\\parallel`),D(O,A,P,`⋈`,`\\bowtie`,!0),D(O,A,P,`⌣`,`\\smile`,!0),D(O,A,P,`⊑`,`\\sqsubseteq`,!0),D(O,A,P,`⊒`,`\\sqsupseteq`,!0),D(O,A,P,`≐`,`\\doteq`,!0),D(O,A,P,`⌢`,`\\frown`,!0),D(O,A,P,`∋`,`\\ni`,!0),D(O,A,P,`∝`,`\\propto`,!0),D(O,A,P,`⊢`,`\\vdash`,!0),D(O,A,P,`⊣`,`\\dashv`,!0),D(O,A,P,`∋`,`\\owns`),D(O,A,vi,`.`,`\\ldotp`),D(O,A,vi,`⋅`,`\\cdotp`),D(O,A,F,`#`,`\\#`),D(k,A,F,`#`,`\\#`),D(O,A,F,`&`,`\\&`),D(k,A,F,`&`,`\\&`),D(O,A,F,`ℵ`,`\\aleph`,!0),D(O,A,F,`∀`,`\\forall`,!0),D(O,A,F,`ℏ`,`\\hbar`,!0),D(O,A,F,`∃`,`\\exists`,!0),D(O,A,F,`∇`,`\\nabla`,!0),D(O,A,F,`♭`,`\\flat`,!0),D(O,A,F,`ℓ`,`\\ell`,!0),D(O,A,F,`♮`,`\\natural`,!0),D(O,A,F,`♣`,`\\clubsuit`,!0),D(O,A,F,`℘`,`\\wp`,!0),D(O,A,F,`♯`,`\\sharp`,!0),D(O,A,F,`♢`,`\\diamondsuit`,!0),D(O,A,F,`ℜ`,`\\Re`,!0),D(O,A,F,`♡`,`\\heartsuit`,!0),D(O,A,F,`ℑ`,`\\Im`,!0),D(O,A,F,`♠`,`\\spadesuit`,!0),D(O,A,F,`§`,`\\S`,!0),D(k,A,F,`§`,`\\S`),D(O,A,F,`¶`,`\\P`,!0),D(k,A,F,`¶`,`\\P`),D(O,A,F,`†`,`\\dag`),D(k,A,F,`†`,`\\dag`),D(k,A,F,`†`,`\\textdagger`),D(O,A,F,`‡`,`\\ddag`),D(k,A,F,`‡`,`\\ddag`),D(k,A,F,`‡`,`\\textdaggerdbl`),D(O,A,mi,`⎱`,`\\rmoustache`,!0),D(O,A,_i,`⎰`,`\\lmoustache`,!0),D(O,A,mi,`⟯`,`\\rgroup`,!0),D(O,A,_i,`⟮`,`\\lgroup`,!0),D(O,A,M,`∓`,`\\mp`,!0),D(O,A,M,`⊖`,`\\ominus`,!0),D(O,A,M,`⊎`,`\\uplus`,!0),D(O,A,M,`⊓`,`\\sqcap`,!0),D(O,A,M,`∗`,`\\ast`),D(O,A,M,`⊔`,`\\sqcup`,!0),D(O,A,M,`◯`,`\\bigcirc`,!0),D(O,A,M,`∙`,`\\bullet`,!0),D(O,A,M,`‡`,`\\ddagger`),D(O,A,M,`≀`,`\\wr`,!0),D(O,A,M,`⨿`,`\\amalg`),D(O,A,M,`&`,`\\And`),D(O,A,P,`⟵`,`\\longleftarrow`,!0),D(O,A,P,`⇐`,`\\Leftarrow`,!0),D(O,A,P,`⟸`,`\\Longleftarrow`,!0),D(O,A,P,`⟶`,`\\longrightarrow`,!0),D(O,A,P,`⇒`,`\\Rightarrow`,!0),D(O,A,P,`⟹`,`\\Longrightarrow`,!0),D(O,A,P,`↔`,`\\leftrightarrow`,!0),D(O,A,P,`⟷`,`\\longleftrightarrow`,!0),D(O,A,P,`⇔`,`\\Leftrightarrow`,!0),D(O,A,P,`⟺`,`\\Longleftrightarrow`,!0),D(O,A,P,`↦`,`\\mapsto`,!0),D(O,A,P,`⟼`,`\\longmapsto`,!0),D(O,A,P,`↗`,`\\nearrow`,!0),D(O,A,P,`↩`,`\\hookleftarrow`,!0),D(O,A,P,`↪`,`\\hookrightarrow`,!0),D(O,A,P,`↘`,`\\searrow`,!0),D(O,A,P,`↼`,`\\leftharpoonup`,!0),D(O,A,P,`⇀`,`\\rightharpoonup`,!0),D(O,A,P,`↙`,`\\swarrow`,!0),D(O,A,P,`↽`,`\\leftharpoondown`,!0),D(O,A,P,`⇁`,`\\rightharpoondown`,!0),D(O,A,P,`↖`,`\\nwarrow`,!0),D(O,A,P,`⇌`,`\\rightleftharpoons`,!0),D(O,j,P,`≮`,`\\nless`,!0),D(O,j,P,``,`\\@nleqslant`),D(O,j,P,``,`\\@nleqq`),D(O,j,P,`⪇`,`\\lneq`,!0),D(O,j,P,`≨`,`\\lneqq`,!0),D(O,j,P,``,`\\@lvertneqq`),D(O,j,P,`⋦`,`\\lnsim`,!0),D(O,j,P,`⪉`,`\\lnapprox`,!0),D(O,j,P,`⊀`,`\\nprec`,!0),D(O,j,P,`⋠`,`\\npreceq`,!0),D(O,j,P,`⋨`,`\\precnsim`,!0),D(O,j,P,`⪹`,`\\precnapprox`,!0),D(O,j,P,`≁`,`\\nsim`,!0),D(O,j,P,``,`\\@nshortmid`),D(O,j,P,`∤`,`\\nmid`,!0),D(O,j,P,`⊬`,`\\nvdash`,!0),D(O,j,P,`⊭`,`\\nvDash`,!0),D(O,j,P,`⋪`,`\\ntriangleleft`),D(O,j,P,`⋬`,`\\ntrianglelefteq`,!0),D(O,j,P,`⊊`,`\\subsetneq`,!0),D(O,j,P,``,`\\@varsubsetneq`),D(O,j,P,`⫋`,`\\subsetneqq`,!0),D(O,j,P,``,`\\@varsubsetneqq`),D(O,j,P,`≯`,`\\ngtr`,!0),D(O,j,P,``,`\\@ngeqslant`),D(O,j,P,``,`\\@ngeqq`),D(O,j,P,`⪈`,`\\gneq`,!0),D(O,j,P,`≩`,`\\gneqq`,!0),D(O,j,P,``,`\\@gvertneqq`),D(O,j,P,`⋧`,`\\gnsim`,!0),D(O,j,P,`⪊`,`\\gnapprox`,!0),D(O,j,P,`⊁`,`\\nsucc`,!0),D(O,j,P,`⋡`,`\\nsucceq`,!0),D(O,j,P,`⋩`,`\\succnsim`,!0),D(O,j,P,`⪺`,`\\succnapprox`,!0),D(O,j,P,`≆`,`\\ncong`,!0),D(O,j,P,``,`\\@nshortparallel`),D(O,j,P,`∦`,`\\nparallel`,!0),D(O,j,P,`⊯`,`\\nVDash`,!0),D(O,j,P,`⋫`,`\\ntriangleright`),D(O,j,P,`⋭`,`\\ntrianglerighteq`,!0),D(O,j,P,``,`\\@nsupseteqq`),D(O,j,P,`⊋`,`\\supsetneq`,!0),D(O,j,P,``,`\\@varsupsetneq`),D(O,j,P,`⫌`,`\\supsetneqq`,!0),D(O,j,P,``,`\\@varsupsetneqq`),D(O,j,P,`⊮`,`\\nVdash`,!0),D(O,j,P,`⪵`,`\\precneqq`,!0),D(O,j,P,`⪶`,`\\succneqq`,!0),D(O,j,P,``,`\\@nsubseteqq`),D(O,j,M,`⊴`,`\\unlhd`),D(O,j,M,`⊵`,`\\unrhd`),D(O,j,P,`↚`,`\\nleftarrow`,!0),D(O,j,P,`↛`,`\\nrightarrow`,!0),D(O,j,P,`⇍`,`\\nLeftarrow`,!0),D(O,j,P,`⇏`,`\\nRightarrow`,!0),D(O,j,P,`↮`,`\\nleftrightarrow`,!0),D(O,j,P,`⇎`,`\\nLeftrightarrow`,!0),D(O,j,P,`△`,`\\vartriangle`),D(O,j,F,`ℏ`,`\\hslash`),D(O,j,F,`▽`,`\\triangledown`),D(O,j,F,`◊`,`\\lozenge`),D(O,j,F,`Ⓢ`,`\\circledS`),D(O,j,F,`®`,`\\circledR`),D(k,j,F,`®`,`\\circledR`),D(O,j,F,`∡`,`\\measuredangle`,!0),D(O,j,F,`∄`,`\\nexists`),D(O,j,F,`℧`,`\\mho`),D(O,j,F,`Ⅎ`,`\\Finv`,!0),D(O,j,F,`⅁`,`\\Game`,!0),D(O,j,F,`‵`,`\\backprime`),D(O,j,F,`▲`,`\\blacktriangle`),D(O,j,F,`▼`,`\\blacktriangledown`),D(O,j,F,`■`,`\\blacksquare`),D(O,j,F,`⧫`,`\\blacklozenge`),D(O,j,F,`★`,`\\bigstar`),D(O,j,F,`∢`,`\\sphericalangle`,!0),D(O,j,F,`∁`,`\\complement`,!0),D(O,j,F,`ð`,`\\eth`,!0),D(k,A,F,`ð`,`ð`),D(O,j,F,`╱`,`\\diagup`),D(O,j,F,`╲`,`\\diagdown`),D(O,j,F,`□`,`\\square`),D(O,j,F,`□`,`\\Box`),D(O,j,F,`◊`,`\\Diamond`),D(O,j,F,`¥`,`\\yen`,!0),D(k,j,F,`¥`,`\\yen`,!0),D(O,j,F,`✓`,`\\checkmark`,!0),D(k,j,F,`✓`,`\\checkmark`),D(O,j,F,`ℶ`,`\\beth`,!0),D(O,j,F,`ℸ`,`\\daleth`,!0),D(O,j,F,`ℷ`,`\\gimel`,!0),D(O,j,F,`ϝ`,`\\digamma`,!0),D(O,j,F,`ϰ`,`\\varkappa`),D(O,j,_i,`┌`,`\\@ulcorner`,!0),D(O,j,mi,`┐`,`\\@urcorner`,!0),D(O,j,_i,`└`,`\\@llcorner`,!0),D(O,j,mi,`┘`,`\\@lrcorner`,!0),D(O,j,P,`≦`,`\\leqq`,!0),D(O,j,P,`⩽`,`\\leqslant`,!0),D(O,j,P,`⪕`,`\\eqslantless`,!0),D(O,j,P,`≲`,`\\lesssim`,!0),D(O,j,P,`⪅`,`\\lessapprox`,!0),D(O,j,P,`≊`,`\\approxeq`,!0),D(O,j,M,`⋖`,`\\lessdot`),D(O,j,P,`⋘`,`\\lll`,!0),D(O,j,P,`≶`,`\\lessgtr`,!0),D(O,j,P,`⋚`,`\\lesseqgtr`,!0),D(O,j,P,`⪋`,`\\lesseqqgtr`,!0),D(O,j,P,`≑`,`\\doteqdot`),D(O,j,P,`≓`,`\\risingdotseq`,!0),D(O,j,P,`≒`,`\\fallingdotseq`,!0),D(O,j,P,`∽`,`\\backsim`,!0),D(O,j,P,`⋍`,`\\backsimeq`,!0),D(O,j,P,`⫅`,`\\subseteqq`,!0),D(O,j,P,`⋐`,`\\Subset`,!0),D(O,j,P,`⊏`,`\\sqsubset`,!0),D(O,j,P,`≼`,`\\preccurlyeq`,!0),D(O,j,P,`⋞`,`\\curlyeqprec`,!0),D(O,j,P,`≾`,`\\precsim`,!0),D(O,j,P,`⪷`,`\\precapprox`,!0),D(O,j,P,`⊲`,`\\vartriangleleft`),D(O,j,P,`⊴`,`\\trianglelefteq`),D(O,j,P,`⊨`,`\\vDash`,!0),D(O,j,P,`⊪`,`\\Vvdash`,!0),D(O,j,P,`⌣`,`\\smallsmile`),D(O,j,P,`⌢`,`\\smallfrown`),D(O,j,P,`≏`,`\\bumpeq`,!0),D(O,j,P,`≎`,`\\Bumpeq`,!0),D(O,j,P,`≧`,`\\geqq`,!0),D(O,j,P,`⩾`,`\\geqslant`,!0),D(O,j,P,`⪖`,`\\eqslantgtr`,!0),D(O,j,P,`≳`,`\\gtrsim`,!0),D(O,j,P,`⪆`,`\\gtrapprox`,!0),D(O,j,M,`⋗`,`\\gtrdot`),D(O,j,P,`⋙`,`\\ggg`,!0),D(O,j,P,`≷`,`\\gtrless`,!0),D(O,j,P,`⋛`,`\\gtreqless`,!0),D(O,j,P,`⪌`,`\\gtreqqless`,!0),D(O,j,P,`≖`,`\\eqcirc`,!0),D(O,j,P,`≗`,`\\circeq`,!0),D(O,j,P,`≜`,`\\triangleq`,!0),D(O,j,P,`∼`,`\\thicksim`),D(O,j,P,`≈`,`\\thickapprox`),D(O,j,P,`⫆`,`\\supseteqq`,!0),D(O,j,P,`⋑`,`\\Supset`,!0),D(O,j,P,`⊐`,`\\sqsupset`,!0),D(O,j,P,`≽`,`\\succcurlyeq`,!0),D(O,j,P,`⋟`,`\\curlyeqsucc`,!0),D(O,j,P,`≿`,`\\succsim`,!0),D(O,j,P,`⪸`,`\\succapprox`,!0),D(O,j,P,`⊳`,`\\vartriangleright`),D(O,j,P,`⊵`,`\\trianglerighteq`),D(O,j,P,`⊩`,`\\Vdash`,!0),D(O,j,P,`∣`,`\\shortmid`),D(O,j,P,`∥`,`\\shortparallel`),D(O,j,P,`≬`,`\\between`,!0),D(O,j,P,`⋔`,`\\pitchfork`,!0),D(O,j,P,`∝`,`\\varpropto`),D(O,j,P,`◀`,`\\blacktriangleleft`),D(O,j,P,`∴`,`\\therefore`,!0),D(O,j,P,`∍`,`\\backepsilon`),D(O,j,P,`▶`,`\\blacktriangleright`),D(O,j,P,`∵`,`\\because`,!0),D(O,j,P,`⋘`,`\\llless`),D(O,j,P,`⋙`,`\\gggtr`),D(O,j,M,`⊲`,`\\lhd`),D(O,j,M,`⊳`,`\\rhd`),D(O,j,P,`≂`,`\\eqsim`,!0),D(O,A,P,`⋈`,`\\Join`),D(O,j,P,`≑`,`\\Doteq`,!0),D(O,j,M,`∔`,`\\dotplus`,!0),D(O,j,M,`∖`,`\\smallsetminus`),D(O,j,M,`⋒`,`\\Cap`,!0),D(O,j,M,`⋓`,`\\Cup`,!0),D(O,j,M,`⩞`,`\\doublebarwedge`,!0),D(O,j,M,`⊟`,`\\boxminus`,!0),D(O,j,M,`⊞`,`\\boxplus`,!0),D(O,j,M,`⋇`,`\\divideontimes`,!0),D(O,j,M,`⋉`,`\\ltimes`,!0),D(O,j,M,`⋊`,`\\rtimes`,!0),D(O,j,M,`⋋`,`\\leftthreetimes`,!0),D(O,j,M,`⋌`,`\\rightthreetimes`,!0),D(O,j,M,`⋏`,`\\curlywedge`,!0),D(O,j,M,`⋎`,`\\curlyvee`,!0),D(O,j,M,`⊝`,`\\circleddash`,!0),D(O,j,M,`⊛`,`\\circledast`,!0),D(O,j,M,`⋅`,`\\centerdot`),D(O,j,M,`⊺`,`\\intercal`,!0),D(O,j,M,`⋒`,`\\doublecap`),D(O,j,M,`⋓`,`\\doublecup`),D(O,j,M,`⊠`,`\\boxtimes`,!0),D(O,j,P,`⇢`,`\\dashrightarrow`,!0),D(O,j,P,`⇠`,`\\dashleftarrow`,!0),D(O,j,P,`⇇`,`\\leftleftarrows`,!0),D(O,j,P,`⇆`,`\\leftrightarrows`,!0),D(O,j,P,`⇚`,`\\Lleftarrow`,!0),D(O,j,P,`↞`,`\\twoheadleftarrow`,!0),D(O,j,P,`↢`,`\\leftarrowtail`,!0),D(O,j,P,`↫`,`\\looparrowleft`,!0),D(O,j,P,`⇋`,`\\leftrightharpoons`,!0),D(O,j,P,`↶`,`\\curvearrowleft`,!0),D(O,j,P,`↺`,`\\circlearrowleft`,!0),D(O,j,P,`↰`,`\\Lsh`,!0),D(O,j,P,`⇈`,`\\upuparrows`,!0),D(O,j,P,`↿`,`\\upharpoonleft`,!0),D(O,j,P,`⇃`,`\\downharpoonleft`,!0),D(O,A,P,`⊶`,`\\origof`,!0),D(O,A,P,`⊷`,`\\imageof`,!0),D(O,j,P,`⊸`,`\\multimap`,!0),D(O,j,P,`↭`,`\\leftrightsquigarrow`,!0),D(O,j,P,`⇉`,`\\rightrightarrows`,!0),D(O,j,P,`⇄`,`\\rightleftarrows`,!0),D(O,j,P,`↠`,`\\twoheadrightarrow`,!0),D(O,j,P,`↣`,`\\rightarrowtail`,!0),D(O,j,P,`↬`,`\\looparrowright`,!0),D(O,j,P,`↷`,`\\curvearrowright`,!0),D(O,j,P,`↻`,`\\circlearrowright`,!0),D(O,j,P,`↱`,`\\Rsh`,!0),D(O,j,P,`⇊`,`\\downdownarrows`,!0),D(O,j,P,`↾`,`\\upharpoonright`,!0),D(O,j,P,`⇂`,`\\downharpoonright`,!0),D(O,j,P,`⇝`,`\\rightsquigarrow`,!0),D(O,j,P,`⇝`,`\\leadsto`),D(O,j,P,`⇛`,`\\Rrightarrow`,!0),D(O,j,P,`↾`,`\\restriction`),D(O,A,F,`‘`,"`"),D(O,A,F,`$`,`\\$`),D(k,A,F,`$`,`\\$`),D(k,A,F,`$`,`\\textdollar`),D(O,A,F,`%`,`\\%`),D(k,A,F,`%`,`\\%`),D(O,A,F,`_`,`\\_`),D(k,A,F,`_`,`\\_`),D(k,A,F,`_`,`\\textunderscore`),D(O,A,F,`∠`,`\\angle`,!0),D(O,A,F,`∞`,`\\infty`,!0),D(O,A,F,`′`,`\\prime`),D(O,A,F,`△`,`\\triangle`),D(O,A,F,`Γ`,`\\Gamma`,!0),D(O,A,F,`Δ`,`\\Delta`,!0),D(O,A,F,`Θ`,`\\Theta`,!0),D(O,A,F,`Λ`,`\\Lambda`,!0),D(O,A,F,`Ξ`,`\\Xi`,!0),D(O,A,F,`Π`,`\\Pi`,!0),D(O,A,F,`Σ`,`\\Sigma`,!0),D(O,A,F,`Υ`,`\\Upsilon`,!0),D(O,A,F,`Φ`,`\\Phi`,!0),D(O,A,F,`Ψ`,`\\Psi`,!0),D(O,A,F,`Ω`,`\\Omega`,!0),D(O,A,F,`A`,`Α`),D(O,A,F,`B`,`Β`),D(O,A,F,`E`,`Ε`),D(O,A,F,`Z`,`Ζ`),D(O,A,F,`H`,`Η`),D(O,A,F,`I`,`Ι`),D(O,A,F,`K`,`Κ`),D(O,A,F,`M`,`Μ`),D(O,A,F,`N`,`Ν`),D(O,A,F,`O`,`Ο`),D(O,A,F,`P`,`Ρ`),D(O,A,F,`T`,`Τ`),D(O,A,F,`X`,`Χ`),D(O,A,F,`¬`,`\\neg`,!0),D(O,A,F,`¬`,`\\lnot`),D(O,A,F,`⊤`,`\\top`),D(O,A,F,`⊥`,`\\bot`),D(O,A,F,`∅`,`\\emptyset`),D(O,j,F,`∅`,`\\varnothing`),D(O,A,N,`α`,`\\alpha`,!0),D(O,A,N,`β`,`\\beta`,!0),D(O,A,N,`γ`,`\\gamma`,!0),D(O,A,N,`δ`,`\\delta`,!0),D(O,A,N,`ϵ`,`\\epsilon`,!0),D(O,A,N,`ζ`,`\\zeta`,!0),D(O,A,N,`η`,`\\eta`,!0),D(O,A,N,`θ`,`\\theta`,!0),D(O,A,N,`ι`,`\\iota`,!0),D(O,A,N,`κ`,`\\kappa`,!0),D(O,A,N,`λ`,`\\lambda`,!0),D(O,A,N,`μ`,`\\mu`,!0),D(O,A,N,`ν`,`\\nu`,!0),D(O,A,N,`ξ`,`\\xi`,!0),D(O,A,N,`ο`,`\\omicron`,!0),D(O,A,N,`π`,`\\pi`,!0),D(O,A,N,`ρ`,`\\rho`,!0),D(O,A,N,`σ`,`\\sigma`,!0),D(O,A,N,`τ`,`\\tau`,!0),D(O,A,N,`υ`,`\\upsilon`,!0),D(O,A,N,`ϕ`,`\\phi`,!0),D(O,A,N,`χ`,`\\chi`,!0),D(O,A,N,`ψ`,`\\psi`,!0),D(O,A,N,`ω`,`\\omega`,!0),D(O,A,N,`ε`,`\\varepsilon`,!0),D(O,A,N,`ϑ`,`\\vartheta`,!0),D(O,A,N,`ϖ`,`\\varpi`,!0),D(O,A,N,`ϱ`,`\\varrho`,!0),D(O,A,N,`ς`,`\\varsigma`,!0),D(O,A,N,`φ`,`\\varphi`,!0),D(O,A,M,`∗`,`*`,!0),D(O,A,M,`+`,`+`),D(O,A,M,`−`,`-`,!0),D(O,A,M,`⋅`,`\\cdot`,!0),D(O,A,M,`∘`,`\\circ`,!0),D(O,A,M,`÷`,`\\div`,!0),D(O,A,M,`±`,`\\pm`,!0),D(O,A,M,`×`,`\\times`,!0),D(O,A,M,`∩`,`\\cap`,!0),D(O,A,M,`∪`,`\\cup`,!0),D(O,A,M,`∖`,`\\setminus`,!0),D(O,A,M,`∧`,`\\land`),D(O,A,M,`∨`,`\\lor`),D(O,A,M,`∧`,`\\wedge`,!0),D(O,A,M,`∨`,`\\vee`,!0),D(O,A,F,`√`,`\\surd`),D(O,A,_i,`⟨`,`\\langle`,!0),D(O,A,_i,`∣`,`\\lvert`),D(O,A,_i,`∥`,`\\lVert`),D(O,A,mi,`?`,`?`),D(O,A,mi,`!`,`!`),D(O,A,mi,`⟩`,`\\rangle`,!0),D(O,A,mi,`∣`,`\\rvert`),D(O,A,mi,`∥`,`\\rVert`),D(O,A,P,`=`,`=`),D(O,A,P,`:`,`:`),D(O,A,P,`≈`,`\\approx`,!0),D(O,A,P,`≅`,`\\cong`,!0),D(O,A,P,`≥`,`\\ge`),D(O,A,P,`≥`,`\\geq`,!0),D(O,A,P,`←`,`\\gets`),D(O,A,P,`>`,`\\gt`,!0),D(O,A,P,`∈`,`\\in`,!0),D(O,A,P,``,`\\@not`),D(O,A,P,`⊂`,`\\subset`,!0),D(O,A,P,`⊃`,`\\supset`,!0),D(O,A,P,`⊆`,`\\subseteq`,!0),D(O,A,P,`⊇`,`\\supseteq`,!0),D(O,j,P,`⊈`,`\\nsubseteq`,!0),D(O,j,P,`⊉`,`\\nsupseteq`,!0),D(O,A,P,`⊨`,`\\models`),D(O,A,P,`←`,`\\leftarrow`,!0),D(O,A,P,`≤`,`\\le`),D(O,A,P,`≤`,`\\leq`,!0),D(O,A,P,`<`,`\\lt`,!0),D(O,A,P,`→`,`\\rightarrow`,!0),D(O,A,P,`→`,`\\to`),D(O,j,P,`≱`,`\\ngeq`,!0),D(O,j,P,`≰`,`\\nleq`,!0),D(O,A,yi,`\xA0`,`\\ `),D(O,A,yi,`\xA0`,`\\space`),D(O,A,yi,`\xA0`,`\\nobreakspace`),D(k,A,yi,`\xA0`,`\\ `),D(k,A,yi,`\xA0`,` `),D(k,A,yi,`\xA0`,`\\space`),D(k,A,yi,`\xA0`,`\\nobreakspace`),D(O,A,yi,null,`\\nobreak`),D(O,A,yi,null,`\\allowbreak`),D(O,A,vi,`,`,`,`),D(O,A,vi,`;`,`;`),D(O,j,M,`⊼`,`\\barwedge`,!0),D(O,j,M,`⊻`,`\\veebar`,!0),D(O,A,M,`⊙`,`\\odot`,!0),D(O,A,M,`⊕`,`\\oplus`,!0),D(O,A,M,`⊗`,`\\otimes`,!0),D(O,A,F,`∂`,`\\partial`,!0),D(O,A,M,`⊘`,`\\oslash`,!0),D(O,j,M,`⊚`,`\\circledcirc`,!0),D(O,j,M,`⊡`,`\\boxdot`,!0),D(O,A,M,`△`,`\\bigtriangleup`),D(O,A,M,`▽`,`\\bigtriangledown`),D(O,A,M,`†`,`\\dagger`),D(O,A,M,`⋄`,`\\diamond`),D(O,A,M,`⋆`,`\\star`),D(O,A,M,`◃`,`\\triangleleft`),D(O,A,M,`▹`,`\\triangleright`),D(O,A,_i,`{`,`\\{`),D(k,A,F,`{`,`\\{`),D(k,A,F,`{`,`\\textbraceleft`),D(O,A,mi,`}`,`\\}`),D(k,A,F,`}`,`\\}`),D(k,A,F,`}`,`\\textbraceright`),D(O,A,_i,`{`,`\\lbrace`),D(O,A,mi,`}`,`\\rbrace`),D(O,A,_i,`[`,`\\lbrack`,!0),D(k,A,F,`[`,`\\lbrack`,!0),D(O,A,mi,`]`,`\\rbrack`,!0),D(k,A,F,`]`,`\\rbrack`,!0),D(O,A,_i,`(`,`\\lparen`,!0),D(O,A,mi,`)`,`\\rparen`,!0),D(k,A,F,`<`,`\\textless`,!0),D(k,A,F,`>`,`\\textgreater`,!0),D(O,A,_i,`⌊`,`\\lfloor`,!0),D(O,A,mi,`⌋`,`\\rfloor`,!0),D(O,A,_i,`⌈`,`\\lceil`,!0),D(O,A,mi,`⌉`,`\\rceil`,!0),D(O,A,F,`\\`,`\\backslash`),D(O,A,F,`∣`,`|`),D(O,A,F,`∣`,`\\vert`),D(k,A,F,`|`,`\\textbar`,!0),D(O,A,F,`∥`,`\\|`),D(O,A,F,`∥`,`\\Vert`),D(k,A,F,`∥`,`\\textbardbl`),D(k,A,F,`~`,`\\textasciitilde`),D(k,A,F,`\\`,`\\textbackslash`),D(k,A,F,`^`,`\\textasciicircum`),D(O,A,P,`↑`,`\\uparrow`,!0),D(O,A,P,`⇑`,`\\Uparrow`,!0),D(O,A,P,`↓`,`\\downarrow`,!0),D(O,A,P,`⇓`,`\\Downarrow`,!0),D(O,A,P,`↕`,`\\updownarrow`,!0),D(O,A,P,`⇕`,`\\Updownarrow`,!0),D(O,A,gi,`∐`,`\\coprod`),D(O,A,gi,`⋁`,`\\bigvee`),D(O,A,gi,`⋀`,`\\bigwedge`),D(O,A,gi,`⨄`,`\\biguplus`),D(O,A,gi,`⋂`,`\\bigcap`),D(O,A,gi,`⋃`,`\\bigcup`),D(O,A,gi,`∫`,`\\int`),D(O,A,gi,`∫`,`\\intop`),D(O,A,gi,`∬`,`\\iint`),D(O,A,gi,`∭`,`\\iiint`),D(O,A,gi,`∏`,`\\prod`),D(O,A,gi,`∑`,`\\sum`),D(O,A,gi,`⨂`,`\\bigotimes`),D(O,A,gi,`⨁`,`\\bigoplus`),D(O,A,gi,`⨀`,`\\bigodot`),D(O,A,gi,`∮`,`\\oint`),D(O,A,gi,`∯`,`\\oiint`),D(O,A,gi,`∰`,`\\oiiint`),D(O,A,gi,`⨆`,`\\bigsqcup`),D(O,A,gi,`∫`,`\\smallint`),D(k,A,hi,`…`,`\\textellipsis`),D(O,A,hi,`…`,`\\mathellipsis`),D(k,A,hi,`…`,`\\ldots`,!0),D(O,A,hi,`…`,`\\ldots`,!0),D(O,A,hi,`⋯`,`\\@cdots`,!0),D(O,A,hi,`⋱`,`\\ddots`,!0),D(O,A,F,`⋮`,`\\varvdots`),D(k,A,F,`⋮`,`\\varvdots`),D(O,A,pi,`ˊ`,`\\acute`),D(O,A,pi,`ˋ`,`\\grave`),D(O,A,pi,`¨`,`\\ddot`),D(O,A,pi,`~`,`\\tilde`),D(O,A,pi,`ˉ`,`\\bar`),D(O,A,pi,`˘`,`\\breve`),D(O,A,pi,`ˇ`,`\\check`),D(O,A,pi,`^`,`\\hat`),D(O,A,pi,`⃗`,`\\vec`),D(O,A,pi,`˙`,`\\dot`),D(O,A,pi,`˚`,`\\mathring`),D(O,A,N,``,`\\@imath`),D(O,A,N,``,`\\@jmath`),D(O,A,F,`ı`,`ı`),D(O,A,F,`ȷ`,`ȷ`),D(k,A,F,`ı`,`\\i`,!0),D(k,A,F,`ȷ`,`\\j`,!0),D(k,A,F,`ß`,`\\ss`,!0),D(k,A,F,`æ`,`\\ae`,!0),D(k,A,F,`œ`,`\\oe`,!0),D(k,A,F,`ø`,`\\o`,!0),D(k,A,F,`Æ`,`\\AE`,!0),D(k,A,F,`Œ`,`\\OE`,!0),D(k,A,F,`Ø`,`\\O`,!0),D(k,A,pi,`ˊ`,`\\'`),D(k,A,pi,`ˋ`,"\\`"),D(k,A,pi,`ˆ`,`\\^`),D(k,A,pi,`˜`,`\\~`),D(k,A,pi,`ˉ`,`\\=`),D(k,A,pi,`˘`,`\\u`),D(k,A,pi,`˙`,`\\.`),D(k,A,pi,`¸`,`\\c`),D(k,A,pi,`˚`,`\\r`),D(k,A,pi,`ˇ`,`\\v`),D(k,A,pi,`¨`,`\\"`),D(k,A,pi,`˝`,`\\H`),D(k,A,pi,`◯`,`\\textcircled`);var bi={"--":!0,"---":!0,"``":!0,"''":!0};D(k,A,F,`–`,`--`,!0),D(k,A,F,`–`,`\\textendash`),D(k,A,F,`—`,`---`,!0),D(k,A,F,`—`,`\\textemdash`),D(k,A,F,`‘`,"`",!0),D(k,A,F,`‘`,`\\textquoteleft`),D(k,A,F,`’`,`'`,!0),D(k,A,F,`’`,`\\textquoteright`),D(k,A,F,`“`,"``",!0),D(k,A,F,`“`,`\\textquotedblleft`),D(k,A,F,`”`,`''`,!0),D(k,A,F,`”`,`\\textquotedblright`),D(O,A,F,`°`,`\\degree`,!0),D(k,A,F,`°`,`\\degree`),D(k,A,F,`°`,`\\textdegree`,!0),D(O,A,F,`£`,`\\pounds`),D(O,A,F,`£`,`\\mathsterling`,!0),D(k,A,F,`£`,`\\pounds`),D(k,A,F,`£`,`\\textsterling`,!0),D(O,j,F,`✠`,`\\maltese`),D(k,j,F,`✠`,`\\maltese`);for(var xi=`0123456789/@."`,Si=0;Si<xi.length;Si++){var Ci=xi.charAt(Si);D(O,A,F,Ci,Ci)}for(var wi=`0123456789!@*()-=+";:?/.,`,Ti=0;Ti<wi.length;Ti++){var Ei=wi.charAt(Ti);D(k,A,F,Ei,Ei)}for(var Di=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz`,Oi=0;Oi<Di.length;Oi++){var ki=Di.charAt(Oi);D(O,A,N,ki,ki),D(k,A,F,ki,ki)}D(O,j,F,`C`,`ℂ`),D(k,j,F,`C`,`ℂ`),D(O,j,F,`H`,`ℍ`),D(k,j,F,`H`,`ℍ`),D(O,j,F,`N`,`ℕ`),D(k,j,F,`N`,`ℕ`),D(O,j,F,`P`,`ℙ`),D(k,j,F,`P`,`ℙ`),D(O,j,F,`Q`,`ℚ`),D(k,j,F,`Q`,`ℚ`),D(O,j,F,`R`,`ℝ`),D(k,j,F,`R`,`ℝ`),D(O,j,F,`Z`,`ℤ`),D(k,j,F,`Z`,`ℤ`),D(O,A,N,`h`,`ℎ`),D(k,A,N,`h`,`ℎ`);for(var I=``,Ai=0;Ai<Di.length;Ai++){var ji=Di.charAt(Ai);I=String.fromCharCode(55349,56320+Ai),D(O,A,N,ji,I),D(k,A,F,ji,I),I=String.fromCharCode(55349,56372+Ai),D(O,A,N,ji,I),D(k,A,F,ji,I),I=String.fromCharCode(55349,56424+Ai),D(O,A,N,ji,I),D(k,A,F,ji,I),I=String.fromCharCode(55349,56580+Ai),D(O,A,N,ji,I),D(k,A,F,ji,I),I=String.fromCharCode(55349,56684+Ai),D(O,A,N,ji,I),D(k,A,F,ji,I),I=String.fromCharCode(55349,56736+Ai),D(O,A,N,ji,I),D(k,A,F,ji,I),I=String.fromCharCode(55349,56788+Ai),D(O,A,N,ji,I),D(k,A,F,ji,I),I=String.fromCharCode(55349,56840+Ai),D(O,A,N,ji,I),D(k,A,F,ji,I),I=String.fromCharCode(55349,56944+Ai),D(O,A,N,ji,I),D(k,A,F,ji,I),Ai<26&&(I=String.fromCharCode(55349,56632+Ai),D(O,A,N,ji,I),D(k,A,F,ji,I),I=String.fromCharCode(55349,56476+Ai),D(O,A,N,ji,I),D(k,A,F,ji,I))}I=String.fromCharCode(55349,56668),D(O,A,N,`k`,I),D(k,A,F,`k`,I);for(var Mi=0;Mi<10;Mi++){var Ni=Mi.toString();I=String.fromCharCode(55349,57294+Mi),D(O,A,N,Ni,I),D(k,A,F,Ni,I),I=String.fromCharCode(55349,57314+Mi),D(O,A,N,Ni,I),D(k,A,F,Ni,I),I=String.fromCharCode(55349,57324+Mi),D(O,A,N,Ni,I),D(k,A,F,Ni,I),I=String.fromCharCode(55349,57334+Mi),D(O,A,N,Ni,I),D(k,A,F,Ni,I)}for(var Pi=`ÐÞþ`,Fi=0;Fi<Pi.length;Fi++){var Ii=Pi.charAt(Fi);D(O,A,N,Ii,Ii),D(k,A,F,Ii,Ii)}var Li=[[`mathbf`,`textbf`,`Main-Bold`],[`mathbf`,`textbf`,`Main-Bold`],[`mathnormal`,`textit`,`Math-Italic`],[`mathnormal`,`textit`,`Math-Italic`],[`boldsymbol`,`boldsymbol`,`Main-BoldItalic`],[`boldsymbol`,`boldsymbol`,`Main-BoldItalic`],[`mathscr`,`textscr`,`Script-Regular`],[``,``,``],[``,``,``],[``,``,``],[`mathfrak`,`textfrak`,`Fraktur-Regular`],[`mathfrak`,`textfrak`,`Fraktur-Regular`],[`mathbb`,`textbb`,`AMS-Regular`],[`mathbb`,`textbb`,`AMS-Regular`],[`mathboldfrak`,`textboldfrak`,`Fraktur-Regular`],[`mathboldfrak`,`textboldfrak`,`Fraktur-Regular`],[`mathsf`,`textsf`,`SansSerif-Regular`],[`mathsf`,`textsf`,`SansSerif-Regular`],[`mathboldsf`,`textboldsf`,`SansSerif-Bold`],[`mathboldsf`,`textboldsf`,`SansSerif-Bold`],[`mathitsf`,`textitsf`,`SansSerif-Italic`],[`mathitsf`,`textitsf`,`SansSerif-Italic`],[``,``,``],[``,``,``],[`mathtt`,`texttt`,`Typewriter-Regular`],[`mathtt`,`texttt`,`Typewriter-Regular`]],Ri=[[`mathbf`,`textbf`,`Main-Bold`],[``,``,``],[`mathsf`,`textsf`,`SansSerif-Regular`],[`mathboldsf`,`textboldsf`,`SansSerif-Bold`],[`mathtt`,`texttt`,`Typewriter-Regular`]],zi=function(e,t){var n=e.charCodeAt(0),r=e.charCodeAt(1),i=(n-55296)*1024+(r-56320)+65536,a=t===`math`?0:1;if(119808<=i&&i<120484){var o=Math.floor((i-119808)/26);return[Li[o][2],Li[o][a]]}else if(120782<=i&&i<=120831){var s=Math.floor((i-120782)/10);return[Ri[s][2],Ri[s][a]]}else if(i===120485||i===120486)return[Li[0][2],Li[0][a]];else if(120486<i&&i<120782)return[``,``];else throw new w(`Unsupported character: `+e)},Bi=function(e,t,n){return fi[n][e]&&fi[n][e].replace&&(e=fi[n][e].replace),{value:e,metrics:Rr(e,t,n)}},Vi=function(e,t,n,r,i){var a=Bi(e,t,n),o=a.metrics;e=a.value;var s;if(o){var c=o.italic;(n===`text`||r&&r.font===`mathit`)&&(c=0),s=new ii(e,o.height,o.depth,c,o.skew,o.width,i)}else typeof console<`u`&&console.warn(`No character metrics `+(`for '`+e+`' in style '`+t+`' and mode '`+n+`'`)),s=new ii(e,0,0,0,0,0,i);if(r){s.maxFontSize=r.sizeMultiplier,r.style.isTight()&&s.classes.push(`mtight`);var l=r.getColor();l&&(s.style.color=l)}return s},Hi=function(e,t,n,r){return r===void 0&&(r=[]),n.font===`boldsymbol`&&Bi(e,`Main-Bold`,t).metrics?Vi(e,`Main-Bold`,t,n,r.concat([`mathbf`])):e===`\\`||fi[t][e].font===`main`?Vi(e,`Main-Regular`,t,n,r):Vi(e,`AMS-Regular`,t,n,r.concat([`amsrm`]))},Ui=function(e,t,n,r,i){return i!==`textord`&&Bi(e,`Math-BoldItalic`,t).metrics?{fontName:`Math-BoldItalic`,fontClass:`boldsymbol`}:{fontName:`Main-Bold`,fontClass:`mathbf`}},Wi=function(e,t,n){var r=e.mode,i=e.text,a=[`mord`],o=r===`math`||r===`text`&&t.font,s=o?t.font:t.fontFamily,c=``,l=``;if(i.charCodeAt(0)===55349&&([c,l]=zi(i,r)),c.length>0)return Vi(i,c,r,t,a.concat(l));if(s){var u,d;if(s===`boldsymbol`){var f=Ui(i,r,t,a,n);u=f.fontName,d=[f.fontClass]}else o?(u=ia[s].fontName,d=[s]):(u=ra(s,t.fontWeight,t.fontShape),d=[s,t.fontWeight,t.fontShape]);if(Bi(i,u,r).metrics)return Vi(i,u,r,t,a.concat(d));if(bi.hasOwnProperty(i)&&u.slice(0,10)===`Typewriter`){for(var p=[],m=0;m<i.length;m++)p.push(Vi(i[m],u,r,t,a.concat(d)));return Qi(p)}}if(n===`mathord`)return Vi(i,`Math-Italic`,r,t,a.concat([`mathnormal`]));if(n===`textord`){var h=fi[r][i]&&fi[r][i].font;if(h===`ams`)return Vi(i,ra(`amsrm`,t.fontWeight,t.fontShape),r,t,a.concat(`amsrm`,t.fontWeight,t.fontShape));if(h===`main`||!h)return Vi(i,ra(`textrm`,t.fontWeight,t.fontShape),r,t,a.concat(t.fontWeight,t.fontShape));var g=ra(h,t.fontWeight,t.fontShape);return Vi(i,g,r,t,a.concat(g,t.fontWeight,t.fontShape))}else throw Error(`unexpected type: `+n+` in makeOrd`)},Gi=(e,t)=>{if(Yr(e.classes)!==Yr(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n===`mbin`||n===`mord`)return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},Ki=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof ii&&r instanceof ii&&Gi(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e},qi=function(e){for(var t=0,n=0,r=0,i=0;i<e.children.length;i++){var a=e.children[i];a.height>t&&(t=a.height),a.depth>n&&(n=a.depth),a.maxFontSize>r&&(r=a.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=r},Ji=function(e,t,n,r){var i=new ei(e,t,n,r);return qi(i),i},Yi=(e,t,n,r)=>new ei(e,t,n,r),Xi=function(e,t,n){var r=Ji([e],[],t);return r.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),r.style.borderBottomWidth=E(r.height),r.maxFontSize=1,r},Zi=function(e,t,n,r){var i=new ti(e,t,n,r);return qi(i),i},Qi=function(e){var t=new Pr(e);return qi(t),t},$i=function(e,t){return e instanceof Pr?Ji([],[e],t):e},ea=function(e){if(e.positionType===`individualShift`){for(var t=e.children,n=[t[0]],r=-t[0].shift-t[0].elem.depth,i=r,a=1;a<t.length;a++){var o=-t[a].shift-i-t[a].elem.depth,s=o-(t[a-1].elem.height+t[a-1].elem.depth);i+=o,n.push({type:`kern`,size:s}),n.push(t[a])}return{children:n,depth:r}}var c;if(e.positionType===`top`){for(var l=e.positionData,u=0;u<e.children.length;u++){var d=e.children[u];l-=d.type===`kern`?d.size:d.elem.height+d.elem.depth}c=l}else if(e.positionType===`bottom`)c=-e.positionData;else{var f=e.children[0];if(f.type!==`elem`)throw Error(`First child must have type "elem".`);if(e.positionType===`shift`)c=-f.elem.depth-e.positionData;else if(e.positionType===`firstBaseline`)c=-f.elem.depth;else throw Error(`Invalid positionType `+e.positionType+`.`)}return{children:e.children,depth:c}},ta=function(e,t){for(var{children:n,depth:r}=ea(e),i=0,a=0;a<n.length;a++){var o=n[a];if(o.type===`elem`){var s=o.elem;i=Math.max(i,s.maxFontSize,s.height)}}i+=2;var c=Ji([`pstrut`],[]);c.style.height=E(i);for(var l=[],u=r,d=r,f=r,p=0;p<n.length;p++){var m=n[p];if(m.type===`kern`)f+=m.size;else{var h=m.elem,g=m.wrapperClasses||[],_=m.wrapperStyle||{},v=Ji(g,[c,h],void 0,_);v.style.top=E(-i-f-h.depth),m.marginLeft&&(v.style.marginLeft=m.marginLeft),m.marginRight&&(v.style.marginRight=m.marginRight),l.push(v),f+=h.height+h.depth}u=Math.min(u,f),d=Math.max(d,f)}var ee=Ji([`vlist`],l);ee.style.height=E(d);var te;if(u<0){var ne=Ji([`vlist`],[Ji([],[])]);ne.style.height=E(-u),te=[Ji([`vlist-r`],[ee,Ji([`vlist-s`],[new ii(`​`)])]),Ji([`vlist-r`],[ne])]}else te=[Ji([`vlist-r`],[ee])];var y=Ji([`vlist-t`],te);return te.length===2&&y.classes.push(`vlist-t2`),y.height=d,y.depth=-u,y},na=(e,t)=>{var n=Ji([`mspace`],[],t),r=Jr(e,t);return n.style.marginRight=E(r),n},ra=function(e,t,n){var r=``;switch(e){case`amsrm`:r=`AMS`;break;case`textrm`:r=`Main`;break;case`textsf`:r=`SansSerif`;break;case`texttt`:r=`Typewriter`;break;default:r=e}var i=t===`textbf`&&n===`textit`?`BoldItalic`:t===`textbf`?`Bold`:t===`textit`?`Italic`:`Regular`;return r+`-`+i},ia={mathbf:{variant:`bold`,fontName:`Main-Bold`},mathrm:{variant:`normal`,fontName:`Main-Regular`},textit:{variant:`italic`,fontName:`Main-Italic`},mathit:{variant:`italic`,fontName:`Main-Italic`},mathnormal:{variant:`italic`,fontName:`Math-Italic`},mathsfit:{variant:`sans-serif-italic`,fontName:`SansSerif-Italic`},mathbb:{variant:`double-struck`,fontName:`AMS-Regular`},mathcal:{variant:`script`,fontName:`Caligraphic-Regular`},mathfrak:{variant:`fraktur`,fontName:`Fraktur-Regular`},mathscr:{variant:`script`,fontName:`Script-Regular`},mathsf:{variant:`sans-serif`,fontName:`SansSerif-Regular`},mathtt:{variant:`monospace`,fontName:`Typewriter-Regular`}},aa={vec:[`vec`,.471,.714],oiintSize1:[`oiintSize1`,.957,.499],oiintSize2:[`oiintSize2`,1.472,.659],oiiintSize1:[`oiiintSize1`,1.304,.499],oiiintSize2:[`oiiintSize2`,1.98,.659]},L={fontMap:ia,makeSymbol:Vi,mathsym:Hi,makeSpan:Ji,makeSvgSpan:Yi,makeLineSpan:Xi,makeAnchor:Zi,makeFragment:Qi,wrapFragment:$i,makeVList:ta,makeOrd:Wi,makeGlue:na,staticSvg:function(e,t){var[n,r,i]=aa[e],a=Yi([`overlay`],[new ai([new oi(n)],{width:E(r),height:E(i),style:`width:`+E(r),viewBox:`0 0 `+1e3*r+` `+1e3*i,preserveAspectRatio:`xMinYMin`})],t);return a.height=i,a.style.height=E(i),a.style.width=E(r),a},svgData:aa,tryCombineChars:Ki},oa={number:3,unit:`mu`},sa={number:4,unit:`mu`},ca={number:5,unit:`mu`},la={mord:{mop:oa,mbin:sa,mrel:ca,minner:oa},mop:{mord:oa,mop:oa,mrel:ca,minner:oa},mbin:{mord:sa,mop:sa,mopen:sa,minner:sa},mrel:{mord:ca,mop:ca,mopen:ca,minner:ca},mopen:{},mclose:{mop:oa,mbin:sa,mrel:ca,minner:oa},mpunct:{mord:oa,mop:oa,mrel:ca,mopen:oa,mclose:oa,mpunct:oa,minner:oa},minner:{mord:oa,mop:oa,mbin:sa,mrel:ca,mopen:oa,mpunct:oa,minner:oa}},ua={mord:{mop:oa},mop:{mord:oa,mop:oa},mbin:{},mrel:{},mopen:{},mclose:{mop:oa},mpunct:{},minner:{mop:oa}},da={},fa={},pa={};function R(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:o}=e,s={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},c=0;c<n.length;++c)da[n[c]]=s;t&&(a&&(fa[t]=a),o&&(pa[t]=o))}function ma(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;R({type:t,names:[],props:{numArgs:0},handler(){throw Error(`Should never be called.`)},htmlBuilder:n,mathmlBuilder:r})}var ha=function(e){return e.type===`ordgroup`&&e.body.length===1?e.body[0]:e},ga=function(e){return e.type===`ordgroup`?e.body:[e]},_a=L.makeSpan,va=[`leftmost`,`mbin`,`mopen`,`mrel`,`mop`,`mpunct`],ya=[`rightmost`,`mrel`,`mclose`,`mpunct`],ba={display:T.DISPLAY,text:T.TEXT,script:T.SCRIPT,scriptscript:T.SCRIPTSCRIPT},xa={mord:`mord`,mop:`mop`,mbin:`mbin`,mrel:`mrel`,mopen:`mopen`,mclose:`mclose`,mpunct:`mpunct`,minner:`minner`},Sa=function(e,t,n,r){r===void 0&&(r=[null,null]);for(var i=[],a=0;a<e.length;a++){var o=Oa(e[a],t);if(o instanceof Pr){var s=o.children;i.push(...s)}else i.push(o)}if(L.tryCombineChars(i),!n)return i;var c=t;if(e.length===1){var l=e[0];l.type===`sizing`?c=t.havingSize(l.size):l.type===`styling`&&(c=t.havingStyle(ba[l.style]))}var u=_a([r[0]||`leftmost`],[],t),d=_a([r[1]||`rightmost`],[],t),f=n===`root`;return Ca(i,(e,t)=>{var n=t.classes[0],r=e.classes[0];n===`mbin`&&ya.includes(r)?t.classes[0]=`mord`:r===`mbin`&&va.includes(n)&&(e.classes[0]=`mord`)},{node:u},d,f),Ca(i,(e,t)=>{var n=Ea(t),r=Ea(e),i=n&&r?e.hasClass(`mtight`)?ua[n][r]:la[n][r]:null;if(i)return L.makeGlue(i,c)},{node:u},d,f),i},Ca=function e(t,n,r,i,a){i&&t.push(i);for(var o=0;o<t.length;o++){var s=t[o],c=wa(s);if(c){e(c.children,n,r,null,a);continue}var l=!s.hasClass(`mspace`);if(l){var u=n(s,r.node);u&&(r.insertAfter?r.insertAfter(u):(t.unshift(u),o++))}l?r.node=s:a&&s.hasClass(`newline`)&&(r.node=_a([`leftmost`])),r.insertAfter=(e=>n=>{t.splice(e+1,0,n),o++})(o)}i&&t.pop()},wa=function(e){return e instanceof Pr||e instanceof ti||e instanceof ei&&e.hasClass(`enclosing`)?e:null},Ta=function e(t,n){var r=wa(t);if(r){var i=r.children;if(i.length){if(n===`right`)return e(i[i.length-1],`right`);if(n===`left`)return e(i[0],`left`)}}return t},Ea=function(e,t){return e?(t&&(e=Ta(e,t)),xa[e.classes[0]]||null):null},Da=function(e,t){var n=[`nulldelimiter`].concat(e.baseSizingClasses());return _a(t.concat(n))},Oa=function(e,t,n){if(!e)return _a();if(fa[e.type]){var r=fa[e.type](e,t);if(n&&t.size!==n.size){r=_a(t.sizingClasses(n),[r],t);var i=t.sizeMultiplier/n.sizeMultiplier;r.height*=i,r.depth*=i}return r}else throw new w(`Got group of unknown type: '`+e.type+`'`)};function ka(e,t){var n=_a([`base`],e,t),r=_a([`strut`]);return r.style.height=E(n.height+n.depth),n.depth&&(r.style.verticalAlign=E(-n.depth)),n.children.unshift(r),n}function Aa(e,t){var n=null;e.length===1&&e[0].type===`tag`&&(n=e[0].tag,e=e[0].body);var r=Sa(e,t,`root`),i;r.length===2&&r[1].hasClass(`tag`)&&(i=r.pop());for(var a=[],o=[],s=0;s<r.length;s++)if(o.push(r[s]),r[s].hasClass(`mbin`)||r[s].hasClass(`mrel`)||r[s].hasClass(`allowbreak`)){for(var c=!1;s<r.length-1&&r[s+1].hasClass(`mspace`)&&!r[s+1].hasClass(`newline`);)s++,o.push(r[s]),r[s].hasClass(`nobreak`)&&(c=!0);c||(a.push(ka(o,t)),o=[])}else r[s].hasClass(`newline`)&&(o.pop(),o.length>0&&(a.push(ka(o,t)),o=[]),a.push(r[s]));o.length>0&&a.push(ka(o,t));var l;n?(l=ka(Sa(n,t,!0)),l.classes=[`tag`],a.push(l)):i&&a.push(i);var u=_a([`katex-html`],a);if(u.setAttribute(`aria-hidden`,`true`),l){var d=l.children[0];d.style.height=E(u.height+u.depth),u.depth&&(d.style.verticalAlign=E(-u.depth))}return u}function ja(e){return new Pr(e)}var Ma=class{constructor(e,t,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=n||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS(`http://www.w3.org/1998/Math/MathML`,this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=Yr(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof Na&&this.children[n+1]instanceof Na){for(var r=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof Na;)r+=this.children[++n].toText();e.appendChild(new Na(r).toNode())}else e.appendChild(this.children[n].toNode());return e}toMarkup(){var e=`<`+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=` `+t+`="`,e+=Qn.escape(this.attributes[t]),e+=`"`);this.classes.length>0&&(e+=` class ="`+Qn.escape(Yr(this.classes))+`"`),e+=`>`;for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+=`</`+this.type+`>`,e}toText(){return this.children.map(e=>e.toText()).join(``)}},Na=class{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Qn.escape(this.toText())}toText(){return this.text}},z={MathNode:Ma,TextNode:Na,SpaceNode:class{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=` `:e>=.1666&&e<=.1667?this.character=` `:e>=.2222&&e<=.2223?this.character=` `:e>=.2777&&e<=.2778?this.character=`  `:e>=-.05556&&e<=-.05555?this.character=` ⁣`:e>=-.1667&&e<=-.1666?this.character=` ⁣`:e>=-.2223&&e<=-.2222?this.character=` ⁣`:e>=-.2778&&e<=-.2777?this.character=` ⁣`:this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS(`http://www.w3.org/1998/Math/MathML`,`mspace`);return e.setAttribute(`width`,E(this.width)),e}toMarkup(){return this.character?`<mtext>`+this.character+`</mtext>`:`<mspace width="`+E(this.width)+`"/>`}toText(){return this.character?this.character:` `}},newDocumentFragment:ja},Pa=function(e,t,n){return fi[t][e]&&fi[t][e].replace&&e.charCodeAt(0)!==55349&&!(bi.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)===`tt`||n.font&&n.font.slice(4,6)===`tt`))&&(e=fi[t][e].replace),new z.TextNode(e)},Fa=function(e){return e.length===1?e[0]:new z.MathNode(`mrow`,e)},Ia=function(e,t){if(t.fontFamily===`texttt`)return`monospace`;if(t.fontFamily===`textsf`)return t.fontShape===`textit`&&t.fontWeight===`textbf`?`sans-serif-bold-italic`:t.fontShape===`textit`?`sans-serif-italic`:t.fontWeight===`textbf`?`bold-sans-serif`:`sans-serif`;if(t.fontShape===`textit`&&t.fontWeight===`textbf`)return`bold-italic`;if(t.fontShape===`textit`)return`italic`;if(t.fontWeight===`textbf`)return`bold`;var n=t.font;if(!n||n===`mathnormal`)return null;var r=e.mode;if(n===`mathit`)return`italic`;if(n===`boldsymbol`)return e.type===`textord`?`bold`:`bold-italic`;if(n===`mathbf`)return`bold`;if(n===`mathbb`)return`double-struck`;if(n===`mathsfit`)return`sans-serif-italic`;if(n===`mathfrak`)return`fraktur`;if(n===`mathscr`||n===`mathcal`)return`script`;if(n===`mathsf`)return`sans-serif`;if(n===`mathtt`)return`monospace`;var i=e.text;if([`\\imath`,`\\jmath`].includes(i))return null;fi[r][i]&&fi[r][i].replace&&(i=fi[r][i].replace);var a=L.fontMap[n].fontName;return Rr(i,a,r)?L.fontMap[n].variant:null};function La(e){if(!e)return!1;if(e.type===`mi`&&e.children.length===1){var t=e.children[0];return t instanceof Na&&t.text===`.`}else if(e.type===`mo`&&e.children.length===1&&e.getAttribute(`separator`)===`true`&&e.getAttribute(`lspace`)===`0em`&&e.getAttribute(`rspace`)===`0em`){var n=e.children[0];return n instanceof Na&&n.text===`,`}else return!1}var Ra=function(e,t,n){if(e.length===1){var r=Ba(e[0],t);return n&&r instanceof Ma&&r.type===`mo`&&(r.setAttribute(`lspace`,`0em`),r.setAttribute(`rspace`,`0em`)),[r]}for(var i=[],a,o=0;o<e.length;o++){var s=Ba(e[o],t);if(s instanceof Ma&&a instanceof Ma){if(s.type===`mtext`&&a.type===`mtext`&&s.getAttribute(`mathvariant`)===a.getAttribute(`mathvariant`)){a.children.push(...s.children);continue}else if(s.type===`mn`&&a.type===`mn`){a.children.push(...s.children);continue}else if(La(s)&&a.type===`mn`){a.children.push(...s.children);continue}else if(s.type===`mn`&&La(a))s.children=[...a.children,...s.children],i.pop();else if((s.type===`msup`||s.type===`msub`)&&s.children.length>=1&&(a.type===`mn`||La(a))){var c=s.children[0];c instanceof Ma&&c.type===`mn`&&(c.children=[...a.children,...c.children],i.pop())}else if(a.type===`mi`&&a.children.length===1){var l=a.children[0];if(l instanceof Na&&l.text===`̸`&&(s.type===`mo`||s.type===`mi`||s.type===`mn`)){var u=s.children[0];u instanceof Na&&u.text.length>0&&(u.text=u.text.slice(0,1)+`̸`+u.text.slice(1),i.pop())}}}i.push(s),a=s}return i},za=function(e,t,n){return Fa(Ra(e,t,n))},Ba=function(e,t){if(!e)return new z.MathNode(`mrow`);if(pa[e.type])return pa[e.type](e,t);throw new w(`Got group of unknown type: '`+e.type+`'`)};function Va(e,t,n,r,i){var a=Ra(e,n),o=a.length===1&&a[0]instanceof Ma&&[`mrow`,`mtable`].includes(a[0].type)?a[0]:new z.MathNode(`mrow`,a),s=new z.MathNode(`annotation`,[new z.TextNode(t)]);s.setAttribute(`encoding`,`application/x-tex`);var c=new z.MathNode(`semantics`,[o,s]),l=new z.MathNode(`math`,[c]);l.setAttribute(`xmlns`,`http://www.w3.org/1998/Math/MathML`),r&&l.setAttribute(`display`,`block`);var u=i?`katex`:`katex-mathml`;return L.makeSpan([u],[l])}var Ha=function(e){return new Wr({style:e.displayMode?T.DISPLAY:T.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Ua=function(e,t){if(t.displayMode){var n=[`katex-display`];t.leqno&&n.push(`leqno`),t.fleqn&&n.push(`fleqn`),e=L.makeSpan(n,[e])}return e},Wa=function(e,t,n){var r=Ha(n),i;if(n.output===`mathml`)return Va(e,t,r,n.displayMode,!0);if(n.output===`html`){var a=Aa(e,r);i=L.makeSpan([`katex`],[a])}else{var o=Va(e,t,r,n.displayMode,!1),s=Aa(e,r);i=L.makeSpan([`katex`],[o,s])}return Ua(i,n)},Ga={widehat:`^`,widecheck:`ˇ`,widetilde:`~`,utilde:`~`,overleftarrow:`←`,underleftarrow:`←`,xleftarrow:`←`,overrightarrow:`→`,underrightarrow:`→`,xrightarrow:`→`,underbrace:`⏟`,overbrace:`⏞`,overgroup:`⏠`,undergroup:`⏡`,overleftrightarrow:`↔`,underleftrightarrow:`↔`,xleftrightarrow:`↔`,Overrightarrow:`⇒`,xRightarrow:`⇒`,overleftharpoon:`↼`,xleftharpoonup:`↼`,overrightharpoon:`⇀`,xrightharpoonup:`⇀`,xLeftarrow:`⇐`,xLeftrightarrow:`⇔`,xhookleftarrow:`↩`,xhookrightarrow:`↪`,xmapsto:`↦`,xrightharpoondown:`⇁`,xleftharpoondown:`↽`,xrightleftharpoons:`⇌`,xleftrightharpoons:`⇋`,xtwoheadleftarrow:`↞`,xtwoheadrightarrow:`↠`,xlongequal:`=`,xtofrom:`⇄`,xrightleftarrows:`⇄`,xrightequilibrium:`⇌`,xleftequilibrium:`⇋`,"\\cdrightarrow":`→`,"\\cdleftarrow":`←`,"\\cdlongequal":`=`},Ka=function(e){var t=new z.MathNode(`mo`,[new z.TextNode(Ga[e.replace(/^\\/,``)])]);return t.setAttribute(`stretchy`,`true`),t},qa={overrightarrow:[[`rightarrow`],.888,522,`xMaxYMin`],overleftarrow:[[`leftarrow`],.888,522,`xMinYMin`],underrightarrow:[[`rightarrow`],.888,522,`xMaxYMin`],underleftarrow:[[`leftarrow`],.888,522,`xMinYMin`],xrightarrow:[[`rightarrow`],1.469,522,`xMaxYMin`],"\\cdrightarrow":[[`rightarrow`],3,522,`xMaxYMin`],xleftarrow:[[`leftarrow`],1.469,522,`xMinYMin`],"\\cdleftarrow":[[`leftarrow`],3,522,`xMinYMin`],Overrightarrow:[[`doublerightarrow`],.888,560,`xMaxYMin`],xRightarrow:[[`doublerightarrow`],1.526,560,`xMaxYMin`],xLeftarrow:[[`doubleleftarrow`],1.526,560,`xMinYMin`],overleftharpoon:[[`leftharpoon`],.888,522,`xMinYMin`],xleftharpoonup:[[`leftharpoon`],.888,522,`xMinYMin`],xleftharpoondown:[[`leftharpoondown`],.888,522,`xMinYMin`],overrightharpoon:[[`rightharpoon`],.888,522,`xMaxYMin`],xrightharpoonup:[[`rightharpoon`],.888,522,`xMaxYMin`],xrightharpoondown:[[`rightharpoondown`],.888,522,`xMaxYMin`],xlongequal:[[`longequal`],.888,334,`xMinYMin`],"\\cdlongequal":[[`longequal`],3,334,`xMinYMin`],xtwoheadleftarrow:[[`twoheadleftarrow`],.888,334,`xMinYMin`],xtwoheadrightarrow:[[`twoheadrightarrow`],.888,334,`xMaxYMin`],overleftrightarrow:[[`leftarrow`,`rightarrow`],.888,522],overbrace:[[`leftbrace`,`midbrace`,`rightbrace`],1.6,548],underbrace:[[`leftbraceunder`,`midbraceunder`,`rightbraceunder`],1.6,548],underleftrightarrow:[[`leftarrow`,`rightarrow`],.888,522],xleftrightarrow:[[`leftarrow`,`rightarrow`],1.75,522],xLeftrightarrow:[[`doubleleftarrow`,`doublerightarrow`],1.75,560],xrightleftharpoons:[[`leftharpoondownplus`,`rightharpoonplus`],1.75,716],xleftrightharpoons:[[`leftharpoonplus`,`rightharpoondownplus`],1.75,716],xhookleftarrow:[[`leftarrow`,`righthook`],1.08,522],xhookrightarrow:[[`lefthook`,`rightarrow`],1.08,522],overlinesegment:[[`leftlinesegment`,`rightlinesegment`],.888,522],underlinesegment:[[`leftlinesegment`,`rightlinesegment`],.888,522],overgroup:[[`leftgroup`,`rightgroup`],.888,342],undergroup:[[`leftgroupunder`,`rightgroupunder`],.888,342],xmapsto:[[`leftmapsto`,`rightarrow`],1.5,522],xtofrom:[[`leftToFrom`,`rightToFrom`],1.75,528],xrightleftarrows:[[`baraboveleftarrow`,`rightarrowabovebar`],1.75,901],xrightequilibrium:[[`baraboveshortleftharpoon`,`rightharpoonaboveshortbar`],1.75,716],xleftequilibrium:[[`shortbaraboveleftharpoon`,`shortrightharpoonabovebar`],1.75,716]},Ja=function(e){return e.type===`ordgroup`?e.body.length:1},Ya={encloseSpan:function(e,t,n,r,i){var a,o=e.height+e.depth+n+r;if(/fbox|color|angl/.test(t)){if(a=L.makeSpan([`stretchy`,t],[],i),t===`fbox`){var s=i.color&&i.getColor();s&&(a.style.borderColor=s)}}else{var c=[];/^[bx]cancel$/.test(t)&&c.push(new si({x1:`0`,y1:`0`,x2:`100%`,y2:`100%`,"stroke-width":`0.046em`})),/^x?cancel$/.test(t)&&c.push(new si({x1:`0`,y1:`100%`,x2:`100%`,y2:`0`,"stroke-width":`0.046em`}));var l=new ai(c,{width:`100%`,height:E(o)});a=L.makeSvgSpan([],[l],i)}return a.height=o,a.style.height=E(o),a},mathMLnode:Ka,svgSpan:function(e,t){function n(){var n=4e5,r=e.label.slice(1);if([`widehat`,`widecheck`,`widetilde`,`utilde`].includes(r)){var i=Ja(e.base),a,o,s;if(i>5)r===`widehat`||r===`widecheck`?(a=420,n=2364,s=.42,o=r+`4`):(a=312,n=2340,s=.34,o=`tilde4`);else{var c=[1,1,2,2,3,3][i];r===`widehat`||r===`widecheck`?(n=[0,1062,2364,2364,2364][c],a=[0,239,300,360,420][c],s=[0,.24,.3,.3,.36,.42][c],o=r+c):(n=[0,600,1033,2339,2340][c],a=[0,260,286,306,312][c],s=[0,.26,.286,.3,.306,.34][c],o=`tilde`+c)}var l=new ai([new oi(o)],{width:`100%`,height:E(s),viewBox:`0 0 `+n+` `+a,preserveAspectRatio:`none`});return{span:L.makeSvgSpan([],[l],t),minWidth:0,height:s}}else{var u=[],d=qa[r],[f,p,m]=d,h=m/1e3,g=f.length,_,v;if(g===1){var ee=d[3];_=[`hide-tail`],v=[ee]}else if(g===2)_=[`halfarrow-left`,`halfarrow-right`],v=[`xMinYMin`,`xMaxYMin`];else if(g===3)_=[`brace-left`,`brace-center`,`brace-right`],v=[`xMinYMin`,`xMidYMin`,`xMaxYMin`];else throw Error(`Correct katexImagesData or update code here to support
                    `+g+` children.`);for(var te=0;te<g;te++){var ne=new ai([new oi(f[te])],{width:`400em`,height:E(h),viewBox:`0 0 `+n+` `+m,preserveAspectRatio:v[te]+` slice`}),y=L.makeSvgSpan([_[te]],[ne],t);if(g===1)return{span:y,minWidth:p,height:h};y.style.height=E(h),u.push(y)}return{span:L.makeSpan([`stretchy`],u,t),minWidth:p,height:h}}}var{span:r,minWidth:i,height:a}=n();return r.height=a,r.style.height=E(a),i>0&&(r.style.minWidth=E(i)),r}};function B(e,t){if(!e||e.type!==t)throw Error(`Expected node of type `+t+`, but got `+(e?`node of type `+e.type:String(e)));return e}function Xa(e){var t=Za(e);if(!t)throw Error(`Expected node of symbol group type, but got `+(e?`node of type `+e.type:String(e)));return t}function Za(e){return e&&(e.type===`atom`||di.hasOwnProperty(e.type))?e:null}var Qa=(e,t)=>{var n,r,i;e&&e.type===`supsub`?(r=B(e.base,`accent`),n=r.base,e.base=n,i=li(Oa(e,t)),e.base=r):(r=B(e,`accent`),n=r.base);var a=Oa(n,t.havingCrampedStyle()),o=r.isShifty&&Qn.isCharacterBox(n),s=0;o&&(s=ci(Oa(Qn.getBaseElem(n),t.havingCrampedStyle())).skew);var c=r.label===`\\c`,l=c?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight),u;if(r.isStretchy)u=Ya.svgSpan(r,t),u=L.makeVList({positionType:`firstBaseline`,children:[{type:`elem`,elem:a},{type:`elem`,elem:u,wrapperClasses:[`svg-align`],wrapperStyle:s>0?{width:`calc(100% - `+E(2*s)+`)`,marginLeft:E(2*s)}:void 0}]},t);else{var d,f;r.label===`\\vec`?(d=L.staticSvg(`vec`,t),f=L.svgData.vec[1]):(d=L.makeOrd({mode:r.mode,text:r.label},t,`textord`),d=ci(d),d.italic=0,f=d.width,c&&(l+=d.depth)),u=L.makeSpan([`accent-body`],[d]);var p=r.label===`\\textcircled`;p&&(u.classes.push(`accent-full`),l=a.height);var m=s;p||(m-=f/2),u.style.left=E(m),r.label===`\\textcircled`&&(u.style.top=`.2em`),u=L.makeVList({positionType:`firstBaseline`,children:[{type:`elem`,elem:a},{type:`kern`,size:-l},{type:`elem`,elem:u}]},t)}var h=L.makeSpan([`mord`,`accent`],[u],t);return i?(i.children[0]=h,i.height=Math.max(h.height,i.height),i.classes[0]=`mord`,i):h},$a=(e,t)=>{var n=e.isStretchy?Ya.mathMLnode(e.label):new z.MathNode(`mo`,[Pa(e.label,e.mode)]),r=new z.MathNode(`mover`,[Ba(e.base,t),n]);return r.setAttribute(`accent`,`true`),r},eo=new RegExp([`\\acute`,`\\grave`,`\\ddot`,`\\tilde`,`\\bar`,`\\breve`,`\\check`,`\\hat`,`\\vec`,`\\dot`,`\\mathring`].map(e=>`\\`+e).join(`|`));R({type:`accent`,names:[`\\acute`,`\\grave`,`\\ddot`,`\\tilde`,`\\bar`,`\\breve`,`\\check`,`\\hat`,`\\vec`,`\\dot`,`\\mathring`,`\\widecheck`,`\\widehat`,`\\widetilde`,`\\overrightarrow`,`\\overleftarrow`,`\\Overrightarrow`,`\\overleftrightarrow`,`\\overgroup`,`\\overlinesegment`,`\\overleftharpoon`,`\\overrightharpoon`],props:{numArgs:1},handler:(e,t)=>{var n=ha(t[0]),r=!eo.test(e.funcName),i=!r||e.funcName===`\\widehat`||e.funcName===`\\widetilde`||e.funcName===`\\widecheck`;return{type:`accent`,mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:Qa,mathmlBuilder:$a}),R({type:`accent`,names:[`\\'`,"\\`",`\\^`,`\\~`,`\\=`,`\\u`,`\\.`,`\\"`,`\\c`,`\\r`,`\\H`,`\\v`,`\\textcircled`],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:[`primitive`]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return r===`math`&&(e.parser.settings.reportNonstrict(`mathVsTextAccents`,`LaTeX's accent `+e.funcName+` works only in text mode`),r=`text`),{type:`accent`,mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Qa,mathmlBuilder:$a}),R({type:`accentUnder`,names:[`\\underleftarrow`,`\\underrightarrow`,`\\underleftrightarrow`,`\\undergroup`,`\\underlinesegment`,`\\utilde`],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:`accentUnder`,mode:n.mode,label:r,base:i}},htmlBuilder:(e,t)=>{var n=Oa(e.base,t),r=Ya.svgSpan(e,t),i=e.label===`\\utilde`?.12:0,a=L.makeVList({positionType:`top`,positionData:n.height,children:[{type:`elem`,elem:r,wrapperClasses:[`svg-align`]},{type:`kern`,size:i},{type:`elem`,elem:n}]},t);return L.makeSpan([`mord`,`accentunder`],[a],t)},mathmlBuilder:(e,t)=>{var n=Ya.mathMLnode(e.label),r=new z.MathNode(`munder`,[Ba(e.base,t),n]);return r.setAttribute(`accentunder`,`true`),r}});var to=e=>{var t=new z.MathNode(`mpadded`,e?[e]:[]);return t.setAttribute(`width`,`+0.6em`),t.setAttribute(`lspace`,`0.3em`),t};R({type:`xArrow`,names:[`\\xleftarrow`,`\\xrightarrow`,`\\xLeftarrow`,`\\xRightarrow`,`\\xleftrightarrow`,`\\xLeftrightarrow`,`\\xhookleftarrow`,`\\xhookrightarrow`,`\\xmapsto`,`\\xrightharpoondown`,`\\xrightharpoonup`,`\\xleftharpoondown`,`\\xleftharpoonup`,`\\xrightleftharpoons`,`\\xleftrightharpoons`,`\\xlongequal`,`\\xtwoheadrightarrow`,`\\xtwoheadleftarrow`,`\\xtofrom`,`\\xrightleftarrows`,`\\xrightequilibrium`,`\\xleftequilibrium`,`\\\\cdrightarrow`,`\\\\cdleftarrow`,`\\\\cdlongequal`],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:i}=e;return{type:`xArrow`,mode:r.mode,label:i,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,r=t.havingStyle(n.sup()),i=L.wrapFragment(Oa(e.body,r,t),t),a=e.label.slice(0,2)===`\\x`?`x`:`cd`;i.classes.push(a+`-arrow-pad`);var o;e.below&&(r=t.havingStyle(n.sub()),o=L.wrapFragment(Oa(e.below,r,t),t),o.classes.push(a+`-arrow-pad`));var s=Ya.svgSpan(e,t),c=-t.fontMetrics().axisHeight+.5*s.height,l=-t.fontMetrics().axisHeight-.5*s.height-.111;(i.depth>.25||e.label===`\\xleftequilibrium`)&&(l-=i.depth);var u;if(o){var d=-t.fontMetrics().axisHeight+o.height+.5*s.height+.111;u=L.makeVList({positionType:`individualShift`,children:[{type:`elem`,elem:i,shift:l},{type:`elem`,elem:s,shift:c},{type:`elem`,elem:o,shift:d}]},t)}else u=L.makeVList({positionType:`individualShift`,children:[{type:`elem`,elem:i,shift:l},{type:`elem`,elem:s,shift:c}]},t);return u.children[0].children[0].children[1].classes.push(`svg-align`),L.makeSpan([`mrel`,`x-arrow`],[u],t)},mathmlBuilder(e,t){var n=Ya.mathMLnode(e.label);n.setAttribute(`minsize`,e.label.charAt(0)===`x`?`1.75em`:`3.0em`);var r;if(e.body){var i=to(Ba(e.body,t));if(e.below){var a=to(Ba(e.below,t));r=new z.MathNode(`munderover`,[n,a,i])}else r=new z.MathNode(`mover`,[n,i])}else if(e.below){var o=to(Ba(e.below,t));r=new z.MathNode(`munder`,[n,o])}else r=to(),r=new z.MathNode(`mover`,[n,r]);return r}});var no=L.makeSpan;function ro(e,t){var n=Sa(e.body,t,!0);return no([e.mclass],n,t)}function io(e,t){var n,r=Ra(e.body,t);return e.mclass===`minner`?n=new z.MathNode(`mpadded`,r):e.mclass===`mord`?e.isCharacterBox?(n=r[0],n.type=`mi`):n=new z.MathNode(`mi`,r):(e.isCharacterBox?(n=r[0],n.type=`mo`):n=new z.MathNode(`mo`,r),e.mclass===`mbin`?(n.attributes.lspace=`0.22em`,n.attributes.rspace=`0.22em`):e.mclass===`mpunct`?(n.attributes.lspace=`0em`,n.attributes.rspace=`0.17em`):e.mclass===`mopen`||e.mclass===`mclose`?(n.attributes.lspace=`0em`,n.attributes.rspace=`0em`):e.mclass===`minner`&&(n.attributes.lspace=`0.0556em`,n.attributes.width=`+0.1111em`)),n}R({type:`mclass`,names:[`\\mathord`,`\\mathbin`,`\\mathrel`,`\\mathopen`,`\\mathclose`,`\\mathpunct`,`\\mathinner`],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:`mclass`,mode:n.mode,mclass:`m`+r.slice(5),body:ga(i),isCharacterBox:Qn.isCharacterBox(i)}},htmlBuilder:ro,mathmlBuilder:io});var ao=e=>{var t=e.type===`ordgroup`&&e.body.length?e.body[0]:e;return t.type===`atom`&&(t.family===`bin`||t.family===`rel`)?`m`+t.family:`mord`};R({type:`mclass`,names:[`\\@binrel`],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:`mclass`,mode:n.mode,mclass:ao(t[0]),body:ga(t[1]),isCharacterBox:Qn.isCharacterBox(t[1])}}}),R({type:`mclass`,names:[`\\stackrel`,`\\overset`,`\\underset`],props:{numArgs:2},handler(e,t){var{parser:n,funcName:r}=e,i=t[1],a=t[0],o=r===`\\stackrel`?`mrel`:ao(i),s={type:`op`,mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!==`\\stackrel`,body:ga(i)},c={type:`supsub`,mode:a.mode,base:s,sup:r===`\\underset`?null:a,sub:r===`\\underset`?a:null};return{type:`mclass`,mode:n.mode,mclass:o,body:[c],isCharacterBox:Qn.isCharacterBox(c)}},htmlBuilder:ro,mathmlBuilder:io}),R({type:`pmb`,names:[`\\pmb`],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:`pmb`,mode:n.mode,mclass:ao(t[0]),body:ga(t[0])}},htmlBuilder(e,t){var n=Sa(e.body,t,!0),r=L.makeSpan([e.mclass],n,t);return r.style.textShadow=`0.02em 0.01em 0.04px`,r},mathmlBuilder(e,t){var n=Ra(e.body,t),r=new z.MathNode(`mstyle`,n);return r.setAttribute(`style`,`text-shadow: 0.02em 0.01em 0.04px`),r}});var oo={">":`\\\\cdrightarrow`,"<":`\\\\cdleftarrow`,"=":`\\\\cdlongequal`,A:`\\uparrow`,V:`\\downarrow`,"|":`\\Vert`,".":`no arrow`},so=()=>({type:`styling`,body:[],mode:`math`,style:`display`}),co=e=>e.type===`textord`&&e.text===`@`,lo=(e,t)=>(e.type===`mathord`||e.type===`atom`)&&e.text===t;function uo(e,t,n){var r=oo[e];switch(r){case`\\\\cdrightarrow`:case`\\\\cdleftarrow`:return n.callFunction(r,[t[0]],[t[1]]);case`\\uparrow`:case`\\downarrow`:var i=n.callFunction(`\\\\cdleft`,[t[0]],[]),a={type:`atom`,text:r,mode:`math`,family:`rel`},o={type:`ordgroup`,mode:`math`,body:[i,n.callFunction(`\\Big`,[a],[]),n.callFunction(`\\\\cdright`,[t[1]],[])]};return n.callFunction(`\\\\cdparent`,[o],[]);case`\\\\cdlongequal`:return n.callFunction(`\\\\cdlongequal`,[],[]);case`\\Vert`:return n.callFunction(`\\Big`,[{type:`textord`,text:`\\Vert`,mode:`math`}],[]);default:return{type:`textord`,text:` `,mode:`math`}}}function fo(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set(`\\cr`,`\\\\\\relax`),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,`\\\\`)),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n===`&`||n===`\\\\`)e.consume();else if(n===`\\end`){t[t.length-1].length===0&&t.pop();break}else throw new w(`Expected \\\\ or \\cr or \\end`,e.nextToken)}for(var r=[],i=[r],a=0;a<t.length;a++){for(var o=t[a],s=so(),c=0;c<o.length;c++)if(!co(o[c]))s.body.push(o[c]);else{r.push(s),c+=1;var l=Xa(o[c]).text,u=[,,];if(u[0]={type:`ordgroup`,mode:`math`,body:[]},u[1]={type:`ordgroup`,mode:`math`,body:[]},!(`=|.`.indexOf(l)>-1))if(`<>AV`.indexOf(l)>-1)for(var d=0;d<2;d++){for(var f=!0,p=c+1;p<o.length;p++){if(lo(o[p],l)){f=!1,c=p;break}if(co(o[p]))throw new w(`Missing a `+l+` character to complete a CD arrow.`,o[p]);u[d].body.push(o[p])}if(f)throw new w(`Missing a `+l+` character to complete a CD arrow.`,o[c])}else throw new w(`Expected one of "<>AV=|." after @`,o[c]);var m={type:`styling`,body:[uo(l,u,e)],mode:`math`,style:`display`};r.push(m),s=so()}a%2==0?r.push(s):r.shift(),r=[],i.push(r)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:`array`,mode:`math`,body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:Array(i[0].length).fill({type:`align`,align:`c`,pregap:.25,postgap:.25}),colSeparationType:`CD`,hLinesBeforeRow:Array(i.length+1).fill([])}}R({type:`cdlabel`,names:[`\\\\cdleft`,`\\\\cdright`],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:`cdlabel`,mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=L.wrapFragment(Oa(e.label,n,t),t);return r.classes.push(`cd-label-`+e.side),r.style.bottom=E(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new z.MathNode(`mrow`,[Ba(e.label,t)]);return n=new z.MathNode(`mpadded`,[n]),n.setAttribute(`width`,`0`),e.side===`left`&&n.setAttribute(`lspace`,`-1width`),n.setAttribute(`voffset`,`0.7em`),n=new z.MathNode(`mstyle`,[n]),n.setAttribute(`displaystyle`,`false`),n.setAttribute(`scriptlevel`,`1`),n}}),R({type:`cdlabelparent`,names:[`\\\\cdparent`],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:`cdlabelparent`,mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=L.wrapFragment(Oa(e.fragment,t),t);return n.classes.push(`cd-vert-arrow`),n},mathmlBuilder(e,t){return new z.MathNode(`mrow`,[Ba(e.fragment,t)])}}),R({type:`textord`,names:[`\\@char`],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=B(t[0],`ordgroup`).body,i=``,a=0;a<r.length;a++){var o=B(r[a],`textord`);i+=o.text}var s=parseInt(i),c;if(isNaN(s))throw new w(`\\@char has non-numeric argument `+i);if(s<0||s>=1114111)throw new w(`\\@char with invalid code point `+i);return s<=65535?c=String.fromCharCode(s):(s-=65536,c=String.fromCharCode((s>>10)+55296,(s&1023)+56320)),{type:`textord`,mode:n.mode,text:c}}});var po=(e,t)=>{var n=Sa(e.body,t.withColor(e.color),!1);return L.makeFragment(n)},mo=(e,t)=>{var n=Ra(e.body,t.withColor(e.color)),r=new z.MathNode(`mstyle`,n);return r.setAttribute(`mathcolor`,e.color),r};R({type:`color`,names:[`\\textcolor`],props:{numArgs:2,allowedInText:!0,argTypes:[`color`,`original`]},handler(e,t){var{parser:n}=e,r=B(t[0],`color-token`).color,i=t[1];return{type:`color`,mode:n.mode,color:r,body:ga(i)}},htmlBuilder:po,mathmlBuilder:mo}),R({type:`color`,names:[`\\color`],props:{numArgs:1,allowedInText:!0,argTypes:[`color`]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,i=B(t[0],`color-token`).color;n.gullet.macros.set(`\\current@color`,i);var a=n.parseExpression(!0,r);return{type:`color`,mode:n.mode,color:i,body:a}},htmlBuilder:po,mathmlBuilder:mo}),R({type:`cr`,names:[`\\\\`],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,i=r.gullet.future().text===`[`?r.parseSizeGroup(!0):null,a=!r.settings.displayMode||!r.settings.useStrictBehavior(`newLineInDisplayMode`,`In LaTeX, \\\\ or \\newline does nothing in display mode`);return{type:`cr`,mode:r.mode,newLine:a,size:i&&B(i,`size`).value}},htmlBuilder(e,t){var n=L.makeSpan([`mspace`],[],t);return e.newLine&&(n.classes.push(`newline`),e.size&&(n.style.marginTop=E(Jr(e.size,t)))),n},mathmlBuilder(e,t){var n=new z.MathNode(`mspace`);return e.newLine&&(n.setAttribute(`linebreak`,`newline`),e.size&&n.setAttribute(`height`,E(Jr(e.size,t)))),n}});var ho={"\\global":`\\global`,"\\long":`\\\\globallong`,"\\\\globallong":`\\\\globallong`,"\\def":`\\gdef`,"\\gdef":`\\gdef`,"\\edef":`\\xdef`,"\\xdef":`\\xdef`,"\\let":`\\\\globallet`,"\\futurelet":`\\\\globalfuture`},go=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new w(`Expected a control sequence`,e);return t},_o=e=>{var t=e.gullet.popToken();return t.text===`=`&&(t=e.gullet.popToken(),t.text===` `&&(t=e.gullet.popToken())),t},vo=(e,t,n,r)=>{var i=e.gullet.macros.get(n.text);i??=(n.noexpand=!0,{tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,i,r)};R({type:`internal`,names:[`\\global`,`\\long`,`\\\\globallong`],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(ho[r.text])return(n===`\\global`||n===`\\\\globallong`)&&(r.text=ho[r.text]),B(t.parseFunction(),`internal`);throw new w(`Invalid token after macro prefix`,r)}}),R({type:`internal`,names:[`\\def`,`\\gdef`,`\\edef`,`\\xdef`],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new w(`Expected a control sequence`,r);for(var a=0,o,s=[[]];t.gullet.future().text!==`{`;)if(r=t.gullet.popToken(),r.text===`#`){if(t.gullet.future().text===`{`){o=t.gullet.future(),s[a].push(`{`);break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new w(`Invalid argument number "`+r.text+`"`);if(parseInt(r.text)!==a+1)throw new w(`Argument number "`+r.text+`" out of order`);a++,s.push([])}else if(r.text===`EOF`)throw new w(`Expected a macro definition`);else s[a].push(r.text);var{tokens:c}=t.gullet.consumeArg();return o&&c.unshift(o),(n===`\\edef`||n===`\\xdef`)&&(c=t.gullet.expandTokens(c),c.reverse()),t.gullet.macros.set(i,{tokens:c,numArgs:a,delimiters:s},n===ho[n]),{type:`internal`,mode:t.mode}}}),R({type:`internal`,names:[`\\let`,`\\\\globallet`],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=go(t.gullet.popToken());return t.gullet.consumeSpaces(),vo(t,r,_o(t),n===`\\\\globallet`),{type:`internal`,mode:t.mode}}}),R({type:`internal`,names:[`\\futurelet`,`\\\\globalfuture`],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=go(t.gullet.popToken()),i=t.gullet.popToken(),a=t.gullet.popToken();return vo(t,r,a,n===`\\\\globalfuture`),t.gullet.pushToken(a),t.gullet.pushToken(i),{type:`internal`,mode:t.mode}}});var yo=function(e,t,n){var r=Rr(fi.math[e]&&fi.math[e].replace||e,t,n);if(!r)throw Error(`Unsupported symbol `+e+` and font size `+t+`.`);return r},bo=function(e,t,n,r){var i=n.havingBaseStyle(t),a=L.makeSpan(r.concat(i.sizingClasses(n)),[e],n),o=i.sizeMultiplier/n.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=i.sizeMultiplier,a},xo=function(e,t,n){var r=t.havingBaseStyle(n),i=(1-t.sizeMultiplier/r.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push(`delimcenter`),e.style.top=E(i),e.height-=i,e.depth+=i},So=function(e,t,n,r,i,a){var o=bo(L.makeSymbol(e,`Main-Regular`,i,r),t,r,a);return n&&xo(o,r,t),o},Co=function(e,t,n,r){return L.makeSymbol(e,`Size`+t+`-Regular`,n,r)},wo=function(e,t,n,r,i,a){var o=Co(e,t,i,r),s=bo(L.makeSpan([`delimsizing`,`size`+t],[o],r),T.TEXT,r,a);return n&&xo(s,r,T.TEXT),s},To=function(e,t,n){var r=t===`Size1-Regular`?`delim-size1`:`delim-size4`;return{type:`elem`,elem:L.makeSpan([`delimsizinginner`,r],[L.makeSpan([],[L.makeSymbol(e,t,n)])])}},Eo=function(e,t,n){var r=Fr[`Size4-Regular`][e.charCodeAt(0)]?Fr[`Size4-Regular`][e.charCodeAt(0)][4]:Fr[`Size1-Regular`][e.charCodeAt(0)][4],i=new ai([new oi(`inner`,jr(e,Math.round(1e3*t)))],{width:E(r),height:E(t),style:`width:`+E(r),viewBox:`0 0 `+1e3*r+` `+Math.round(1e3*t),preserveAspectRatio:`xMinYMin`}),a=L.makeSvgSpan([],[i],n);return a.height=t,a.style.height=E(t),a.style.width=E(r),{type:`elem`,elem:a}},Do=.008,Oo={type:`kern`,size:-1*Do},ko=[`|`,`\\lvert`,`\\rvert`,`\\vert`],Ao=[`\\|`,`\\lVert`,`\\rVert`,`\\Vert`],jo=function(e,t,n,r,i,a){var o,s,c,l,u=``,d=0;o=c=l=e,s=null;var f=`Size1-Regular`;e===`\\uparrow`?c=l=`⏐`:e===`\\Uparrow`?c=l=`‖`:e===`\\downarrow`?o=c=`⏐`:e===`\\Downarrow`?o=c=`‖`:e===`\\updownarrow`?(o=`\\uparrow`,c=`⏐`,l=`\\downarrow`):e===`\\Updownarrow`?(o=`\\Uparrow`,c=`‖`,l=`\\Downarrow`):ko.includes(e)?(c=`∣`,u=`vert`,d=333):Ao.includes(e)?(c=`∥`,u=`doublevert`,d=556):e===`[`||e===`\\lbrack`?(o=`⎡`,c=`⎢`,l=`⎣`,f=`Size4-Regular`,u=`lbrack`,d=667):e===`]`||e===`\\rbrack`?(o=`⎤`,c=`⎥`,l=`⎦`,f=`Size4-Regular`,u=`rbrack`,d=667):e===`\\lfloor`||e===`⌊`?(c=o=`⎢`,l=`⎣`,f=`Size4-Regular`,u=`lfloor`,d=667):e===`\\lceil`||e===`⌈`?(o=`⎡`,c=l=`⎢`,f=`Size4-Regular`,u=`lceil`,d=667):e===`\\rfloor`||e===`⌋`?(c=o=`⎥`,l=`⎦`,f=`Size4-Regular`,u=`rfloor`,d=667):e===`\\rceil`||e===`⌉`?(o=`⎤`,c=l=`⎥`,f=`Size4-Regular`,u=`rceil`,d=667):e===`(`||e===`\\lparen`?(o=`⎛`,c=`⎜`,l=`⎝`,f=`Size4-Regular`,u=`lparen`,d=875):e===`)`||e===`\\rparen`?(o=`⎞`,c=`⎟`,l=`⎠`,f=`Size4-Regular`,u=`rparen`,d=875):e===`\\{`||e===`\\lbrace`?(o=`⎧`,s=`⎨`,l=`⎩`,c=`⎪`,f=`Size4-Regular`):e===`\\}`||e===`\\rbrace`?(o=`⎫`,s=`⎬`,l=`⎭`,c=`⎪`,f=`Size4-Regular`):e===`\\lgroup`||e===`⟮`?(o=`⎧`,l=`⎩`,c=`⎪`,f=`Size4-Regular`):e===`\\rgroup`||e===`⟯`?(o=`⎫`,l=`⎭`,c=`⎪`,f=`Size4-Regular`):e===`\\lmoustache`||e===`⎰`?(o=`⎧`,l=`⎭`,c=`⎪`,f=`Size4-Regular`):(e===`\\rmoustache`||e===`⎱`)&&(o=`⎫`,l=`⎩`,c=`⎪`,f=`Size4-Regular`);var p=yo(o,f,i),m=p.height+p.depth,h=yo(c,f,i),g=h.height+h.depth,_=yo(l,f,i),v=_.height+_.depth,ee=0,te=1;if(s!==null){var ne=yo(s,f,i);ee=ne.height+ne.depth,te=2}var y=m+v+ee,b=y+Math.max(0,Math.ceil((t-y)/(te*g)))*te*g,x=r.fontMetrics().axisHeight;n&&(x*=r.sizeMultiplier);var re=b/2-x,ie=[];if(u.length>0){var ae=b-m-v,oe=Math.round(b*1e3),se=Nr(u,Math.round(ae*1e3)),ce=new oi(u,se),le=(d/1e3).toFixed(3)+`em`,ue=(oe/1e3).toFixed(3)+`em`,de=new ai([ce],{width:le,height:ue,viewBox:`0 0 `+d+` `+oe}),fe=L.makeSvgSpan([],[de],r);fe.height=oe/1e3,fe.style.width=le,fe.style.height=ue,ie.push({type:`elem`,elem:fe})}else{if(ie.push(To(l,f,i)),ie.push(Oo),s===null){var pe=b-m-v+2*Do;ie.push(Eo(c,pe,r))}else{var me=(b-m-v-ee)/2+2*Do;ie.push(Eo(c,me,r)),ie.push(Oo),ie.push(To(s,f,i)),ie.push(Oo),ie.push(Eo(c,me,r))}ie.push(Oo),ie.push(To(o,f,i))}var he=r.havingBaseStyle(T.TEXT),ge=L.makeVList({positionType:`bottom`,positionData:re,children:ie},he);return bo(L.makeSpan([`delimsizing`,`mult`],[ge],he),T.TEXT,r,a)},Mo=80,No=.08,Po=function(e,t,n,r,i){var a=new ai([new oi(e,Ar(e,r,n))],{width:`400em`,height:E(t),viewBox:`0 0 400000 `+n,preserveAspectRatio:`xMinYMin slice`});return L.makeSvgSpan([`hide-tail`],[a],i)},Fo=function(e,t){var n=t.havingBaseSizing(),r=Go(`\\surd`,e*n.sizeMultiplier,Uo,n),i=n.sizeMultiplier,a=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),o,s=0,c=0,l=0,u;return r.type===`small`?(l=1e3+1e3*a+Mo,e<1?i=1:e<1.4&&(i=.7),s=(1+a+No)/i,c=(1+a)/i,o=Po(`sqrtMain`,s,l,a,t),o.style.minWidth=`0.853em`,u=.833/i):r.type===`large`?(l=(1e3+Mo)*zo[r.size],c=(zo[r.size]+a)/i,s=(zo[r.size]+a+No)/i,o=Po(`sqrtSize`+r.size,s,l,a,t),o.style.minWidth=`1.02em`,u=1/i):(s=e+a+No,c=e+a,l=Math.floor(1e3*e+a)+Mo,o=Po(`sqrtTall`,s,l,a,t),o.style.minWidth=`0.742em`,u=1.056),o.height=c,o.style.height=E(s),{span:o,advanceWidth:u,ruleWidth:(t.fontMetrics().sqrtRuleThickness+a)*i}},Io=[`(`,`\\lparen`,`)`,`\\rparen`,`[`,`\\lbrack`,`]`,`\\rbrack`,`\\{`,`\\lbrace`,`\\}`,`\\rbrace`,`\\lfloor`,`\\rfloor`,`⌊`,`⌋`,`\\lceil`,`\\rceil`,`⌈`,`⌉`,`\\surd`],Lo=[`\\uparrow`,`\\downarrow`,`\\updownarrow`,`\\Uparrow`,`\\Downarrow`,`\\Updownarrow`,`|`,`\\|`,`\\vert`,`\\Vert`,`\\lvert`,`\\rvert`,`\\lVert`,`\\rVert`,`\\lgroup`,`\\rgroup`,`⟮`,`⟯`,`\\lmoustache`,`\\rmoustache`,`⎰`,`⎱`],Ro=[`<`,`>`,`\\langle`,`\\rangle`,`/`,`\\backslash`,`\\lt`,`\\gt`],zo=[0,1.2,1.8,2.4,3],Bo=function(e,t,n,r,i){if(e===`<`||e===`\\lt`||e===`⟨`?e=`\\langle`:(e===`>`||e===`\\gt`||e===`⟩`)&&(e=`\\rangle`),Io.includes(e)||Ro.includes(e))return wo(e,t,!1,n,r,i);if(Lo.includes(e))return jo(e,zo[t],!1,n,r,i);throw new w(`Illegal delimiter: '`+e+`'`)},Vo=[{type:`small`,style:T.SCRIPTSCRIPT},{type:`small`,style:T.SCRIPT},{type:`small`,style:T.TEXT},{type:`large`,size:1},{type:`large`,size:2},{type:`large`,size:3},{type:`large`,size:4}],Ho=[{type:`small`,style:T.SCRIPTSCRIPT},{type:`small`,style:T.SCRIPT},{type:`small`,style:T.TEXT},{type:`stack`}],Uo=[{type:`small`,style:T.SCRIPTSCRIPT},{type:`small`,style:T.SCRIPT},{type:`small`,style:T.TEXT},{type:`large`,size:1},{type:`large`,size:2},{type:`large`,size:3},{type:`large`,size:4},{type:`stack`}],Wo=function(e){if(e.type===`small`)return`Main-Regular`;if(e.type===`large`)return`Size`+e.size+`-Regular`;if(e.type===`stack`)return`Size4-Regular`;throw Error(`Add support for delim type '`+e.type+`' here.`)},Go=function(e,t,n,r){for(var i=Math.min(2,3-r.style.size);i<n.length&&n[i].type!==`stack`;i++){var a=yo(e,Wo(n[i]),`math`),o=a.height+a.depth;if(n[i].type===`small`){var s=r.havingBaseStyle(n[i].style);o*=s.sizeMultiplier}if(o>t)return n[i]}return n[n.length-1]},Ko=function(e,t,n,r,i,a){e===`<`||e===`\\lt`||e===`⟨`?e=`\\langle`:(e===`>`||e===`\\gt`||e===`⟩`)&&(e=`\\rangle`);var o=Ro.includes(e)?Vo:Io.includes(e)?Uo:Ho,s=Go(e,t,o,r);return s.type===`small`?So(e,s.style,n,r,i,a):s.type===`large`?wo(e,s.size,n,r,i,a):jo(e,t,n,r,i,a)},qo={sqrtImage:Fo,sizedDelim:Bo,sizeToMaxHeight:zo,customSizedDelim:Ko,leftRightDelim:function(e,t,n,r,i,a){var o=r.fontMetrics().axisHeight*r.sizeMultiplier,s=901,c=5/r.fontMetrics().ptPerEm,l=Math.max(t-o,n+o);return Ko(e,Math.max(l/500*s,2*l-c),!0,r,i,a)}},Jo={"\\bigl":{mclass:`mopen`,size:1},"\\Bigl":{mclass:`mopen`,size:2},"\\biggl":{mclass:`mopen`,size:3},"\\Biggl":{mclass:`mopen`,size:4},"\\bigr":{mclass:`mclose`,size:1},"\\Bigr":{mclass:`mclose`,size:2},"\\biggr":{mclass:`mclose`,size:3},"\\Biggr":{mclass:`mclose`,size:4},"\\bigm":{mclass:`mrel`,size:1},"\\Bigm":{mclass:`mrel`,size:2},"\\biggm":{mclass:`mrel`,size:3},"\\Biggm":{mclass:`mrel`,size:4},"\\big":{mclass:`mord`,size:1},"\\Big":{mclass:`mord`,size:2},"\\bigg":{mclass:`mord`,size:3},"\\Bigg":{mclass:`mord`,size:4}},Yo=`(,\\lparen,),\\rparen,[,\\lbrack,],\\rbrack,\\{,\\lbrace,\\},\\rbrace,\\lfloor,\\rfloor,⌊,⌋,\\lceil,\\rceil,⌈,⌉,<,>,\\langle,⟨,\\rangle,⟩,\\lt,\\gt,\\lvert,\\rvert,\\lVert,\\rVert,\\lgroup,\\rgroup,⟮,⟯,\\lmoustache,\\rmoustache,⎰,⎱,/,\\backslash,|,\\vert,\\|,\\Vert,\\uparrow,\\Uparrow,\\downarrow,\\Downarrow,\\updownarrow,\\Updownarrow,.`.split(`,`);function Xo(e,t){var n=Za(e);if(n&&Yo.includes(n.text))return n;throw n?new w(`Invalid delimiter '`+n.text+`' after '`+t.funcName+`'`,e):new w(`Invalid delimiter type '`+e.type+`'`,e)}R({type:`delimsizing`,names:[`\\bigl`,`\\Bigl`,`\\biggl`,`\\Biggl`,`\\bigr`,`\\Bigr`,`\\biggr`,`\\Biggr`,`\\bigm`,`\\Bigm`,`\\biggm`,`\\Biggm`,`\\big`,`\\Big`,`\\bigg`,`\\Bigg`],props:{numArgs:1,argTypes:[`primitive`]},handler:(e,t)=>{var n=Xo(t[0],e);return{type:`delimsizing`,mode:e.parser.mode,size:Jo[e.funcName].size,mclass:Jo[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim===`.`?L.makeSpan([e.mclass]):qo.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!==`.`&&t.push(Pa(e.delim,e.mode));var n=new z.MathNode(`mo`,t);e.mclass===`mopen`||e.mclass===`mclose`?n.setAttribute(`fence`,`true`):n.setAttribute(`fence`,`false`),n.setAttribute(`stretchy`,`true`);var r=E(qo.sizeToMaxHeight[e.size]);return n.setAttribute(`minsize`,r),n.setAttribute(`maxsize`,r),n}});function Zo(e){if(!e.body)throw Error(`Bug: The leftright ParseNode wasn't fully parsed.`)}R({type:`leftright-right`,names:[`\\right`],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get(`\\current@color`);if(n&&typeof n!=`string`)throw new w(`\\current@color set to non-string in \\right`);return{type:`leftright-right`,mode:e.parser.mode,delim:Xo(t[0],e).text,color:n}}}),R({type:`leftright`,names:[`\\left`],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Xo(t[0],e),r=e.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect(`\\right`,!1);var a=B(r.parseFunction(),`leftright-right`);return{type:`leftright`,mode:r.mode,body:i,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(e,t)=>{Zo(e);for(var n=Sa(e.body,t,!0,[`mopen`,`mclose`]),r=0,i=0,a=!1,o=0;o<n.length;o++)n[o].isMiddle?a=!0:(r=Math.max(n[o].height,r),i=Math.max(n[o].depth,i));r*=t.sizeMultiplier,i*=t.sizeMultiplier;var s=e.left===`.`?Da(t,[`mopen`]):qo.leftRightDelim(e.left,r,i,t,e.mode,[`mopen`]);if(n.unshift(s),a)for(var c=1;c<n.length;c++){var l=n[c].isMiddle;l&&(n[c]=qo.leftRightDelim(l.delim,r,i,l.options,e.mode,[]))}var u;if(e.right===`.`)u=Da(t,[`mclose`]);else{var d=e.rightColor?t.withColor(e.rightColor):t;u=qo.leftRightDelim(e.right,r,i,d,e.mode,[`mclose`])}return n.push(u),L.makeSpan([`minner`],n,t)},mathmlBuilder:(e,t)=>{Zo(e);var n=Ra(e.body,t);if(e.left!==`.`){var r=new z.MathNode(`mo`,[Pa(e.left,e.mode)]);r.setAttribute(`fence`,`true`),n.unshift(r)}if(e.right!==`.`){var i=new z.MathNode(`mo`,[Pa(e.right,e.mode)]);i.setAttribute(`fence`,`true`),e.rightColor&&i.setAttribute(`mathcolor`,e.rightColor),n.push(i)}return Fa(n)}}),R({type:`middle`,names:[`\\middle`],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Xo(t[0],e);if(!e.parser.leftrightDepth)throw new w(`\\middle without preceding \\left`,n);return{type:`middle`,mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;return e.delim===`.`?n=Da(t,[]):(n=qo.sizedDelim(e.delim,1,t,e.mode,[]),n.isMiddle={delim:e.delim,options:t}),n},mathmlBuilder:(e,t)=>{var n=e.delim===`\\vert`||e.delim===`|`?Pa(`|`,`text`):Pa(e.delim,e.mode),r=new z.MathNode(`mo`,[n]);return r.setAttribute(`fence`,`true`),r.setAttribute(`lspace`,`0.05em`),r.setAttribute(`rspace`,`0.05em`),r}});var Qo=(e,t)=>{var n=L.wrapFragment(Oa(e.body,t),t),r=e.label.slice(1),i=t.sizeMultiplier,a,o=0,s=Qn.isCharacterBox(e.body);if(r===`sout`)a=L.makeSpan([`stretchy`,`sout`]),a.height=t.fontMetrics().defaultRuleThickness/i,o=-.5*t.fontMetrics().xHeight;else if(r===`phase`){var c=Jr({number:.6,unit:`pt`},t),l=Jr({number:.35,unit:`ex`},t),u=t.havingBaseSizing();i/=u.sizeMultiplier;var d=n.height+n.depth+c+l;n.style.paddingLeft=E(d/2+c);var f=Math.floor(1e3*d*i),p=new ai([new oi(`phase`,Or(f))],{width:`400em`,height:E(f/1e3),viewBox:`0 0 400000 `+f,preserveAspectRatio:`xMinYMin slice`});a=L.makeSvgSpan([`hide-tail`],[p],t),a.style.height=E(d),o=n.depth+c+l}else{/cancel/.test(r)?s||n.classes.push(`cancel-pad`):r===`angl`?n.classes.push(`anglpad`):n.classes.push(`boxpad`);var m=0,h=0,g=0;/box/.test(r)?(g=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),m=t.fontMetrics().fboxsep+(r===`colorbox`?0:g),h=m):r===`angl`?(g=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),m=4*g,h=Math.max(0,.25-n.depth)):(m=s?.2:0,h=m),a=Ya.encloseSpan(n,r,m,h,t),/fbox|boxed|fcolorbox/.test(r)?(a.style.borderStyle=`solid`,a.style.borderWidth=E(g)):r===`angl`&&g!==.049&&(a.style.borderTopWidth=E(g),a.style.borderRightWidth=E(g)),o=n.depth+h,e.backgroundColor&&(a.style.backgroundColor=e.backgroundColor,e.borderColor&&(a.style.borderColor=e.borderColor))}var _;if(e.backgroundColor)_=L.makeVList({positionType:`individualShift`,children:[{type:`elem`,elem:a,shift:o},{type:`elem`,elem:n,shift:0}]},t);else{var v=/cancel|phase/.test(r)?[`svg-align`]:[];_=L.makeVList({positionType:`individualShift`,children:[{type:`elem`,elem:n,shift:0},{type:`elem`,elem:a,shift:o,wrapperClasses:v}]},t)}return/cancel/.test(r)&&(_.height=n.height,_.depth=n.depth),/cancel/.test(r)&&!s?L.makeSpan([`mord`,`cancel-lap`],[_],t):L.makeSpan([`mord`],[_],t)},$o=(e,t)=>{var n=0,r=new z.MathNode(e.label.indexOf(`colorbox`)>-1?`mpadded`:`menclose`,[Ba(e.body,t)]);switch(e.label){case`\\cancel`:r.setAttribute(`notation`,`updiagonalstrike`);break;case`\\bcancel`:r.setAttribute(`notation`,`downdiagonalstrike`);break;case`\\phase`:r.setAttribute(`notation`,`phasorangle`);break;case`\\sout`:r.setAttribute(`notation`,`horizontalstrike`);break;case`\\fbox`:r.setAttribute(`notation`,`box`);break;case`\\angl`:r.setAttribute(`notation`,`actuarial`);break;case`\\fcolorbox`:case`\\colorbox`:if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute(`width`,`+`+2*n+`pt`),r.setAttribute(`height`,`+`+2*n+`pt`),r.setAttribute(`lspace`,n+`pt`),r.setAttribute(`voffset`,n+`pt`),e.label===`\\fcolorbox`){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute(`style`,`border: `+i+`em solid `+String(e.borderColor))}break;case`\\xcancel`:r.setAttribute(`notation`,`updiagonalstrike downdiagonalstrike`);break}return e.backgroundColor&&r.setAttribute(`mathbackground`,e.backgroundColor),r};R({type:`enclose`,names:[`\\colorbox`],props:{numArgs:2,allowedInText:!0,argTypes:[`color`,`text`]},handler(e,t,n){var{parser:r,funcName:i}=e,a=B(t[0],`color-token`).color,o=t[1];return{type:`enclose`,mode:r.mode,label:i,backgroundColor:a,body:o}},htmlBuilder:Qo,mathmlBuilder:$o}),R({type:`enclose`,names:[`\\fcolorbox`],props:{numArgs:3,allowedInText:!0,argTypes:[`color`,`color`,`text`]},handler(e,t,n){var{parser:r,funcName:i}=e,a=B(t[0],`color-token`).color,o=B(t[1],`color-token`).color,s=t[2];return{type:`enclose`,mode:r.mode,label:i,backgroundColor:o,borderColor:a,body:s}},htmlBuilder:Qo,mathmlBuilder:$o}),R({type:`enclose`,names:[`\\fbox`],props:{numArgs:1,argTypes:[`hbox`],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:`enclose`,mode:n.mode,label:`\\fbox`,body:t[0]}}}),R({type:`enclose`,names:[`\\cancel`,`\\bcancel`,`\\xcancel`,`\\sout`,`\\phase`],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:`enclose`,mode:n.mode,label:r,body:i}},htmlBuilder:Qo,mathmlBuilder:$o}),R({type:`enclose`,names:[`\\angl`],props:{numArgs:1,argTypes:[`hbox`],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:`enclose`,mode:n.mode,label:`\\angl`,body:t[0]}}});var es={};function ts(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:o}=e,s={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},c=0;c<n.length;++c)es[n[c]]=s;a&&(fa[t]=a),o&&(pa[t]=o)}var ns={};function V(e,t){ns[e]=t}function rs(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n===`\\relax`&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n===`\\hline`||n===`\\hdashline`;)e.consume(),t.push(n===`\\hdashline`),e.consumeSpaces(),n=e.fetch().text;return t}var is=e=>{if(!e.parser.settings.displayMode)throw new w(`{`+e.envName+`} can be used only in display mode.`)};function as(e){if(e.indexOf(`ed`)===-1)return e.indexOf(`*`)===-1}function os(e,t,n){var{hskipBeforeAndAfter:r,addJot:i,cols:a,arraystretch:o,colSeparationType:s,autoTag:c,singleRow:l,emptySingleRow:u,maxNumCols:d,leqno:f}=t;if(e.gullet.beginGroup(),l||e.gullet.macros.set(`\\cr`,`\\\\\\relax`),!o){var p=e.gullet.expandMacroAsText(`\\arraystretch`);if(p==null)o=1;else if(o=parseFloat(p),!o||o<0)throw new w(`Invalid \\arraystretch: `+p)}e.gullet.beginGroup();var m=[],h=[m],g=[],_=[],v=c==null?void 0:[];function ee(){c&&e.gullet.macros.set(`\\@eqnsw`,`1`,!0)}function te(){v&&(e.gullet.macros.get(`\\df@tag`)?(v.push(e.subparse([new Hn(`\\df@tag`)])),e.gullet.macros.set(`\\df@tag`,void 0,!0)):v.push(!!c&&e.gullet.macros.get(`\\@eqnsw`)===`1`))}for(ee(),_.push(rs(e));;){var ne=e.parseExpression(!1,l?`\\end`:`\\\\`);e.gullet.endGroup(),e.gullet.beginGroup(),ne={type:`ordgroup`,mode:e.mode,body:ne},n&&(ne={type:`styling`,mode:e.mode,style:n,body:[ne]}),m.push(ne);var y=e.fetch().text;if(y===`&`){if(d&&m.length===d){if(l||s)throw new w(`Too many tab characters: &`,e.nextToken);e.settings.reportNonstrict(`textEnv`,`Too few columns specified in the {array} column argument.`)}e.consume()}else if(y===`\\end`){te(),m.length===1&&ne.type===`styling`&&ne.body[0].body.length===0&&(h.length>1||!u)&&h.pop(),_.length<h.length+1&&_.push([]);break}else if(y===`\\\\`){e.consume();var b=void 0;e.gullet.future().text!==` `&&(b=e.parseSizeGroup(!0)),g.push(b?b.value:null),te(),_.push(rs(e)),m=[],h.push(m),ee()}else throw new w(`Expected & or \\\\ or \\cr or \\end`,e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:`array`,mode:e.mode,addJot:i,arraystretch:o,body:h,cols:a,rowGaps:g,hskipBeforeAndAfter:r,hLinesBeforeRow:_,colSeparationType:s,tags:v,leqno:f}}function ss(e){return e.slice(0,1)===`d`?`display`:`text`}var cs=function(e,t){var n,r,i=e.body.length,a=e.hLinesBeforeRow,o=0,s=Array(i),c=[],l=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),u=1/t.fontMetrics().ptPerEm,d=5*u;e.colSeparationType&&e.colSeparationType===`small`&&(d=.2778*(t.havingStyle(T.SCRIPT).sizeMultiplier/t.sizeMultiplier));var f=e.colSeparationType===`CD`?Jr({number:3,unit:`ex`},t):12*u,p=3*u,m=e.arraystretch*f,h=.7*m,g=.3*m,_=0;function v(e){for(var t=0;t<e.length;++t)t>0&&(_+=.25),c.push({pos:_,isDashed:e[t]})}for(v(a[0]),n=0;n<e.body.length;++n){var ee=e.body[n],te=h,ne=g;o<ee.length&&(o=ee.length);var y=Array(ee.length);for(r=0;r<ee.length;++r){var b=Oa(ee[r],t);ne<b.depth&&(ne=b.depth),te<b.height&&(te=b.height),y[r]=b}var x=e.rowGaps[n],re=0;x&&(re=Jr(x,t),re>0&&(re+=g,ne<re&&(ne=re),re=0)),e.addJot&&(ne+=p),y.height=te,y.depth=ne,_+=te,y.pos=_,_+=ne+re,s[n]=y,v(a[n+1])}var ie=_/2+t.fontMetrics().axisHeight,ae=e.cols||[],oe=[],se,ce,le=[];if(e.tags&&e.tags.some(e=>e))for(n=0;n<i;++n){var ue=s[n],de=ue.pos-ie,fe=e.tags[n],pe=void 0;pe=fe===!0?L.makeSpan([`eqn-num`],[],t):fe===!1?L.makeSpan([],[],t):L.makeSpan([],Sa(fe,t,!0),t),pe.depth=ue.depth,pe.height=ue.height,le.push({type:`elem`,elem:pe,shift:de})}for(r=0,ce=0;r<o||ce<ae.length;++r,++ce){for(var me=ae[ce]||{},he=!0;me.type===`separator`;){if(he||(se=L.makeSpan([`arraycolsep`],[]),se.style.width=E(t.fontMetrics().doubleRuleSep),oe.push(se)),me.separator===`|`||me.separator===`:`){var ge=me.separator===`|`?`solid`:`dashed`,_e=L.makeSpan([`vertical-separator`],[],t);_e.style.height=E(_),_e.style.borderRightWidth=E(l),_e.style.borderRightStyle=ge,_e.style.margin=`0 `+E(-l/2);var ve=_-ie;ve&&(_e.style.verticalAlign=E(-ve)),oe.push(_e)}else throw new w(`Invalid separator type: `+me.separator);ce++,me=ae[ce]||{},he=!1}if(!(r>=o)){var ye=void 0;(r>0||e.hskipBeforeAndAfter)&&(ye=Qn.deflt(me.pregap,d),ye!==0&&(se=L.makeSpan([`arraycolsep`],[]),se.style.width=E(ye),oe.push(se)));var be=[];for(n=0;n<i;++n){var xe=s[n],Se=xe[r];if(Se){var Ce=xe.pos-ie;Se.depth=xe.depth,Se.height=xe.height,be.push({type:`elem`,elem:Se,shift:Ce})}}be=L.makeVList({positionType:`individualShift`,children:be},t),be=L.makeSpan([`col-align-`+(me.align||`c`)],[be]),oe.push(be),(r<o-1||e.hskipBeforeAndAfter)&&(ye=Qn.deflt(me.postgap,d),ye!==0&&(se=L.makeSpan([`arraycolsep`],[]),se.style.width=E(ye),oe.push(se)))}}if(s=L.makeSpan([`mtable`],oe),c.length>0){for(var we=L.makeLineSpan(`hline`,t,l),Te=L.makeLineSpan(`hdashline`,t,l),Ee=[{type:`elem`,elem:s,shift:0}];c.length>0;){var De=c.pop(),Oe=De.pos-ie;De.isDashed?Ee.push({type:`elem`,elem:Te,shift:Oe}):Ee.push({type:`elem`,elem:we,shift:Oe})}s=L.makeVList({positionType:`individualShift`,children:Ee},t)}if(le.length===0)return L.makeSpan([`mord`],[s],t);var ke=L.makeVList({positionType:`individualShift`,children:le},t);return ke=L.makeSpan([`tag`],[ke],t),L.makeFragment([s,ke])},ls={c:`center `,l:`left `,r:`right `},us=function(e,t){for(var n=[],r=new z.MathNode(`mtd`,[],[`mtr-glue`]),i=new z.MathNode(`mtd`,[],[`mml-eqn-num`]),a=0;a<e.body.length;a++){for(var o=e.body[a],s=[],c=0;c<o.length;c++)s.push(new z.MathNode(`mtd`,[Ba(o[c],t)]));e.tags&&e.tags[a]&&(s.unshift(r),s.push(r),e.leqno?s.unshift(i):s.push(i)),n.push(new z.MathNode(`mtr`,s))}var l=new z.MathNode(`mtable`,n),u=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);l.setAttribute(`rowspacing`,E(u));var d=``,f=``;if(e.cols&&e.cols.length>0){var p=e.cols,m=``,h=!1,g=0,_=p.length;p[0].type===`separator`&&(d+=`top `,g=1),p[p.length-1].type===`separator`&&(d+=`bottom `,--_);for(var v=g;v<_;v++)p[v].type===`align`?(f+=ls[p[v].align],h&&(m+=`none `),h=!0):p[v].type===`separator`&&(h&&=(m+=p[v].separator===`|`?`solid `:`dashed `,!1));l.setAttribute(`columnalign`,f.trim()),/[sd]/.test(m)&&l.setAttribute(`columnlines`,m.trim())}if(e.colSeparationType===`align`){for(var ee=e.cols||[],te=``,ne=1;ne<ee.length;ne++)te+=ne%2?`0em `:`1em `;l.setAttribute(`columnspacing`,te.trim())}else e.colSeparationType===`alignat`||e.colSeparationType===`gather`?l.setAttribute(`columnspacing`,`0em`):e.colSeparationType===`small`?l.setAttribute(`columnspacing`,`0.2778em`):e.colSeparationType===`CD`?l.setAttribute(`columnspacing`,`0.5em`):l.setAttribute(`columnspacing`,`1em`);var y=``,b=e.hLinesBeforeRow;d+=b[0].length>0?`left `:``,d+=b[b.length-1].length>0?`right `:``;for(var x=1;x<b.length-1;x++)y+=b[x].length===0?`none `:b[x][0]?`dashed `:`solid `;return/[sd]/.test(y)&&l.setAttribute(`rowlines`,y.trim()),d!==``&&(l=new z.MathNode(`menclose`,[l]),l.setAttribute(`notation`,d.trim())),e.arraystretch&&e.arraystretch<1&&(l=new z.MathNode(`mstyle`,[l]),l.setAttribute(`scriptlevel`,`1`)),l},ds=function(e,t){e.envName.indexOf(`ed`)===-1&&is(e);var n=[],r=e.envName.indexOf(`at`)>-1?`alignat`:`align`,i=e.envName===`split`,a=os(e.parser,{cols:n,addJot:!0,autoTag:i?void 0:as(e.envName),emptySingleRow:!0,colSeparationType:r,maxNumCols:i?2:void 0,leqno:e.parser.settings.leqno},`display`),o,s=0,c={type:`ordgroup`,mode:e.mode,body:[]};if(t[0]&&t[0].type===`ordgroup`){for(var l=``,u=0;u<t[0].body.length;u++){var d=B(t[0].body[u],`textord`);l+=d.text}o=Number(l),s=o*2}var f=!s;a.body.forEach(function(e){for(var t=1;t<e.length;t+=2)B(B(e[t],`styling`).body[0],`ordgroup`).body.unshift(c);if(f)s<e.length&&(s=e.length);else{var n=e.length/2;if(o<n)throw new w(`Too many math in a row: `+(`expected `+o+`, but got `+n),e[0])}});for(var p=0;p<s;++p){var m=`r`,h=0;p%2==1?m=`l`:p>0&&f&&(h=1),n[p]={type:`align`,align:m,pregap:h,postgap:0}}return a.colSeparationType=f?`align`:`alignat`,a};ts({type:`array`,names:[`array`,`darray`],props:{numArgs:1},handler(e,t){var n=(Za(t[0])?[t[0]]:B(t[0],`ordgroup`).body).map(function(e){var t=Xa(e).text;if(`lcr`.indexOf(t)!==-1)return{type:`align`,align:t};if(t===`|`)return{type:`separator`,separator:`|`};if(t===`:`)return{type:`separator`,separator:`:`};throw new w(`Unknown column alignment: `+t,e)}),r={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return os(e.parser,r,ss(e.envName))},htmlBuilder:cs,mathmlBuilder:us}),ts({type:`array`,names:[`matrix`,`pmatrix`,`bmatrix`,`Bmatrix`,`vmatrix`,`Vmatrix`,`matrix*`,`pmatrix*`,`bmatrix*`,`Bmatrix*`,`vmatrix*`,`Vmatrix*`],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:[`(`,`)`],bmatrix:[`[`,`]`],Bmatrix:[`\\{`,`\\}`],vmatrix:[`|`,`|`],Vmatrix:[`\\Vert`,`\\Vert`]}[e.envName.replace(`*`,``)],n=`c`,r={hskipBeforeAndAfter:!1,cols:[{type:`align`,align:n}]};if(e.envName.charAt(e.envName.length-1)===`*`){var i=e.parser;if(i.consumeSpaces(),i.fetch().text===`[`){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,`lcr`.indexOf(n)===-1)throw new w(`Expected l or c or r`,i.nextToken);i.consume(),i.consumeSpaces(),i.expect(`]`),i.consume(),r.cols=[{type:`align`,align:n}]}}var a=os(e.parser,r,ss(e.envName)),o=Math.max(0,...a.body.map(e=>e.length));return a.cols=Array(o).fill({type:`align`,align:n}),t?{type:`leftright`,mode:e.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:cs,mathmlBuilder:us}),ts({type:`array`,names:[`smallmatrix`],props:{numArgs:0},handler(e){var t=os(e.parser,{arraystretch:.5},`script`);return t.colSeparationType=`small`,t},htmlBuilder:cs,mathmlBuilder:us}),ts({type:`array`,names:[`subarray`],props:{numArgs:1},handler(e,t){var n=(Za(t[0])?[t[0]]:B(t[0],`ordgroup`).body).map(function(e){var t=Xa(e).text;if(`lc`.indexOf(t)!==-1)return{type:`align`,align:t};throw new w(`Unknown column alignment: `+t,e)});if(n.length>1)throw new w(`{subarray} can contain only one column`);var r={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if(r=os(e.parser,r,`script`),r.body.length>0&&r.body[0].length>1)throw new w(`{subarray} can contain only one column`);return r},htmlBuilder:cs,mathmlBuilder:us}),ts({type:`array`,names:[`cases`,`dcases`,`rcases`,`drcases`],props:{numArgs:0},handler(e){var t=os(e.parser,{arraystretch:1.2,cols:[{type:`align`,align:`l`,pregap:0,postgap:1},{type:`align`,align:`l`,pregap:0,postgap:0}]},ss(e.envName));return{type:`leftright`,mode:e.mode,body:[t],left:e.envName.indexOf(`r`)>-1?`.`:`\\{`,right:e.envName.indexOf(`r`)>-1?`\\}`:`.`,rightColor:void 0}},htmlBuilder:cs,mathmlBuilder:us}),ts({type:`array`,names:[`align`,`align*`,`aligned`,`split`],props:{numArgs:0},handler:ds,htmlBuilder:cs,mathmlBuilder:us}),ts({type:`array`,names:[`gathered`,`gather`,`gather*`],props:{numArgs:0},handler(e){[`gather`,`gather*`].includes(e.envName)&&is(e);var t={cols:[{type:`align`,align:`c`}],addJot:!0,colSeparationType:`gather`,autoTag:as(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return os(e.parser,t,`display`)},htmlBuilder:cs,mathmlBuilder:us}),ts({type:`array`,names:[`alignat`,`alignat*`,`alignedat`],props:{numArgs:1},handler:ds,htmlBuilder:cs,mathmlBuilder:us}),ts({type:`array`,names:[`equation`,`equation*`],props:{numArgs:0},handler(e){is(e);var t={autoTag:as(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return os(e.parser,t,`display`)},htmlBuilder:cs,mathmlBuilder:us}),ts({type:`array`,names:[`CD`],props:{numArgs:0},handler(e){return is(e),fo(e.parser)},htmlBuilder:cs,mathmlBuilder:us}),V(`\\nonumber`,`\\gdef\\@eqnsw{0}`),V(`\\notag`,`\\nonumber`),R({type:`text`,names:[`\\hline`,`\\hdashline`],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new w(e.funcName+` valid only within array environment`)}});var fs=es;R({type:`environment`,names:[`\\begin`,`\\end`],props:{numArgs:1,argTypes:[`text`]},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];if(i.type!==`ordgroup`)throw new w(`Invalid environment name`,i);for(var a=``,o=0;o<i.body.length;++o)a+=B(i.body[o],`textord`).text;if(r===`\\begin`){if(!fs.hasOwnProperty(a))throw new w(`No such environment: `+a,i);var s=fs[a],{args:c,optArgs:l}=n.parseArguments(`\\begin{`+a+`}`,s),u={mode:n.mode,envName:a,parser:n},d=s.handler(u,c,l);n.expect(`\\end`,!1);var f=n.nextToken,p=B(n.parseFunction(),`environment`);if(p.name!==a)throw new w(`Mismatch: \\begin{`+a+`} matched by \\end{`+p.name+`}`,f);return d}return{type:`environment`,mode:n.mode,name:a,nameGroup:i}}});var ps=(e,t)=>{var n=e.font,r=t.withFont(n);return Oa(e.body,r)},ms=(e,t)=>{var n=e.font,r=t.withFont(n);return Ba(e.body,r)},hs={"\\Bbb":`\\mathbb`,"\\bold":`\\mathbf`,"\\frak":`\\mathfrak`,"\\bm":`\\boldsymbol`};R({type:`font`,names:[`\\mathrm`,`\\mathit`,`\\mathbf`,`\\mathnormal`,`\\mathsfit`,`\\mathbb`,`\\mathcal`,`\\mathfrak`,`\\mathscr`,`\\mathsf`,`\\mathtt`,`\\Bbb`,`\\bold`,`\\frak`],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=ha(t[0]),a=r;return a in hs&&(a=hs[a]),{type:`font`,mode:n.mode,font:a.slice(1),body:i}},htmlBuilder:ps,mathmlBuilder:ms}),R({type:`mclass`,names:[`\\boldsymbol`,`\\bm`],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],i=Qn.isCharacterBox(r);return{type:`mclass`,mode:n.mode,mclass:ao(r),body:[{type:`font`,mode:n.mode,font:`boldsymbol`,body:r}],isCharacterBox:i}}}),R({type:`font`,names:[`\\rm`,`\\sf`,`\\tt`,`\\bf`,`\\it`,`\\cal`],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:i}=e,{mode:a}=n,o=n.parseExpression(!0,i);return{type:`font`,mode:a,font:`math`+r.slice(1),body:{type:`ordgroup`,mode:n.mode,body:o}}},htmlBuilder:ps,mathmlBuilder:ms});var gs=(e,t)=>{var n=t;return e===`display`?n=n.id>=T.SCRIPT.id?n.text():T.DISPLAY:e===`text`&&n.size===T.DISPLAY.size?n=T.TEXT:e===`script`?n=T.SCRIPT:e===`scriptscript`&&(n=T.SCRIPTSCRIPT),n},_s=(e,t)=>{var n=gs(e.size,t.style),r=n.fracNum(),i=n.fracDen(),a=t.havingStyle(r),o=Oa(e.numer,a,t);if(e.continued){var s=8.5/t.fontMetrics().ptPerEm,c=3.5/t.fontMetrics().ptPerEm;o.height=o.height<s?s:o.height,o.depth=o.depth<c?c:o.depth}a=t.havingStyle(i);var l=Oa(e.denom,a,t),u,d,f;e.hasBarLine?(e.barSize?(d=Jr(e.barSize,t),u=L.makeLineSpan(`frac-line`,t,d)):u=L.makeLineSpan(`frac-line`,t),d=u.height,f=u.height):(u=null,d=0,f=t.fontMetrics().defaultRuleThickness);var p,m,h;n.size===T.DISPLAY.size||e.size===`display`?(p=t.fontMetrics().num1,m=d>0?3*f:7*f,h=t.fontMetrics().denom1):(d>0?(p=t.fontMetrics().num2,m=f):(p=t.fontMetrics().num3,m=3*f),h=t.fontMetrics().denom2);var g;if(u){var _=t.fontMetrics().axisHeight;p-o.depth-(_+.5*d)<m&&(p+=m-(p-o.depth-(_+.5*d))),_-.5*d-(l.height-h)<m&&(h+=m-(_-.5*d-(l.height-h)));var v=-(_-.5*d);g=L.makeVList({positionType:`individualShift`,children:[{type:`elem`,elem:l,shift:h},{type:`elem`,elem:u,shift:v},{type:`elem`,elem:o,shift:-p}]},t)}else{var ee=p-o.depth-(l.height-h);ee<m&&(p+=.5*(m-ee),h+=.5*(m-ee)),g=L.makeVList({positionType:`individualShift`,children:[{type:`elem`,elem:l,shift:h},{type:`elem`,elem:o,shift:-p}]},t)}a=t.havingStyle(n),g.height*=a.sizeMultiplier/t.sizeMultiplier,g.depth*=a.sizeMultiplier/t.sizeMultiplier;var te=n.size===T.DISPLAY.size?t.fontMetrics().delim1:n.size===T.SCRIPTSCRIPT.size?t.havingStyle(T.SCRIPT).fontMetrics().delim2:t.fontMetrics().delim2,ne=e.leftDelim==null?Da(t,[`mopen`]):qo.customSizedDelim(e.leftDelim,te,!0,t.havingStyle(n),e.mode,[`mopen`]),y=e.continued?L.makeSpan([]):e.rightDelim==null?Da(t,[`mclose`]):qo.customSizedDelim(e.rightDelim,te,!0,t.havingStyle(n),e.mode,[`mclose`]);return L.makeSpan([`mord`].concat(a.sizingClasses(t)),[ne,L.makeSpan([`mfrac`],[g]),y],t)},vs=(e,t)=>{var n=new z.MathNode(`mfrac`,[Ba(e.numer,t),Ba(e.denom,t)]);if(!e.hasBarLine)n.setAttribute(`linethickness`,`0px`);else if(e.barSize){var r=Jr(e.barSize,t);n.setAttribute(`linethickness`,E(r))}var i=gs(e.size,t.style);if(i.size!==t.style.size){n=new z.MathNode(`mstyle`,[n]);var a=i.size===T.DISPLAY.size?`true`:`false`;n.setAttribute(`displaystyle`,a),n.setAttribute(`scriptlevel`,`0`)}if(e.leftDelim!=null||e.rightDelim!=null){var o=[];if(e.leftDelim!=null){var s=new z.MathNode(`mo`,[new z.TextNode(e.leftDelim.replace(`\\`,``))]);s.setAttribute(`fence`,`true`),o.push(s)}if(o.push(n),e.rightDelim!=null){var c=new z.MathNode(`mo`,[new z.TextNode(e.rightDelim.replace(`\\`,``))]);c.setAttribute(`fence`,`true`),o.push(c)}return Fa(o)}return n};R({type:`genfrac`,names:[`\\dfrac`,`\\frac`,`\\tfrac`,`\\dbinom`,`\\binom`,`\\tbinom`,`\\\\atopfrac`,`\\\\bracefrac`,`\\\\brackfrac`],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=t[1],o,s=null,c=null,l=`auto`;switch(r){case`\\dfrac`:case`\\frac`:case`\\tfrac`:o=!0;break;case`\\\\atopfrac`:o=!1;break;case`\\dbinom`:case`\\binom`:case`\\tbinom`:o=!1,s=`(`,c=`)`;break;case`\\\\bracefrac`:o=!1,s=`\\{`,c=`\\}`;break;case`\\\\brackfrac`:o=!1,s=`[`,c=`]`;break;default:throw Error(`Unrecognized genfrac command`)}switch(r){case`\\dfrac`:case`\\dbinom`:l=`display`;break;case`\\tfrac`:case`\\tbinom`:l=`text`;break}return{type:`genfrac`,mode:n.mode,continued:!1,numer:i,denom:a,hasBarLine:o,leftDelim:s,rightDelim:c,size:l,barSize:null}},htmlBuilder:_s,mathmlBuilder:vs}),R({type:`genfrac`,names:[`\\cfrac`],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=t[1];return{type:`genfrac`,mode:n.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:`display`,barSize:null}}}),R({type:`infix`,names:[`\\over`,`\\choose`,`\\atop`,`\\brace`,`\\brack`],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:r}=e,i;switch(n){case`\\over`:i=`\\frac`;break;case`\\choose`:i=`\\binom`;break;case`\\atop`:i=`\\\\atopfrac`;break;case`\\brace`:i=`\\\\bracefrac`;break;case`\\brack`:i=`\\\\brackfrac`;break;default:throw Error(`Unrecognized infix genfrac command`)}return{type:`infix`,mode:t.mode,replaceWith:i,token:r}}});var ys=[`display`,`text`,`script`,`scriptscript`],bs=function(e){var t=null;return e.length>0&&(t=e,t=t===`.`?null:t),t};R({type:`genfrac`,names:[`\\genfrac`],props:{numArgs:6,allowedInArgument:!0,argTypes:[`math`,`math`,`size`,`text`,`math`,`math`]},handler(e,t){var{parser:n}=e,r=t[4],i=t[5],a=ha(t[0]),o=a.type===`atom`&&a.family===`open`?bs(a.text):null,s=ha(t[1]),c=s.type===`atom`&&s.family===`close`?bs(s.text):null,l=B(t[2],`size`),u,d=null;l.isBlank?u=!0:(d=l.value,u=d.number>0);var f=`auto`,p=t[3];if(p.type===`ordgroup`){if(p.body.length>0){var m=B(p.body[0],`textord`);f=ys[Number(m.text)]}}else p=B(p,`textord`),f=ys[Number(p.text)];return{type:`genfrac`,mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:u,barSize:d,leftDelim:o,rightDelim:c,size:f}},htmlBuilder:_s,mathmlBuilder:vs}),R({type:`infix`,names:[`\\above`],props:{numArgs:1,argTypes:[`size`],infix:!0},handler(e,t){var{parser:n,funcName:r,token:i}=e;return{type:`infix`,mode:n.mode,replaceWith:`\\\\abovefrac`,size:B(t[0],`size`).value,token:i}}}),R({type:`genfrac`,names:[`\\\\abovefrac`],props:{numArgs:3,argTypes:[`math`,`size`,`math`]},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=Zn(B(t[1],`infix`).size),o=t[2],s=a.number>0;return{type:`genfrac`,mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:s,barSize:a,leftDelim:null,rightDelim:null,size:`auto`}},htmlBuilder:_s,mathmlBuilder:vs});var xs=(e,t)=>{var n=t.style,r,i;e.type===`supsub`?(r=e.sup?Oa(e.sup,t.havingStyle(n.sup()),t):Oa(e.sub,t.havingStyle(n.sub()),t),i=B(e.base,`horizBrace`)):i=B(e,`horizBrace`);var a=Oa(i.base,t.havingBaseStyle(T.DISPLAY)),o=Ya.svgSpan(i,t),s;if(i.isOver?(s=L.makeVList({positionType:`firstBaseline`,children:[{type:`elem`,elem:a},{type:`kern`,size:.1},{type:`elem`,elem:o}]},t),s.children[0].children[0].children[1].classes.push(`svg-align`)):(s=L.makeVList({positionType:`bottom`,positionData:a.depth+.1+o.height,children:[{type:`elem`,elem:o},{type:`kern`,size:.1},{type:`elem`,elem:a}]},t),s.children[0].children[0].children[0].classes.push(`svg-align`)),r){var c=L.makeSpan([`mord`,i.isOver?`mover`:`munder`],[s],t);s=i.isOver?L.makeVList({positionType:`firstBaseline`,children:[{type:`elem`,elem:c},{type:`kern`,size:.2},{type:`elem`,elem:r}]},t):L.makeVList({positionType:`bottom`,positionData:c.depth+.2+r.height+r.depth,children:[{type:`elem`,elem:r},{type:`kern`,size:.2},{type:`elem`,elem:c}]},t)}return L.makeSpan([`mord`,i.isOver?`mover`:`munder`],[s],t)};R({type:`horizBrace`,names:[`\\overbrace`,`\\underbrace`],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:`horizBrace`,mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:xs,mathmlBuilder:(e,t)=>{var n=Ya.mathMLnode(e.label);return new z.MathNode(e.isOver?`mover`:`munder`,[Ba(e.base,t),n])}}),R({type:`href`,names:[`\\href`],props:{numArgs:2,argTypes:[`url`,`original`],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],i=B(t[0],`url`).url;return n.settings.isTrusted({command:`\\href`,url:i})?{type:`href`,mode:n.mode,href:i,body:ga(r)}:n.formatUnsupportedCmd(`\\href`)},htmlBuilder:(e,t)=>{var n=Sa(e.body,t,!1);return L.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=za(e.body,t);return n instanceof Ma||(n=new Ma(`mrow`,[n])),n.setAttribute(`href`,e.href),n}}),R({type:`href`,names:[`\\url`],props:{numArgs:1,argTypes:[`url`],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=B(t[0],`url`).url;if(!n.settings.isTrusted({command:`\\url`,url:r}))return n.formatUnsupportedCmd(`\\url`);for(var i=[],a=0;a<r.length;a++){var o=r[a];o===`~`&&(o=`\\textasciitilde`),i.push({type:`textord`,mode:`text`,text:o})}var s={type:`text`,mode:n.mode,font:`\\texttt`,body:i};return{type:`href`,mode:n.mode,href:r,body:ga(s)}}}),R({type:`hbox`,names:[`\\hbox`],props:{numArgs:1,argTypes:[`text`],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:`hbox`,mode:n.mode,body:ga(t[0])}},htmlBuilder(e,t){var n=Sa(e.body,t,!1);return L.makeFragment(n)},mathmlBuilder(e,t){return new z.MathNode(`mrow`,Ra(e.body,t))}}),R({type:`html`,names:[`\\htmlClass`,`\\htmlId`,`\\htmlStyle`,`\\htmlData`],props:{numArgs:2,argTypes:[`raw`,`original`],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,token:i}=e,a=B(t[0],`raw`).string,o=t[1];n.settings.strict&&n.settings.reportNonstrict(`htmlExtension`,`HTML extension is disabled on strict mode`);var s,c={};switch(r){case`\\htmlClass`:c.class=a,s={command:`\\htmlClass`,class:a};break;case`\\htmlId`:c.id=a,s={command:`\\htmlId`,id:a};break;case`\\htmlStyle`:c.style=a,s={command:`\\htmlStyle`,style:a};break;case`\\htmlData`:for(var l=a.split(`,`),u=0;u<l.length;u++){var d=l[u].split(`=`);if(d.length!==2)throw new w(`Error parsing key-value for \\htmlData`);c[`data-`+d[0].trim()]=d[1].trim()}s={command:`\\htmlData`,attributes:c};break;default:throw Error(`Unrecognized html command`)}return n.settings.isTrusted(s)?{type:`html`,mode:n.mode,attributes:c,body:ga(o)}:n.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{var n=Sa(e.body,t,!1),r=[`enclosing`];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var i=L.makeSpan(r,n,t);for(var a in e.attributes)a!==`class`&&e.attributes.hasOwnProperty(a)&&i.setAttribute(a,e.attributes[a]);return i},mathmlBuilder:(e,t)=>za(e.body,t)}),R({type:`htmlmathml`,names:[`\\html@mathml`],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:`htmlmathml`,mode:n.mode,html:ga(t[0]),mathml:ga(t[1])}},htmlBuilder:(e,t)=>{var n=Sa(e.html,t,!1);return L.makeFragment(n)},mathmlBuilder:(e,t)=>za(e.mathml,t)});var Ss=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:`bp`};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new w(`Invalid size: '`+e+`' in \\includegraphics`);var n={number:+(t[1]+t[2]),unit:t[3]};if(!qr(n))throw new w(`Invalid unit: '`+n.unit+`' in \\includegraphics.`);return n};R({type:`includegraphics`,names:[`\\includegraphics`],props:{numArgs:1,numOptionalArgs:1,argTypes:[`raw`,`url`],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,i={number:0,unit:`em`},a={number:.9,unit:`em`},o={number:0,unit:`em`},s=``;if(n[0])for(var c=B(n[0],`raw`).string.split(`,`),l=0;l<c.length;l++){var u=c[l].split(`=`);if(u.length===2){var d=u[1].trim();switch(u[0].trim()){case`alt`:s=d;break;case`width`:i=Ss(d);break;case`height`:a=Ss(d);break;case`totalheight`:o=Ss(d);break;default:throw new w(`Invalid key: '`+u[0]+`' in \\includegraphics.`)}}}var f=B(t[0],`url`).url;return s===``&&(s=f,s=s.replace(/^.*[\\/]/,``),s=s.substring(0,s.lastIndexOf(`.`))),r.settings.isTrusted({command:`\\includegraphics`,url:f})?{type:`includegraphics`,mode:r.mode,alt:s,width:i,height:a,totalheight:o,src:f}:r.formatUnsupportedCmd(`\\includegraphics`)},htmlBuilder:(e,t)=>{var n=Jr(e.height,t),r=0;e.totalheight.number>0&&(r=Jr(e.totalheight,t)-n);var i=0;e.width.number>0&&(i=Jr(e.width,t));var a={height:E(n+r)};i>0&&(a.width=E(i)),r>0&&(a.verticalAlign=E(-r));var o=new ni(e.src,e.alt,a);return o.height=n,o.depth=r,o},mathmlBuilder:(e,t)=>{var n=new z.MathNode(`mglyph`,[]);n.setAttribute(`alt`,e.alt);var r=Jr(e.height,t),i=0;if(e.totalheight.number>0&&(i=Jr(e.totalheight,t)-r,n.setAttribute(`valign`,E(-i))),n.setAttribute(`height`,E(r+i)),e.width.number>0){var a=Jr(e.width,t);n.setAttribute(`width`,E(a))}return n.setAttribute(`src`,e.src),n}}),R({type:`kern`,names:[`\\kern`,`\\mkern`,`\\hskip`,`\\mskip`],props:{numArgs:1,argTypes:[`size`],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=B(t[0],`size`);if(n.settings.strict){var a=r[1]===`m`,o=i.value.unit===`mu`;a?(o||n.settings.reportNonstrict(`mathVsTextUnits`,`LaTeX's `+r+` supports only mu units, `+(`not `+i.value.unit+` units`)),n.mode!==`math`&&n.settings.reportNonstrict(`mathVsTextUnits`,`LaTeX's `+r+` works only in math mode`)):o&&n.settings.reportNonstrict(`mathVsTextUnits`,`LaTeX's `+r+` doesn't support mu units`)}return{type:`kern`,mode:n.mode,dimension:i.value}},htmlBuilder(e,t){return L.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=Jr(e.dimension,t);return new z.SpaceNode(n)}}),R({type:`lap`,names:[`\\mathllap`,`\\mathrlap`,`\\mathclap`],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:`lap`,mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(e,t)=>{var n;e.alignment===`clap`?(n=L.makeSpan([],[Oa(e.body,t)]),n=L.makeSpan([`inner`],[n],t)):n=L.makeSpan([`inner`],[Oa(e.body,t)]);var r=L.makeSpan([`fix`],[]),i=L.makeSpan([e.alignment],[n,r],t),a=L.makeSpan([`strut`]);return a.style.height=E(i.height+i.depth),i.depth&&(a.style.verticalAlign=E(-i.depth)),i.children.unshift(a),i=L.makeSpan([`thinbox`],[i],t),L.makeSpan([`mord`,`vbox`],[i],t)},mathmlBuilder:(e,t)=>{var n=new z.MathNode(`mpadded`,[Ba(e.body,t)]);if(e.alignment!==`rlap`){var r=e.alignment===`llap`?`-1`:`-0.5`;n.setAttribute(`lspace`,r+`width`)}return n.setAttribute(`width`,`0px`),n}}),R({type:`styling`,names:[`\\(`,`$`],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,i=r.mode;r.switchMode(`math`);var a=n===`\\(`?`\\)`:`$`,o=r.parseExpression(!1,a);return r.expect(a),r.switchMode(i),{type:`styling`,mode:r.mode,style:`text`,body:o}}}),R({type:`text`,names:[`\\)`,`\\]`],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new w(`Mismatched `+e.funcName)}});var Cs=(e,t)=>{switch(t.style.size){case T.DISPLAY.size:return e.display;case T.TEXT.size:return e.text;case T.SCRIPT.size:return e.script;case T.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};R({type:`mathchoice`,names:[`\\mathchoice`],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:`mathchoice`,mode:n.mode,display:ga(t[0]),text:ga(t[1]),script:ga(t[2]),scriptscript:ga(t[3])}},htmlBuilder:(e,t)=>{var n=Sa(Cs(e,t),t,!1);return L.makeFragment(n)},mathmlBuilder:(e,t)=>za(Cs(e,t),t)});var ws=(e,t,n,r,i,a,o)=>{e=L.makeSpan([],[e]);var s=n&&Qn.isCharacterBox(n),c,l;if(t){var u=Oa(t,r.havingStyle(i.sup()),r);l={elem:u,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-u.depth)}}if(n){var d=Oa(n,r.havingStyle(i.sub()),r);c={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-d.height)}}var f;if(l&&c){var p=r.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+e.depth+o;f=L.makeVList({positionType:`bottom`,positionData:p,children:[{type:`kern`,size:r.fontMetrics().bigOpSpacing5},{type:`elem`,elem:c.elem,marginLeft:E(-a)},{type:`kern`,size:c.kern},{type:`elem`,elem:e},{type:`kern`,size:l.kern},{type:`elem`,elem:l.elem,marginLeft:E(a)},{type:`kern`,size:r.fontMetrics().bigOpSpacing5}]},r)}else if(c){var m=e.height-o;f=L.makeVList({positionType:`top`,positionData:m,children:[{type:`kern`,size:r.fontMetrics().bigOpSpacing5},{type:`elem`,elem:c.elem,marginLeft:E(-a)},{type:`kern`,size:c.kern},{type:`elem`,elem:e}]},r)}else if(l){var h=e.depth+o;f=L.makeVList({positionType:`bottom`,positionData:h,children:[{type:`elem`,elem:e},{type:`kern`,size:l.kern},{type:`elem`,elem:l.elem,marginLeft:E(a)},{type:`kern`,size:r.fontMetrics().bigOpSpacing5}]},r)}else return e;var g=[f];if(c&&a!==0&&!s){var _=L.makeSpan([`mspace`],[],r);_.style.marginRight=E(a),g.unshift(_)}return L.makeSpan([`mop`,`op-limits`],g,r)},Ts=[`\\smallint`],Es=(e,t)=>{var n,r,i=!1,a;e.type===`supsub`?(n=e.sup,r=e.sub,a=B(e.base,`op`),i=!0):a=B(e,`op`);var o=t.style,s=!1;o.size===T.DISPLAY.size&&a.symbol&&!Ts.includes(a.name)&&(s=!0);var c;if(a.symbol){var l=s?`Size2-Regular`:`Size1-Regular`,u=``;if((a.name===`\\oiint`||a.name===`\\oiiint`)&&(u=a.name.slice(1),a.name=u===`oiint`?`\\iint`:`\\iiint`),c=L.makeSymbol(a.name,l,`math`,t,[`mop`,`op-symbol`,s?`large-op`:`small-op`]),u.length>0){var d=c.italic,f=L.staticSvg(u+`Size`+(s?`2`:`1`),t);c=L.makeVList({positionType:`individualShift`,children:[{type:`elem`,elem:c,shift:0},{type:`elem`,elem:f,shift:s?.08:0}]},t),a.name=`\\`+u,c.classes.unshift(`mop`),c.italic=d}}else if(a.body){var p=Sa(a.body,t,!0);p.length===1&&p[0]instanceof ii?(c=p[0],c.classes[0]=`mop`):c=L.makeSpan([`mop`],p,t)}else{for(var m=[],h=1;h<a.name.length;h++)m.push(L.mathsym(a.name[h],a.mode,t));c=L.makeSpan([`mop`],m,t)}var g=0,_=0;return(c instanceof ii||a.name===`\\oiint`||a.name===`\\oiiint`)&&!a.suppressBaseShift&&(g=(c.height-c.depth)/2-t.fontMetrics().axisHeight,_=c.italic),i?ws(c,n,r,t,o,_,g):(g&&(c.style.position=`relative`,c.style.top=E(g)),c)},Ds=(e,t)=>{var n;if(e.symbol)n=new Ma(`mo`,[Pa(e.name,e.mode)]),Ts.includes(e.name)&&n.setAttribute(`largeop`,`false`);else if(e.body)n=new Ma(`mo`,Ra(e.body,t));else{n=new Ma(`mi`,[new Na(e.name.slice(1))]);var r=new Ma(`mo`,[Pa(`⁡`,`text`)]);n=e.parentIsSupSub?new Ma(`mrow`,[n,r]):ja([n,r])}return n},Os={"∏":`\\prod`,"∐":`\\coprod`,"∑":`\\sum`,"⋀":`\\bigwedge`,"⋁":`\\bigvee`,"⋂":`\\bigcap`,"⋃":`\\bigcup`,"⨀":`\\bigodot`,"⨁":`\\bigoplus`,"⨂":`\\bigotimes`,"⨄":`\\biguplus`,"⨆":`\\bigsqcup`};R({type:`op`,names:`\\coprod.\\bigvee.\\bigwedge.\\biguplus.\\bigcap.\\bigcup.\\intop.\\prod.\\sum.\\bigotimes.\\bigoplus.\\bigodot.\\bigsqcup.\\smallint.∏.∐.∑.⋀.⋁.⋂.⋃.⨀.⨁.⨂.⨄.⨆`.split(`.`),props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=r;return i.length===1&&(i=Os[i]),{type:`op`,mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Es,mathmlBuilder:Ds}),R({type:`op`,names:[`\\mathop`],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:`op`,mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ga(r)}},htmlBuilder:Es,mathmlBuilder:Ds});var ks={"∫":`\\int`,"∬":`\\iint`,"∭":`\\iiint`,"∮":`\\oint`,"∯":`\\oiint`,"∰":`\\oiiint`};R({type:`op`,names:`\\arcsin.\\arccos.\\arctan.\\arctg.\\arcctg.\\arg.\\ch.\\cos.\\cosec.\\cosh.\\cot.\\cotg.\\coth.\\csc.\\ctg.\\cth.\\deg.\\dim.\\exp.\\hom.\\ker.\\lg.\\ln.\\log.\\sec.\\sin.\\sinh.\\sh.\\tan.\\tanh.\\tg.\\th`.split(`.`),props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:`op`,mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Es,mathmlBuilder:Ds}),R({type:`op`,names:[`\\det`,`\\gcd`,`\\inf`,`\\lim`,`\\max`,`\\min`,`\\Pr`,`\\sup`],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:`op`,mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Es,mathmlBuilder:Ds}),R({type:`op`,names:[`\\int`,`\\iint`,`\\iiint`,`\\oint`,`\\oiint`,`\\oiiint`,`∫`,`∬`,`∭`,`∮`,`∯`,`∰`],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return r.length===1&&(r=ks[r]),{type:`op`,mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Es,mathmlBuilder:Ds});var As=(e,t)=>{var n,r,i=!1,a;e.type===`supsub`?(n=e.sup,r=e.sub,a=B(e.base,`operatorname`),i=!0):a=B(e,`operatorname`);var o;if(a.body.length>0){for(var s=Sa(a.body.map(e=>{var t=e.text;return typeof t==`string`?{type:`textord`,mode:e.mode,text:t}:e}),t.withFont(`mathrm`),!0),c=0;c<s.length;c++){var l=s[c];l instanceof ii&&(l.text=l.text.replace(/\u2212/,`-`).replace(/\u2217/,`*`))}o=L.makeSpan([`mop`],s,t)}else o=L.makeSpan([`mop`],[],t);return i?ws(o,n,r,t,t.style,0,0):o};R({type:`operatorname`,names:[`\\operatorname@`,`\\operatornamewithlimits`],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:`operatorname`,mode:n.mode,body:ga(i),alwaysHandleSupSub:r===`\\operatornamewithlimits`,limits:!1,parentIsSupSub:!1}},htmlBuilder:As,mathmlBuilder:(e,t)=>{for(var n=Ra(e.body,t.withFont(`mathrm`)),r=!0,i=0;i<n.length;i++){var a=n[i];if(!(a instanceof z.SpaceNode))if(a instanceof z.MathNode)switch(a.type){case`mi`:case`mn`:case`ms`:case`mspace`:case`mtext`:break;case`mo`:var o=a.children[0];a.children.length===1&&o instanceof z.TextNode?o.text=o.text.replace(/\u2212/,`-`).replace(/\u2217/,`*`):r=!1;break;default:r=!1}else r=!1}if(r){var s=n.map(e=>e.toText()).join(``);n=[new z.TextNode(s)]}var c=new z.MathNode(`mi`,n);c.setAttribute(`mathvariant`,`normal`);var l=new z.MathNode(`mo`,[Pa(`⁡`,`text`)]);return e.parentIsSupSub?new z.MathNode(`mrow`,[c,l]):z.newDocumentFragment([c,l])}}),V(`\\operatorname`,`\\@ifstar\\operatornamewithlimits\\operatorname@`),ma({type:`ordgroup`,htmlBuilder(e,t){return e.semisimple?L.makeFragment(Sa(e.body,t,!1)):L.makeSpan([`mord`],Sa(e.body,t,!0),t)},mathmlBuilder(e,t){return za(e.body,t,!0)}}),R({type:`overline`,names:[`\\overline`],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:`overline`,mode:n.mode,body:r}},htmlBuilder(e,t){var n=Oa(e.body,t.havingCrampedStyle()),r=L.makeLineSpan(`overline-line`,t),i=t.fontMetrics().defaultRuleThickness,a=L.makeVList({positionType:`firstBaseline`,children:[{type:`elem`,elem:n},{type:`kern`,size:3*i},{type:`elem`,elem:r},{type:`kern`,size:i}]},t);return L.makeSpan([`mord`,`overline`],[a],t)},mathmlBuilder(e,t){var n=new z.MathNode(`mo`,[new z.TextNode(`‾`)]);n.setAttribute(`stretchy`,`true`);var r=new z.MathNode(`mover`,[Ba(e.body,t),n]);return r.setAttribute(`accent`,`true`),r}}),R({type:`phantom`,names:[`\\phantom`],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:`phantom`,mode:n.mode,body:ga(r)}},htmlBuilder:(e,t)=>{var n=Sa(e.body,t.withPhantom(),!1);return L.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=Ra(e.body,t);return new z.MathNode(`mphantom`,n)}}),R({type:`hphantom`,names:[`\\hphantom`],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:`hphantom`,mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=L.makeSpan([],[Oa(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=L.makeVList({positionType:`firstBaseline`,children:[{type:`elem`,elem:n}]},t),L.makeSpan([`mord`],[n],t)},mathmlBuilder:(e,t)=>{var n=Ra(ga(e.body),t),r=new z.MathNode(`mphantom`,n),i=new z.MathNode(`mpadded`,[r]);return i.setAttribute(`height`,`0px`),i.setAttribute(`depth`,`0px`),i}}),R({type:`vphantom`,names:[`\\vphantom`],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:`vphantom`,mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=L.makeSpan([`inner`],[Oa(e.body,t.withPhantom())]),r=L.makeSpan([`fix`],[]);return L.makeSpan([`mord`,`rlap`],[n,r],t)},mathmlBuilder:(e,t)=>{var n=Ra(ga(e.body),t),r=new z.MathNode(`mphantom`,n),i=new z.MathNode(`mpadded`,[r]);return i.setAttribute(`width`,`0px`),i}}),R({type:`raisebox`,names:[`\\raisebox`],props:{numArgs:2,argTypes:[`size`,`hbox`],allowedInText:!0},handler(e,t){var{parser:n}=e,r=B(t[0],`size`).value,i=t[1];return{type:`raisebox`,mode:n.mode,dy:r,body:i}},htmlBuilder(e,t){var n=Oa(e.body,t),r=Jr(e.dy,t);return L.makeVList({positionType:`shift`,positionData:-r,children:[{type:`elem`,elem:n}]},t)},mathmlBuilder(e,t){var n=new z.MathNode(`mpadded`,[Ba(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute(`voffset`,r),n}}),R({type:`internal`,names:[`\\relax`],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:`internal`,mode:t.mode}}}),R({type:`rule`,names:[`\\rule`],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:[`size`,`size`,`size`]},handler(e,t,n){var{parser:r}=e,i=n[0],a=B(t[0],`size`),o=B(t[1],`size`);return{type:`rule`,mode:r.mode,shift:i&&B(i,`size`).value,width:a.value,height:o.value}},htmlBuilder(e,t){var n=L.makeSpan([`mord`,`rule`],[],t),r=Jr(e.width,t),i=Jr(e.height,t),a=e.shift?Jr(e.shift,t):0;return n.style.borderRightWidth=E(r),n.style.borderTopWidth=E(i),n.style.bottom=E(a),n.width=r,n.height=i+a,n.depth=-a,n.maxFontSize=i*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=Jr(e.width,t),r=Jr(e.height,t),i=e.shift?Jr(e.shift,t):0,a=t.color&&t.getColor()||`black`,o=new z.MathNode(`mspace`);o.setAttribute(`mathbackground`,a),o.setAttribute(`width`,E(n)),o.setAttribute(`height`,E(r));var s=new z.MathNode(`mpadded`,[o]);return i>=0?s.setAttribute(`height`,E(i)):(s.setAttribute(`height`,E(i)),s.setAttribute(`depth`,E(-i))),s.setAttribute(`voffset`,E(i)),s}});function js(e,t,n){for(var r=Sa(e,t,!1),i=t.sizeMultiplier/n.sizeMultiplier,a=0;a<r.length;a++){var o=r[a].classes.indexOf(`sizing`);o<0?Array.prototype.push.apply(r[a].classes,t.sizingClasses(n)):r[a].classes[o+1]===`reset-size`+t.size&&(r[a].classes[o+1]=`reset-size`+n.size),r[a].height*=i,r[a].depth*=i}return L.makeFragment(r)}var Ms=[`\\tiny`,`\\sixptsize`,`\\scriptsize`,`\\footnotesize`,`\\small`,`\\normalsize`,`\\large`,`\\Large`,`\\LARGE`,`\\huge`,`\\Huge`];R({type:`sizing`,names:Ms,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:i}=e,a=i.parseExpression(!1,n);return{type:`sizing`,mode:i.mode,size:Ms.indexOf(r)+1,body:a}},htmlBuilder:(e,t)=>{var n=t.havingSize(e.size);return js(e.body,n,t)},mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=Ra(e.body,n),i=new z.MathNode(`mstyle`,r);return i.setAttribute(`mathsize`,E(n.sizeMultiplier)),i}}),R({type:`smash`,names:[`\\smash`],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,i=!1,a=!1,o=n[0]&&B(n[0],`ordgroup`);if(o)for(var s=``,c=0;c<o.body.length;++c)if(s=o.body[c].text,s===`t`)i=!0;else if(s===`b`)a=!0;else{i=!1,a=!1;break}else i=!0,a=!0;var l=t[0];return{type:`smash`,mode:r.mode,body:l,smashHeight:i,smashDepth:a}},htmlBuilder:(e,t)=>{var n=L.makeSpan([],[Oa(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var a=L.makeVList({positionType:`firstBaseline`,children:[{type:`elem`,elem:n}]},t);return L.makeSpan([`mord`],[a],t)},mathmlBuilder:(e,t)=>{var n=new z.MathNode(`mpadded`,[Ba(e.body,t)]);return e.smashHeight&&n.setAttribute(`height`,`0px`),e.smashDepth&&n.setAttribute(`depth`,`0px`),n}}),R({type:`sqrt`,names:[`\\sqrt`],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,i=n[0],a=t[0];return{type:`sqrt`,mode:r.mode,body:a,index:i}},htmlBuilder(e,t){var n=Oa(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=L.wrapFragment(n,t);var r=t.fontMetrics().defaultRuleThickness,i=r;t.style.id<T.TEXT.id&&(i=t.fontMetrics().xHeight);var a=r+i/4,o=n.height+n.depth+a+r,{span:s,ruleWidth:c,advanceWidth:l}=qo.sqrtImage(o,t),u=s.height-c;u>n.height+n.depth+a&&(a=(a+u-n.height-n.depth)/2);var d=s.height-n.height-a-c;n.style.paddingLeft=E(l);var f=L.makeVList({positionType:`firstBaseline`,children:[{type:`elem`,elem:n,wrapperClasses:[`svg-align`]},{type:`kern`,size:-(n.height+d)},{type:`elem`,elem:s},{type:`kern`,size:c}]},t);if(e.index){var p=t.havingStyle(T.SCRIPTSCRIPT),m=Oa(e.index,p,t),h=.6*(f.height-f.depth),g=L.makeVList({positionType:`shift`,positionData:-h,children:[{type:`elem`,elem:m}]},t),_=L.makeSpan([`root`],[g]);return L.makeSpan([`mord`,`sqrt`],[_,f],t)}else return L.makeSpan([`mord`,`sqrt`],[f],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new z.MathNode(`mroot`,[Ba(n,t),Ba(r,t)]):new z.MathNode(`msqrt`,[Ba(n,t)])}});var Ns={display:T.DISPLAY,text:T.TEXT,script:T.SCRIPT,scriptscript:T.SCRIPTSCRIPT};R({type:`styling`,names:[`\\displaystyle`,`\\textstyle`,`\\scriptstyle`,`\\scriptscriptstyle`],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:i}=e,a=i.parseExpression(!0,n),o=r.slice(1,r.length-5);return{type:`styling`,mode:i.mode,style:o,body:a}},htmlBuilder(e,t){var n=Ns[e.style],r=t.havingStyle(n).withFont(``);return js(e.body,r,t)},mathmlBuilder(e,t){var n=Ns[e.style],r=t.havingStyle(n),i=Ra(e.body,r),a=new z.MathNode(`mstyle`,i),o={display:[`0`,`true`],text:[`0`,`false`],script:[`1`,`false`],scriptscript:[`2`,`false`]}[e.style];return a.setAttribute(`scriptlevel`,o[0]),a.setAttribute(`displaystyle`,o[1]),a}});var Ps=function(e,t){var n=e.base;return n?n.type===`op`?n.limits&&(t.style.size===T.DISPLAY.size||n.alwaysHandleSupSub)?Es:null:n.type===`operatorname`?n.alwaysHandleSupSub&&(t.style.size===T.DISPLAY.size||n.limits)?As:null:n.type===`accent`?Qn.isCharacterBox(n.base)?Qa:null:n.type===`horizBrace`&&!e.sub===n.isOver?xs:null:null};ma({type:`supsub`,htmlBuilder(e,t){var n=Ps(e,t);if(n)return n(e,t);var{base:r,sup:i,sub:a}=e,o=Oa(r,t),s,c,l=t.fontMetrics(),u=0,d=0,f=r&&Qn.isCharacterBox(r);if(i){var p=t.havingStyle(t.style.sup());s=Oa(i,p,t),f||(u=o.height-p.fontMetrics().supDrop*p.sizeMultiplier/t.sizeMultiplier)}if(a){var m=t.havingStyle(t.style.sub());c=Oa(a,m,t),f||(d=o.depth+m.fontMetrics().subDrop*m.sizeMultiplier/t.sizeMultiplier)}var h=t.style===T.DISPLAY?l.sup1:t.style.cramped?l.sup3:l.sup2,g=t.sizeMultiplier,_=E(.5/l.ptPerEm/g),v=null;if(c){var ee=e.base&&e.base.type===`op`&&e.base.name&&(e.base.name===`\\oiint`||e.base.name===`\\oiiint`);(o instanceof ii||ee)&&(v=E(-o.italic))}var te;if(s&&c){u=Math.max(u,h,s.depth+.25*l.xHeight),d=Math.max(d,l.sub2);var ne=4*l.defaultRuleThickness;if(u-s.depth-(c.height-d)<ne){d=ne-(u-s.depth)+c.height;var y=.8*l.xHeight-(u-s.depth);y>0&&(u+=y,d-=y)}var b=[{type:`elem`,elem:c,shift:d,marginRight:_,marginLeft:v},{type:`elem`,elem:s,shift:-u,marginRight:_}];te=L.makeVList({positionType:`individualShift`,children:b},t)}else if(c){d=Math.max(d,l.sub1,c.height-.8*l.xHeight);var x=[{type:`elem`,elem:c,marginLeft:v,marginRight:_}];te=L.makeVList({positionType:`shift`,positionData:d,children:x},t)}else if(s)u=Math.max(u,h,s.depth+.25*l.xHeight),te=L.makeVList({positionType:`shift`,positionData:-u,children:[{type:`elem`,elem:s,marginRight:_}]},t);else throw Error(`supsub must have either sup or sub.`);var re=Ea(o,`right`)||`mord`;return L.makeSpan([re],[o,L.makeSpan([`msupsub`],[te])],t)},mathmlBuilder(e,t){var n=!1,r,i;e.base&&e.base.type===`horizBrace`&&(i=!!e.sup,i===e.base.isOver&&(n=!0,r=e.base.isOver)),e.base&&(e.base.type===`op`||e.base.type===`operatorname`)&&(e.base.parentIsSupSub=!0);var a=[Ba(e.base,t)];e.sub&&a.push(Ba(e.sub,t)),e.sup&&a.push(Ba(e.sup,t));var o;if(n)o=r?`mover`:`munder`;else if(e.sub)if(e.sup){var s=e.base;o=s&&s.type===`op`&&s.limits&&t.style===T.DISPLAY||s&&s.type===`operatorname`&&s.alwaysHandleSupSub&&(t.style===T.DISPLAY||s.limits)?`munderover`:`msubsup`}else{var c=e.base;o=c&&c.type===`op`&&c.limits&&(t.style===T.DISPLAY||c.alwaysHandleSupSub)||c&&c.type===`operatorname`&&c.alwaysHandleSupSub&&(c.limits||t.style===T.DISPLAY)?`munder`:`msub`}else{var l=e.base;o=l&&l.type===`op`&&l.limits&&(t.style===T.DISPLAY||l.alwaysHandleSupSub)||l&&l.type===`operatorname`&&l.alwaysHandleSupSub&&(l.limits||t.style===T.DISPLAY)?`mover`:`msup`}return new z.MathNode(o,a)}}),ma({type:`atom`,htmlBuilder(e,t){return L.mathsym(e.text,e.mode,t,[`m`+e.family])},mathmlBuilder(e,t){var n=new z.MathNode(`mo`,[Pa(e.text,e.mode)]);if(e.family===`bin`){var r=Ia(e,t);r===`bold-italic`&&n.setAttribute(`mathvariant`,r)}else e.family===`punct`?n.setAttribute(`separator`,`true`):(e.family===`open`||e.family===`close`)&&n.setAttribute(`stretchy`,`false`);return n}});var Fs={mi:`italic`,mn:`normal`,mtext:`normal`};ma({type:`mathord`,htmlBuilder(e,t){return L.makeOrd(e,t,`mathord`)},mathmlBuilder(e,t){var n=new z.MathNode(`mi`,[Pa(e.text,e.mode,t)]),r=Ia(e,t)||`italic`;return r!==Fs[n.type]&&n.setAttribute(`mathvariant`,r),n}}),ma({type:`textord`,htmlBuilder(e,t){return L.makeOrd(e,t,`textord`)},mathmlBuilder(e,t){var n=Pa(e.text,e.mode,t),r=Ia(e,t)||`normal`,i=e.mode===`text`?new z.MathNode(`mtext`,[n]):/[0-9]/.test(e.text)?new z.MathNode(`mn`,[n]):e.text===`\\prime`?new z.MathNode(`mo`,[n]):new z.MathNode(`mi`,[n]);return r!==Fs[i.type]&&i.setAttribute(`mathvariant`,r),i}});var Is={"\\nobreak":`nobreak`,"\\allowbreak":`allowbreak`},Ls={" ":{},"\\ ":{},"~":{className:`nobreak`},"\\space":{},"\\nobreakspace":{className:`nobreak`}};ma({type:`spacing`,htmlBuilder(e,t){if(Ls.hasOwnProperty(e.text)){var n=Ls[e.text].className||``;if(e.mode===`text`){var r=L.makeOrd(e,t,`textord`);return r.classes.push(n),r}else return L.makeSpan([`mspace`,n],[L.mathsym(e.text,e.mode,t)],t)}else if(Is.hasOwnProperty(e.text))return L.makeSpan([`mspace`,Is[e.text]],[],t);else throw new w(`Unknown type of space "`+e.text+`"`)},mathmlBuilder(e,t){var n;if(Ls.hasOwnProperty(e.text))n=new z.MathNode(`mtext`,[new z.TextNode(`\xA0`)]);else if(Is.hasOwnProperty(e.text))return new z.MathNode(`mspace`);else throw new w(`Unknown type of space "`+e.text+`"`);return n}});var Rs=()=>{var e=new z.MathNode(`mtd`,[]);return e.setAttribute(`width`,`50%`),e};ma({type:`tag`,mathmlBuilder(e,t){var n=new z.MathNode(`mtable`,[new z.MathNode(`mtr`,[Rs(),new z.MathNode(`mtd`,[za(e.body,t)]),Rs(),new z.MathNode(`mtd`,[za(e.tag,t)])])]);return n.setAttribute(`width`,`100%`),n}});var zs={"\\text":void 0,"\\textrm":`textrm`,"\\textsf":`textsf`,"\\texttt":`texttt`,"\\textnormal":`textrm`},Bs={"\\textbf":`textbf`,"\\textmd":`textmd`},Vs={"\\textit":`textit`,"\\textup":`textup`},Hs=(e,t)=>{var n=e.font;if(n){if(zs[n])return t.withTextFontFamily(zs[n]);if(Bs[n])return t.withTextFontWeight(Bs[n]);if(n===`\\emph`)return t.fontShape===`textit`?t.withTextFontShape(`textup`):t.withTextFontShape(`textit`)}else return t;return t.withTextFontShape(Vs[n])};R({type:`text`,names:[`\\text`,`\\textrm`,`\\textsf`,`\\texttt`,`\\textnormal`,`\\textbf`,`\\textmd`,`\\textit`,`\\textup`,`\\emph`],props:{numArgs:1,argTypes:[`text`],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:`text`,mode:n.mode,body:ga(i),font:r}},htmlBuilder(e,t){var n=Hs(e,t),r=Sa(e.body,n,!0);return L.makeSpan([`mord`,`text`],r,n)},mathmlBuilder(e,t){var n=Hs(e,t);return za(e.body,n)}}),R({type:`underline`,names:[`\\underline`],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:`underline`,mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Oa(e.body,t),r=L.makeLineSpan(`underline-line`,t),i=t.fontMetrics().defaultRuleThickness,a=L.makeVList({positionType:`top`,positionData:n.height,children:[{type:`kern`,size:i},{type:`elem`,elem:r},{type:`kern`,size:3*i},{type:`elem`,elem:n}]},t);return L.makeSpan([`mord`,`underline`],[a],t)},mathmlBuilder(e,t){var n=new z.MathNode(`mo`,[new z.TextNode(`‾`)]);n.setAttribute(`stretchy`,`true`);var r=new z.MathNode(`munder`,[Ba(e.body,t),n]);return r.setAttribute(`accentunder`,`true`),r}}),R({type:`vcenter`,names:[`\\vcenter`],props:{numArgs:1,argTypes:[`original`],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:`vcenter`,mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Oa(e.body,t),r=t.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return L.makeVList({positionType:`shift`,positionData:i,children:[{type:`elem`,elem:n}]},t)},mathmlBuilder(e,t){return new z.MathNode(`mpadded`,[Ba(e.body,t)],[`vcenter`])}}),R({type:`verb`,names:[`\\verb`],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new w(`\\verb ended by end of line instead of matching delimiter`)},htmlBuilder(e,t){for(var n=Us(e),r=[],i=t.havingStyle(t.style.text()),a=0;a<n.length;a++){var o=n[a];o===`~`&&(o=`\\textasciitilde`),r.push(L.makeSymbol(o,`Typewriter-Regular`,e.mode,i,[`mord`,`texttt`]))}return L.makeSpan([`mord`,`text`].concat(i.sizingClasses(t)),L.tryCombineChars(r),i)},mathmlBuilder(e,t){var n=new z.TextNode(Us(e)),r=new z.MathNode(`mtext`,[n]);return r.setAttribute(`mathvariant`,`monospace`),r}});var Us=e=>e.body.replace(/ /g,e.star?`␣`:`\xA0`),Ws=da,Gs=`[ \r
	]`,Ks=`\\\\[a-zA-Z@]+`,qs=`\\\\[^\ud800-\udfff]`,Js=`(`+Ks+`)`+Gs+`*`,Ys=`\\\\(
|[ \r	]+
?)[ \r	]*`,Xs=`[̀-ͯ]`,Zs=RegExp(Xs+`+$`),Qs=`(`+Gs+`+)|`+(Ys+`|`)+`([!-\\[\\]-‧‪-퟿豈-￿]`+(Xs+`*`)+`|[\ud800-\udbff][\udc00-\udfff]`+(Xs+`*`)+`|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5`+(`|`+Js)+(`|`+qs+`)`),$s=class{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(Qs,`g`),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new Hn(`EOF`,new Vn(this,t,t));var n=this.tokenRegex.exec(e);if(n===null||n.index!==t)throw new w(`Unexpected character: '`+e[t]+`'`,new Hn(e[t],new Vn(this,t,t+1)));var r=n[6]||n[3]||(n[2]?`\\ `:` `);if(this.catcodes[r]===14){var i=e.indexOf(`
`,this.tokenRegex.lastIndex);return i===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict(`commentAtEnd`,`% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)`)):this.tokenRegex.lastIndex=i+1,this.lex()}return new Hn(r,new Vn(this,t,this.tokenRegex.lastIndex))}},ec=class{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new w(`Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug`);var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,n){if(n===void 0&&(n=!1),n){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(e)&&(i[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}},tc=ns;V(`\\noexpand`,function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}}),V(`\\expandafter`,function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}}),V(`\\@firstoftwo`,function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}}),V(`\\@secondoftwo`,function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}}),V(`\\@ifnextchar`,function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),V(`\\@ifstar`,`\\@ifnextchar *{\\@firstoftwo{#1}}`),V(`\\TextOrMath`,function(e){var t=e.consumeArgs(2);return e.mode===`text`?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var nc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};V(`\\char`,function(e){var t=e.popToken(),n,r=``;if(t.text===`'`)n=8,t=e.popToken();else if(t.text===`"`)n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]===`\\`)r=t.text.charCodeAt(1);else if(t.text===`EOF`)throw new w("\\char` missing argument");else r=t.text.charCodeAt(0);else n=10;if(n){if(r=nc[t.text],r==null||r>=n)throw new w(`Invalid base-`+n+` digit `+t.text);for(var i;(i=nc[e.future().text])!=null&&i<n;)r*=n,r+=i,e.popToken()}return`\\@char{`+r+`}`});var rc=(e,t,n,r)=>{var i=e.consumeArg().tokens;if(i.length!==1)throw new w(`\\newcommand's first argument must be a macro name`);var a=i[0].text,o=e.isDefined(a);if(o&&!t)throw new w(`\\newcommand{`+a+`} attempting to redefine `+(a+`; use \\renewcommand`));if(!o&&!n)throw new w(`\\renewcommand{`+a+`} when command `+a+` does not yet exist; use \\newcommand`);var s=0;if(i=e.consumeArg().tokens,i.length===1&&i[0].text===`[`){for(var c=``,l=e.expandNextToken();l.text!==`]`&&l.text!==`EOF`;)c+=l.text,l=e.expandNextToken();if(!c.match(/^\s*[0-9]+\s*$/))throw new w(`Invalid number of arguments: `+c);s=parseInt(c),i=e.consumeArg().tokens}return o&&r||e.macros.set(a,{tokens:i,numArgs:s}),``};V(`\\newcommand`,e=>rc(e,!1,!0,!1)),V(`\\renewcommand`,e=>rc(e,!0,!1,!1)),V(`\\providecommand`,e=>rc(e,!0,!0,!0)),V(`\\message`,e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(e=>e.text).join(``)),``}),V(`\\errmessage`,e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(e=>e.text).join(``)),``}),V(`\\show`,e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),Ws[n],fi.math[n],fi.text[n]),``}),V(`\\bgroup`,`{`),V(`\\egroup`,`}`),V(`~`,`\\nobreakspace`),V(`\\lq`,"`"),V(`\\rq`,`'`),V(`\\aa`,`\\r a`),V(`\\AA`,`\\r A`),V(`\\textcopyright`,"\\html@mathml{\\textcircled{c}}{\\char`©}"),V(`\\copyright`,`\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}`),V(`\\textregistered`,"\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),V(`ℬ`,`\\mathscr{B}`),V(`ℰ`,`\\mathscr{E}`),V(`ℱ`,`\\mathscr{F}`),V(`ℋ`,`\\mathscr{H}`),V(`ℐ`,`\\mathscr{I}`),V(`ℒ`,`\\mathscr{L}`),V(`ℳ`,`\\mathscr{M}`),V(`ℛ`,`\\mathscr{R}`),V(`ℭ`,`\\mathfrak{C}`),V(`ℌ`,`\\mathfrak{H}`),V(`ℨ`,`\\mathfrak{Z}`),V(`\\Bbbk`,`\\Bbb{k}`),V(`·`,`\\cdotp`),V(`\\llap`,`\\mathllap{\\textrm{#1}}`),V(`\\rlap`,`\\mathrlap{\\textrm{#1}}`),V(`\\clap`,`\\mathclap{\\textrm{#1}}`),V(`\\mathstrut`,`\\vphantom{(}`),V(`\\underbar`,`\\underline{\\text{#1}}`),V(`\\not`,`\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}`),V(`\\neq`,"\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),V(`\\ne`,`\\neq`),V(`≠`,`\\neq`),V(`\\notin`,"\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),V(`∉`,`\\notin`),V(`≘`,"\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),V(`≙`,"\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),V(`≚`,"\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),V(`≛`,"\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),V(`≝`,"\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),V(`≞`,"\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),V(`≟`,"\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),V(`⟂`,`\\perp`),V(`‼`,`\\mathclose{!\\mkern-0.8mu!}`),V(`∌`,`\\notni`),V(`⌜`,`\\ulcorner`),V(`⌝`,`\\urcorner`),V(`⌞`,`\\llcorner`),V(`⌟`,`\\lrcorner`),V(`©`,`\\copyright`),V(`®`,`\\textregistered`),V(`️`,`\\textregistered`),V(`\\ulcorner`,`\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}`),V(`\\urcorner`,`\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}`),V(`\\llcorner`,`\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}`),V(`\\lrcorner`,`\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}`),V(`\\vdots`,`{\\varvdots\\rule{0pt}{15pt}}`),V(`⋮`,`\\vdots`),V(`\\varGamma`,`\\mathit{\\Gamma}`),V(`\\varDelta`,`\\mathit{\\Delta}`),V(`\\varTheta`,`\\mathit{\\Theta}`),V(`\\varLambda`,`\\mathit{\\Lambda}`),V(`\\varXi`,`\\mathit{\\Xi}`),V(`\\varPi`,`\\mathit{\\Pi}`),V(`\\varSigma`,`\\mathit{\\Sigma}`),V(`\\varUpsilon`,`\\mathit{\\Upsilon}`),V(`\\varPhi`,`\\mathit{\\Phi}`),V(`\\varPsi`,`\\mathit{\\Psi}`),V(`\\varOmega`,`\\mathit{\\Omega}`),V(`\\substack`,`\\begin{subarray}{c}#1\\end{subarray}`),V(`\\colon`,`\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax`),V(`\\boxed`,`\\fbox{$\\displaystyle{#1}$}`),V(`\\iff`,`\\DOTSB\\;\\Longleftrightarrow\\;`),V(`\\implies`,`\\DOTSB\\;\\Longrightarrow\\;`),V(`\\impliedby`,`\\DOTSB\\;\\Longleftarrow\\;`),V(`\\dddot`,`{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}`),V(`\\ddddot`,`{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}`);var ic={",":`\\dotsc`,"\\not":`\\dotsb`,"+":`\\dotsb`,"=":`\\dotsb`,"<":`\\dotsb`,">":`\\dotsb`,"-":`\\dotsb`,"*":`\\dotsb`,":":`\\dotsb`,"\\DOTSB":`\\dotsb`,"\\coprod":`\\dotsb`,"\\bigvee":`\\dotsb`,"\\bigwedge":`\\dotsb`,"\\biguplus":`\\dotsb`,"\\bigcap":`\\dotsb`,"\\bigcup":`\\dotsb`,"\\prod":`\\dotsb`,"\\sum":`\\dotsb`,"\\bigotimes":`\\dotsb`,"\\bigoplus":`\\dotsb`,"\\bigodot":`\\dotsb`,"\\bigsqcup":`\\dotsb`,"\\And":`\\dotsb`,"\\longrightarrow":`\\dotsb`,"\\Longrightarrow":`\\dotsb`,"\\longleftarrow":`\\dotsb`,"\\Longleftarrow":`\\dotsb`,"\\longleftrightarrow":`\\dotsb`,"\\Longleftrightarrow":`\\dotsb`,"\\mapsto":`\\dotsb`,"\\longmapsto":`\\dotsb`,"\\hookrightarrow":`\\dotsb`,"\\doteq":`\\dotsb`,"\\mathbin":`\\dotsb`,"\\mathrel":`\\dotsb`,"\\relbar":`\\dotsb`,"\\Relbar":`\\dotsb`,"\\xrightarrow":`\\dotsb`,"\\xleftarrow":`\\dotsb`,"\\DOTSI":`\\dotsi`,"\\int":`\\dotsi`,"\\oint":`\\dotsi`,"\\iint":`\\dotsi`,"\\iiint":`\\dotsi`,"\\iiiint":`\\dotsi`,"\\idotsint":`\\dotsi`,"\\DOTSX":`\\dotsx`};V(`\\dots`,function(e){var t=`\\dotso`,n=e.expandAfterFuture().text;return n in ic?t=ic[n]:(n.slice(0,4)===`\\not`||n in fi.math&&[`bin`,`rel`].includes(fi.math[n].group))&&(t=`\\dotsb`),t});var ac={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};V(`\\dotso`,function(e){return e.future().text in ac?`\\ldots\\,`:`\\ldots`}),V(`\\dotsc`,function(e){var t=e.future().text;return t in ac&&t!==`,`?`\\ldots\\,`:`\\ldots`}),V(`\\cdots`,function(e){return e.future().text in ac?`\\@cdots\\,`:`\\@cdots`}),V(`\\dotsb`,`\\cdots`),V(`\\dotsm`,`\\cdots`),V(`\\dotsi`,`\\!\\cdots`),V(`\\dotsx`,`\\ldots\\,`),V(`\\DOTSI`,`\\relax`),V(`\\DOTSB`,`\\relax`),V(`\\DOTSX`,`\\relax`),V(`\\tmspace`,`\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax`),V(`\\,`,`\\tmspace+{3mu}{.1667em}`),V(`\\thinspace`,`\\,`),V(`\\>`,`\\mskip{4mu}`),V(`\\:`,`\\tmspace+{4mu}{.2222em}`),V(`\\medspace`,`\\:`),V(`\\;`,`\\tmspace+{5mu}{.2777em}`),V(`\\thickspace`,`\\;`),V(`\\!`,`\\tmspace-{3mu}{.1667em}`),V(`\\negthinspace`,`\\!`),V(`\\negmedspace`,`\\tmspace-{4mu}{.2222em}`),V(`\\negthickspace`,`\\tmspace-{5mu}{.277em}`),V(`\\enspace`,`\\kern.5em `),V(`\\enskip`,`\\hskip.5em\\relax`),V(`\\quad`,`\\hskip1em\\relax`),V(`\\qquad`,`\\hskip2em\\relax`),V(`\\tag`,`\\@ifstar\\tag@literal\\tag@paren`),V(`\\tag@paren`,`\\tag@literal{({#1})}`),V(`\\tag@literal`,e=>{if(e.macros.get(`\\df@tag`))throw new w(`Multiple \\tag`);return`\\gdef\\df@tag{\\text{#1}}`}),V(`\\bmod`,`\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}`),V(`\\pod`,`\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)`),V(`\\pmod`,`\\pod{{\\rm mod}\\mkern6mu#1}`),V(`\\mod`,`\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1`),V(`\\newline`,`\\\\\\relax`),V(`\\TeX`,`\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}`);var oc=E(Fr[`Main-Regular`][84][1]-.7*Fr[`Main-Regular`][65][1]);V(`\\LaTeX`,`\\textrm{\\html@mathml{`+(`L\\kern-.36em\\raisebox{`+oc+`}{\\scriptstyle A}`)+`\\kern-.15em\\TeX}{LaTeX}}`),V(`\\KaTeX`,`\\textrm{\\html@mathml{`+(`K\\kern-.17em\\raisebox{`+oc+`}{\\scriptstyle A}`)+`\\kern-.15em\\TeX}{KaTeX}}`),V(`\\hspace`,`\\@ifstar\\@hspacer\\@hspace`),V(`\\@hspace`,`\\hskip #1\\relax`),V(`\\@hspacer`,`\\rule{0pt}{0pt}\\hskip #1\\relax`),V(`\\ordinarycolon`,`:`),V(`\\vcentcolon`,`\\mathrel{\\mathop\\ordinarycolon}`),V(`\\dblcolon`,`\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}`),V(`\\coloneqq`,`\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}`),V(`\\Coloneqq`,`\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}`),V(`\\coloneq`,`\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}`),V(`\\Coloneq`,`\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}`),V(`\\eqqcolon`,`\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}`),V(`\\Eqqcolon`,`\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}`),V(`\\eqcolon`,`\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}`),V(`\\Eqcolon`,`\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}`),V(`\\colonapprox`,`\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}`),V(`\\Colonapprox`,`\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}`),V(`\\colonsim`,`\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}`),V(`\\Colonsim`,`\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}`),V(`∷`,`\\dblcolon`),V(`∹`,`\\eqcolon`),V(`≔`,`\\coloneqq`),V(`≕`,`\\eqqcolon`),V(`⩴`,`\\Coloneqq`),V(`\\ratio`,`\\vcentcolon`),V(`\\coloncolon`,`\\dblcolon`),V(`\\colonequals`,`\\coloneqq`),V(`\\coloncolonequals`,`\\Coloneqq`),V(`\\equalscolon`,`\\eqqcolon`),V(`\\equalscoloncolon`,`\\Eqqcolon`),V(`\\colonminus`,`\\coloneq`),V(`\\coloncolonminus`,`\\Coloneq`),V(`\\minuscolon`,`\\eqcolon`),V(`\\minuscoloncolon`,`\\Eqcolon`),V(`\\coloncolonapprox`,`\\Colonapprox`),V(`\\coloncolonsim`,`\\Colonsim`),V(`\\simcolon`,`\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}`),V(`\\simcoloncolon`,`\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}`),V(`\\approxcolon`,`\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}`),V(`\\approxcoloncolon`,`\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}`),V(`\\notni`,"\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),V(`\\limsup`,`\\DOTSB\\operatorname*{lim\\,sup}`),V(`\\liminf`,`\\DOTSB\\operatorname*{lim\\,inf}`),V(`\\injlim`,`\\DOTSB\\operatorname*{inj\\,lim}`),V(`\\projlim`,`\\DOTSB\\operatorname*{proj\\,lim}`),V(`\\varlimsup`,`\\DOTSB\\operatorname*{\\overline{lim}}`),V(`\\varliminf`,`\\DOTSB\\operatorname*{\\underline{lim}}`),V(`\\varinjlim`,`\\DOTSB\\operatorname*{\\underrightarrow{lim}}`),V(`\\varprojlim`,`\\DOTSB\\operatorname*{\\underleftarrow{lim}}`),V(`\\gvertneqq`,`\\html@mathml{\\@gvertneqq}{≩}`),V(`\\lvertneqq`,`\\html@mathml{\\@lvertneqq}{≨}`),V(`\\ngeqq`,`\\html@mathml{\\@ngeqq}{≱}`),V(`\\ngeqslant`,`\\html@mathml{\\@ngeqslant}{≱}`),V(`\\nleqq`,`\\html@mathml{\\@nleqq}{≰}`),V(`\\nleqslant`,`\\html@mathml{\\@nleqslant}{≰}`),V(`\\nshortmid`,`\\html@mathml{\\@nshortmid}{∤}`),V(`\\nshortparallel`,`\\html@mathml{\\@nshortparallel}{∦}`),V(`\\nsubseteqq`,`\\html@mathml{\\@nsubseteqq}{⊈}`),V(`\\nsupseteqq`,`\\html@mathml{\\@nsupseteqq}{⊉}`),V(`\\varsubsetneq`,`\\html@mathml{\\@varsubsetneq}{⊊}`),V(`\\varsubsetneqq`,`\\html@mathml{\\@varsubsetneqq}{⫋}`),V(`\\varsupsetneq`,`\\html@mathml{\\@varsupsetneq}{⊋}`),V(`\\varsupsetneqq`,`\\html@mathml{\\@varsupsetneqq}{⫌}`),V(`\\imath`,`\\html@mathml{\\@imath}{ı}`),V(`\\jmath`,`\\html@mathml{\\@jmath}{ȷ}`),V(`\\llbracket`,"\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),V(`\\rrbracket`,"\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),V(`⟦`,`\\llbracket`),V(`⟧`,`\\rrbracket`),V(`\\lBrace`,"\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),V(`\\rBrace`,"\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),V(`⦃`,`\\lBrace`),V(`⦄`,`\\rBrace`),V(`\\minuso`,"\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),V(`⦵`,`\\minuso`),V(`\\darr`,`\\downarrow`),V(`\\dArr`,`\\Downarrow`),V(`\\Darr`,`\\Downarrow`),V(`\\lang`,`\\langle`),V(`\\rang`,`\\rangle`),V(`\\uarr`,`\\uparrow`),V(`\\uArr`,`\\Uparrow`),V(`\\Uarr`,`\\Uparrow`),V(`\\N`,`\\mathbb{N}`),V(`\\R`,`\\mathbb{R}`),V(`\\Z`,`\\mathbb{Z}`),V(`\\alef`,`\\aleph`),V(`\\alefsym`,`\\aleph`),V(`\\Alpha`,`\\mathrm{A}`),V(`\\Beta`,`\\mathrm{B}`),V(`\\bull`,`\\bullet`),V(`\\Chi`,`\\mathrm{X}`),V(`\\clubs`,`\\clubsuit`),V(`\\cnums`,`\\mathbb{C}`),V(`\\Complex`,`\\mathbb{C}`),V(`\\Dagger`,`\\ddagger`),V(`\\diamonds`,`\\diamondsuit`),V(`\\empty`,`\\emptyset`),V(`\\Epsilon`,`\\mathrm{E}`),V(`\\Eta`,`\\mathrm{H}`),V(`\\exist`,`\\exists`),V(`\\harr`,`\\leftrightarrow`),V(`\\hArr`,`\\Leftrightarrow`),V(`\\Harr`,`\\Leftrightarrow`),V(`\\hearts`,`\\heartsuit`),V(`\\image`,`\\Im`),V(`\\infin`,`\\infty`),V(`\\Iota`,`\\mathrm{I}`),V(`\\isin`,`\\in`),V(`\\Kappa`,`\\mathrm{K}`),V(`\\larr`,`\\leftarrow`),V(`\\lArr`,`\\Leftarrow`),V(`\\Larr`,`\\Leftarrow`),V(`\\lrarr`,`\\leftrightarrow`),V(`\\lrArr`,`\\Leftrightarrow`),V(`\\Lrarr`,`\\Leftrightarrow`),V(`\\Mu`,`\\mathrm{M}`),V(`\\natnums`,`\\mathbb{N}`),V(`\\Nu`,`\\mathrm{N}`),V(`\\Omicron`,`\\mathrm{O}`),V(`\\plusmn`,`\\pm`),V(`\\rarr`,`\\rightarrow`),V(`\\rArr`,`\\Rightarrow`),V(`\\Rarr`,`\\Rightarrow`),V(`\\real`,`\\Re`),V(`\\reals`,`\\mathbb{R}`),V(`\\Reals`,`\\mathbb{R}`),V(`\\Rho`,`\\mathrm{P}`),V(`\\sdot`,`\\cdot`),V(`\\sect`,`\\S`),V(`\\spades`,`\\spadesuit`),V(`\\sub`,`\\subset`),V(`\\sube`,`\\subseteq`),V(`\\supe`,`\\supseteq`),V(`\\Tau`,`\\mathrm{T}`),V(`\\thetasym`,`\\vartheta`),V(`\\weierp`,`\\wp`),V(`\\Zeta`,`\\mathrm{Z}`),V(`\\argmin`,`\\DOTSB\\operatorname*{arg\\,min}`),V(`\\argmax`,`\\DOTSB\\operatorname*{arg\\,max}`),V(`\\plim`,`\\DOTSB\\mathop{\\operatorname{plim}}\\limits`),V(`\\bra`,`\\mathinner{\\langle{#1}|}`),V(`\\ket`,`\\mathinner{|{#1}\\rangle}`),V(`\\braket`,`\\mathinner{\\langle{#1}\\rangle}`),V(`\\Bra`,`\\left\\langle#1\\right|`),V(`\\Ket`,`\\left|#1\\right\\rangle`);var sc=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,i=t.consumeArg().tokens,a=t.consumeArg().tokens,o=t.macros.get(`|`),s=t.macros.get(`\\|`);t.macros.beginGroup();var c=t=>n=>{e&&(n.macros.set(`|`,o),i.length&&n.macros.set(`\\|`,s));var a=t;return!t&&i.length&&n.future().text===`|`&&(n.popToken(),a=!0),{tokens:a?i:r,numArgs:0}};t.macros.set(`|`,c(!1)),i.length&&t.macros.set(`\\|`,c(!0));var l=t.consumeArg().tokens,u=t.expandTokens([...a,...l,...n]);return t.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};V(`\\bra@ket`,sc(!1)),V(`\\bra@set`,sc(!0)),V(`\\Braket`,`\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}`),V(`\\Set`,`\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}`),V(`\\set`,`\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}`),V(`\\angln`,`{\\angl n}`),V(`\\blue`,`\\textcolor{##6495ed}{#1}`),V(`\\orange`,`\\textcolor{##ffa500}{#1}`),V(`\\pink`,`\\textcolor{##ff00af}{#1}`),V(`\\red`,`\\textcolor{##df0030}{#1}`),V(`\\green`,`\\textcolor{##28ae7b}{#1}`),V(`\\gray`,`\\textcolor{gray}{#1}`),V(`\\purple`,`\\textcolor{##9d38bd}{#1}`),V(`\\blueA`,`\\textcolor{##ccfaff}{#1}`),V(`\\blueB`,`\\textcolor{##80f6ff}{#1}`),V(`\\blueC`,`\\textcolor{##63d9ea}{#1}`),V(`\\blueD`,`\\textcolor{##11accd}{#1}`),V(`\\blueE`,`\\textcolor{##0c7f99}{#1}`),V(`\\tealA`,`\\textcolor{##94fff5}{#1}`),V(`\\tealB`,`\\textcolor{##26edd5}{#1}`),V(`\\tealC`,`\\textcolor{##01d1c1}{#1}`),V(`\\tealD`,`\\textcolor{##01a995}{#1}`),V(`\\tealE`,`\\textcolor{##208170}{#1}`),V(`\\greenA`,`\\textcolor{##b6ffb0}{#1}`),V(`\\greenB`,`\\textcolor{##8af281}{#1}`),V(`\\greenC`,`\\textcolor{##74cf70}{#1}`),V(`\\greenD`,`\\textcolor{##1fab54}{#1}`),V(`\\greenE`,`\\textcolor{##0d923f}{#1}`),V(`\\goldA`,`\\textcolor{##ffd0a9}{#1}`),V(`\\goldB`,`\\textcolor{##ffbb71}{#1}`),V(`\\goldC`,`\\textcolor{##ff9c39}{#1}`),V(`\\goldD`,`\\textcolor{##e07d10}{#1}`),V(`\\goldE`,`\\textcolor{##a75a05}{#1}`),V(`\\redA`,`\\textcolor{##fca9a9}{#1}`),V(`\\redB`,`\\textcolor{##ff8482}{#1}`),V(`\\redC`,`\\textcolor{##f9685d}{#1}`),V(`\\redD`,`\\textcolor{##e84d39}{#1}`),V(`\\redE`,`\\textcolor{##bc2612}{#1}`),V(`\\maroonA`,`\\textcolor{##ffbde0}{#1}`),V(`\\maroonB`,`\\textcolor{##ff92c6}{#1}`),V(`\\maroonC`,`\\textcolor{##ed5fa6}{#1}`),V(`\\maroonD`,`\\textcolor{##ca337c}{#1}`),V(`\\maroonE`,`\\textcolor{##9e034e}{#1}`),V(`\\purpleA`,`\\textcolor{##ddd7ff}{#1}`),V(`\\purpleB`,`\\textcolor{##c6b9fc}{#1}`),V(`\\purpleC`,`\\textcolor{##aa87ff}{#1}`),V(`\\purpleD`,`\\textcolor{##7854ab}{#1}`),V(`\\purpleE`,`\\textcolor{##543b78}{#1}`),V(`\\mintA`,`\\textcolor{##f5f9e8}{#1}`),V(`\\mintB`,`\\textcolor{##edf2df}{#1}`),V(`\\mintC`,`\\textcolor{##e0e5cc}{#1}`),V(`\\grayA`,`\\textcolor{##f6f7f7}{#1}`),V(`\\grayB`,`\\textcolor{##f0f1f2}{#1}`),V(`\\grayC`,`\\textcolor{##e3e5e6}{#1}`),V(`\\grayD`,`\\textcolor{##d6d8da}{#1}`),V(`\\grayE`,`\\textcolor{##babec2}{#1}`),V(`\\grayF`,`\\textcolor{##888d93}{#1}`),V(`\\grayG`,`\\textcolor{##626569}{#1}`),V(`\\grayH`,`\\textcolor{##3b3e40}{#1}`),V(`\\grayI`,`\\textcolor{##21242c}{#1}`),V(`\\kaBlue`,`\\textcolor{##314453}{#1}`),V(`\\kaGreen`,`\\textcolor{##71B307}{#1}`);var cc={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},lc=class{constructor(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new ec(tc,t.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new $s(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,n,r;if(e){if(this.consumeSpaces(),this.future().text!==`[`)return null;t=this.popToken(),{tokens:r,end:n}=this.consumeArg([`]`])}else ({tokens:r,start:t,end:n}=this.consumeArg());return this.pushToken(new Hn(`EOF`,n.loc)),this.pushTokens(r),new Hn(``,Vn.range(t,n))}consumeSpaces(){for(;this.future().text===` `;)this.stack.pop()}consumeArg(e){var t=[],n=e&&e.length>0;n||this.consumeSpaces();var r=this.future(),i,a=0,o=0;do{if(i=this.popToken(),t.push(i),i.text===`{`)++a;else if(i.text===`}`){if(--a,a===-1)throw new w(`Extra }`,i)}else if(i.text===`EOF`)throw new w(`Unexpected end of input in a macro argument, expected '`+(e&&n?e[o]:`}`)+`'`,i);if(e&&n)if((a===0||a===1&&e[o]===`{`)&&i.text===e[o]){if(++o,o===e.length){t.splice(-o,o);break}}else o=0}while(a!==0||n);return r.text===`{`&&t[t.length-1].text===`}`&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:r,end:i}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new w(`The length of delimiters doesn't match the number of args!`);for(var n=t[0],r=0;r<n.length;r++){var i=this.popToken();if(n[r]!==i.text)throw new w(`Use of the macro doesn't match its definition`,i)}}for(var a=[],o=0;o<e;o++)a.push(this.consumeArg(t&&t[o+1]).tokens);return a}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new w(`Too many expansions: infinite loop or need to increase maxExpand setting`)}expandOnce(e){var t=this.popToken(),n=t.text,r=t.noexpand?null:this._getExpansion(n);if(r==null||e&&r.unexpandable){if(e&&r==null&&n[0]===`\\`&&!this.isDefined(n))throw new w(`Undefined control sequence: `+n);return this.pushToken(t),!1}this.countExpansion(1);var i=r.tokens,a=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs){i=i.slice();for(var o=i.length-1;o>=0;--o){var s=i[o];if(s.text===`#`){if(o===0)throw new w(`Incomplete placeholder at end of macro body`,s);if(s=i[--o],s.text===`#`)i.splice(o+1,1);else if(/^[1-9]$/.test(s.text))i.splice(o,2,...a[s.text-1]);else throw new w(`Not a valid argument number`,s)}}}return this.pushTokens(i),i.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text=`\\relax`),e}throw Error()}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Hn(e)]):void 0}expandTokens(e){var t=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var r=this.stack.pop();r.treatAsRelax&&=(r.noexpand=!1,!1),t.push(r)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(e=>e.text).join(``)}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var r=typeof t==`function`?t(this):t;if(typeof r==`string`){var i=0;if(r.indexOf(`#`)!==-1)for(var a=r.replace(/##/g,``);a.indexOf(`#`+(i+1))!==-1;)++i;for(var o=new $s(r,this.settings),s=[],c=o.lex();c.text!==`EOF`;)s.push(c),c=o.lex();return s.reverse(),{tokens:s,numArgs:i}}return r}isDefined(e){return this.macros.has(e)||Ws.hasOwnProperty(e)||fi.math.hasOwnProperty(e)||fi.text.hasOwnProperty(e)||cc.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t==null?Ws.hasOwnProperty(e)&&!Ws[e].primitive:typeof t==`string`||typeof t==`function`||!t.unexpandable}},uc=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,dc=Object.freeze({"₊":`+`,"₋":`-`,"₌":`=`,"₍":`(`,"₎":`)`,"₀":`0`,"₁":`1`,"₂":`2`,"₃":`3`,"₄":`4`,"₅":`5`,"₆":`6`,"₇":`7`,"₈":`8`,"₉":`9`,ₐ:`a`,ₑ:`e`,ₕ:`h`,ᵢ:`i`,ⱼ:`j`,ₖ:`k`,ₗ:`l`,ₘ:`m`,ₙ:`n`,ₒ:`o`,ₚ:`p`,ᵣ:`r`,ₛ:`s`,ₜ:`t`,ᵤ:`u`,ᵥ:`v`,ₓ:`x`,ᵦ:`β`,ᵧ:`γ`,ᵨ:`ρ`,ᵩ:`ϕ`,ᵪ:`χ`,"⁺":`+`,"⁻":`-`,"⁼":`=`,"⁽":`(`,"⁾":`)`,"⁰":`0`,"¹":`1`,"²":`2`,"³":`3`,"⁴":`4`,"⁵":`5`,"⁶":`6`,"⁷":`7`,"⁸":`8`,"⁹":`9`,ᴬ:`A`,ᴮ:`B`,ᴰ:`D`,ᴱ:`E`,ᴳ:`G`,ᴴ:`H`,ᴵ:`I`,ᴶ:`J`,ᴷ:`K`,ᴸ:`L`,ᴹ:`M`,ᴺ:`N`,ᴼ:`O`,ᴾ:`P`,ᴿ:`R`,ᵀ:`T`,ᵁ:`U`,ⱽ:`V`,ᵂ:`W`,ᵃ:`a`,ᵇ:`b`,ᶜ:`c`,ᵈ:`d`,ᵉ:`e`,ᶠ:`f`,ᵍ:`g`,ʰ:`h`,ⁱ:`i`,ʲ:`j`,ᵏ:`k`,ˡ:`l`,ᵐ:`m`,ⁿ:`n`,ᵒ:`o`,ᵖ:`p`,ʳ:`r`,ˢ:`s`,ᵗ:`t`,ᵘ:`u`,ᵛ:`v`,ʷ:`w`,ˣ:`x`,ʸ:`y`,ᶻ:`z`,ᵝ:`β`,ᵞ:`γ`,ᵟ:`δ`,ᵠ:`ϕ`,ᵡ:`χ`,ᶿ:`θ`}),fc={"́":{text:`\\'`,math:`\\acute`},"̀":{text:"\\`",math:`\\grave`},"̈":{text:`\\"`,math:`\\ddot`},"̃":{text:`\\~`,math:`\\tilde`},"̄":{text:`\\=`,math:`\\bar`},"̆":{text:`\\u`,math:`\\breve`},"̌":{text:`\\v`,math:`\\check`},"̂":{text:`\\^`,math:`\\hat`},"̇":{text:`\\.`,math:`\\dot`},"̊":{text:`\\r`,math:`\\mathring`},"̋":{text:`\\H`},"̧":{text:`\\c`}},pc={á:`á`,à:`à`,ä:`ä`,ǟ:`ǟ`,ã:`ã`,ā:`ā`,ă:`ă`,ắ:`ắ`,ằ:`ằ`,ẵ:`ẵ`,ǎ:`ǎ`,â:`â`,ấ:`ấ`,ầ:`ầ`,ẫ:`ẫ`,ȧ:`ȧ`,ǡ:`ǡ`,å:`å`,ǻ:`ǻ`,ḃ:`ḃ`,ć:`ć`,ḉ:`ḉ`,č:`č`,ĉ:`ĉ`,ċ:`ċ`,ç:`ç`,ď:`ď`,ḋ:`ḋ`,ḑ:`ḑ`,é:`é`,è:`è`,ë:`ë`,ẽ:`ẽ`,ē:`ē`,ḗ:`ḗ`,ḕ:`ḕ`,ĕ:`ĕ`,ḝ:`ḝ`,ě:`ě`,ê:`ê`,ế:`ế`,ề:`ề`,ễ:`ễ`,ė:`ė`,ȩ:`ȩ`,ḟ:`ḟ`,ǵ:`ǵ`,ḡ:`ḡ`,ğ:`ğ`,ǧ:`ǧ`,ĝ:`ĝ`,ġ:`ġ`,ģ:`ģ`,ḧ:`ḧ`,ȟ:`ȟ`,ĥ:`ĥ`,ḣ:`ḣ`,ḩ:`ḩ`,í:`í`,ì:`ì`,ï:`ï`,ḯ:`ḯ`,ĩ:`ĩ`,ī:`ī`,ĭ:`ĭ`,ǐ:`ǐ`,î:`î`,ǰ:`ǰ`,ĵ:`ĵ`,ḱ:`ḱ`,ǩ:`ǩ`,ķ:`ķ`,ĺ:`ĺ`,ľ:`ľ`,ļ:`ļ`,ḿ:`ḿ`,ṁ:`ṁ`,ń:`ń`,ǹ:`ǹ`,ñ:`ñ`,ň:`ň`,ṅ:`ṅ`,ņ:`ņ`,ó:`ó`,ò:`ò`,ö:`ö`,ȫ:`ȫ`,õ:`õ`,ṍ:`ṍ`,ṏ:`ṏ`,ȭ:`ȭ`,ō:`ō`,ṓ:`ṓ`,ṑ:`ṑ`,ŏ:`ŏ`,ǒ:`ǒ`,ô:`ô`,ố:`ố`,ồ:`ồ`,ỗ:`ỗ`,ȯ:`ȯ`,ȱ:`ȱ`,ő:`ő`,ṕ:`ṕ`,ṗ:`ṗ`,ŕ:`ŕ`,ř:`ř`,ṙ:`ṙ`,ŗ:`ŗ`,ś:`ś`,ṥ:`ṥ`,š:`š`,ṧ:`ṧ`,ŝ:`ŝ`,ṡ:`ṡ`,ş:`ş`,ẗ:`ẗ`,ť:`ť`,ṫ:`ṫ`,ţ:`ţ`,ú:`ú`,ù:`ù`,ü:`ü`,ǘ:`ǘ`,ǜ:`ǜ`,ǖ:`ǖ`,ǚ:`ǚ`,ũ:`ũ`,ṹ:`ṹ`,ū:`ū`,ṻ:`ṻ`,ŭ:`ŭ`,ǔ:`ǔ`,û:`û`,ů:`ů`,ű:`ű`,ṽ:`ṽ`,ẃ:`ẃ`,ẁ:`ẁ`,ẅ:`ẅ`,ŵ:`ŵ`,ẇ:`ẇ`,ẘ:`ẘ`,ẍ:`ẍ`,ẋ:`ẋ`,ý:`ý`,ỳ:`ỳ`,ÿ:`ÿ`,ỹ:`ỹ`,ȳ:`ȳ`,ŷ:`ŷ`,ẏ:`ẏ`,ẙ:`ẙ`,ź:`ź`,ž:`ž`,ẑ:`ẑ`,ż:`ż`,Á:`Á`,À:`À`,Ä:`Ä`,Ǟ:`Ǟ`,Ã:`Ã`,Ā:`Ā`,Ă:`Ă`,Ắ:`Ắ`,Ằ:`Ằ`,Ẵ:`Ẵ`,Ǎ:`Ǎ`,Â:`Â`,Ấ:`Ấ`,Ầ:`Ầ`,Ẫ:`Ẫ`,Ȧ:`Ȧ`,Ǡ:`Ǡ`,Å:`Å`,Ǻ:`Ǻ`,Ḃ:`Ḃ`,Ć:`Ć`,Ḉ:`Ḉ`,Č:`Č`,Ĉ:`Ĉ`,Ċ:`Ċ`,Ç:`Ç`,Ď:`Ď`,Ḋ:`Ḋ`,Ḑ:`Ḑ`,É:`É`,È:`È`,Ë:`Ë`,Ẽ:`Ẽ`,Ē:`Ē`,Ḗ:`Ḗ`,Ḕ:`Ḕ`,Ĕ:`Ĕ`,Ḝ:`Ḝ`,Ě:`Ě`,Ê:`Ê`,Ế:`Ế`,Ề:`Ề`,Ễ:`Ễ`,Ė:`Ė`,Ȩ:`Ȩ`,Ḟ:`Ḟ`,Ǵ:`Ǵ`,Ḡ:`Ḡ`,Ğ:`Ğ`,Ǧ:`Ǧ`,Ĝ:`Ĝ`,Ġ:`Ġ`,Ģ:`Ģ`,Ḧ:`Ḧ`,Ȟ:`Ȟ`,Ĥ:`Ĥ`,Ḣ:`Ḣ`,Ḩ:`Ḩ`,Í:`Í`,Ì:`Ì`,Ï:`Ï`,Ḯ:`Ḯ`,Ĩ:`Ĩ`,Ī:`Ī`,Ĭ:`Ĭ`,Ǐ:`Ǐ`,Î:`Î`,İ:`İ`,Ĵ:`Ĵ`,Ḱ:`Ḱ`,Ǩ:`Ǩ`,Ķ:`Ķ`,Ĺ:`Ĺ`,Ľ:`Ľ`,Ļ:`Ļ`,Ḿ:`Ḿ`,Ṁ:`Ṁ`,Ń:`Ń`,Ǹ:`Ǹ`,Ñ:`Ñ`,Ň:`Ň`,Ṅ:`Ṅ`,Ņ:`Ņ`,Ó:`Ó`,Ò:`Ò`,Ö:`Ö`,Ȫ:`Ȫ`,Õ:`Õ`,Ṍ:`Ṍ`,Ṏ:`Ṏ`,Ȭ:`Ȭ`,Ō:`Ō`,Ṓ:`Ṓ`,Ṑ:`Ṑ`,Ŏ:`Ŏ`,Ǒ:`Ǒ`,Ô:`Ô`,Ố:`Ố`,Ồ:`Ồ`,Ỗ:`Ỗ`,Ȯ:`Ȯ`,Ȱ:`Ȱ`,Ő:`Ő`,Ṕ:`Ṕ`,Ṗ:`Ṗ`,Ŕ:`Ŕ`,Ř:`Ř`,Ṙ:`Ṙ`,Ŗ:`Ŗ`,Ś:`Ś`,Ṥ:`Ṥ`,Š:`Š`,Ṧ:`Ṧ`,Ŝ:`Ŝ`,Ṡ:`Ṡ`,Ş:`Ş`,Ť:`Ť`,Ṫ:`Ṫ`,Ţ:`Ţ`,Ú:`Ú`,Ù:`Ù`,Ü:`Ü`,Ǘ:`Ǘ`,Ǜ:`Ǜ`,Ǖ:`Ǖ`,Ǚ:`Ǚ`,Ũ:`Ũ`,Ṹ:`Ṹ`,Ū:`Ū`,Ṻ:`Ṻ`,Ŭ:`Ŭ`,Ǔ:`Ǔ`,Û:`Û`,Ů:`Ů`,Ű:`Ű`,Ṽ:`Ṽ`,Ẃ:`Ẃ`,Ẁ:`Ẁ`,Ẅ:`Ẅ`,Ŵ:`Ŵ`,Ẇ:`Ẇ`,Ẍ:`Ẍ`,Ẋ:`Ẋ`,Ý:`Ý`,Ỳ:`Ỳ`,Ÿ:`Ÿ`,Ỹ:`Ỹ`,Ȳ:`Ȳ`,Ŷ:`Ŷ`,Ẏ:`Ẏ`,Ź:`Ź`,Ž:`Ž`,Ẑ:`Ẑ`,Ż:`Ż`,ά:`ά`,ὰ:`ὰ`,ᾱ:`ᾱ`,ᾰ:`ᾰ`,έ:`έ`,ὲ:`ὲ`,ή:`ή`,ὴ:`ὴ`,ί:`ί`,ὶ:`ὶ`,ϊ:`ϊ`,ΐ:`ΐ`,ῒ:`ῒ`,ῑ:`ῑ`,ῐ:`ῐ`,ό:`ό`,ὸ:`ὸ`,ύ:`ύ`,ὺ:`ὺ`,ϋ:`ϋ`,ΰ:`ΰ`,ῢ:`ῢ`,ῡ:`ῡ`,ῠ:`ῠ`,ώ:`ώ`,ὼ:`ὼ`,Ύ:`Ύ`,Ὺ:`Ὺ`,Ϋ:`Ϋ`,Ῡ:`Ῡ`,Ῠ:`Ῠ`,Ώ:`Ώ`,Ὼ:`Ὼ`},mc=class e{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode=`math`,this.gullet=new lc(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new w(`Expected '`+e+`', got '`+this.fetch().text+`'`,this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken??=this.gullet.expandNextToken(),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set(`\\color`,`\\textcolor`);try{var e=this.parseExpression(!1);return this.expect(`EOF`),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new Hn(`}`)),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect(`}`),this.nextToken=t,n}parseExpression(t,n){for(var r=[];;){this.mode===`math`&&this.consumeSpaces();var i=this.fetch();if(e.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||t&&Ws[i.text]&&Ws[i.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type===`internal`)continue}else break;r.push(a)}return this.mode===`text`&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var t=-1,n,r=0;r<e.length;r++)if(e[r].type===`infix`){if(t!==-1)throw new w(`only one infix operator per group`,e[r].token);t=r,n=e[r].replaceWith}if(t!==-1&&n){var i,a,o=e.slice(0,t),s=e.slice(t+1);return i=o.length===1&&o[0].type===`ordgroup`?o[0]:{type:`ordgroup`,mode:this.mode,body:o},a=s.length===1&&s[0].type===`ordgroup`?s[0]:{type:`ordgroup`,mode:this.mode,body:s},[n===`\\\\abovefrac`?this.callFunction(n,[i,e[t],a],[]):this.callFunction(n,[i,a],[])]}else return e}handleSupSubscript(e){var t=this.fetch(),n=t.text;this.consume(),this.consumeSpaces();var r;do r=this.parseGroup(e);while(r?.type===`internal`);if(!r)throw new w(`Expected group after '`+n+`'`,t);return r}formatUnsupportedCmd(e){for(var t=[],n=0;n<e.length;n++)t.push({type:`textord`,mode:`text`,text:e[n]});var r={type:`text`,mode:this.mode,body:t};return{type:`color`,mode:this.mode,color:this.settings.errorColor,body:[r]}}parseAtom(e){var t=this.parseGroup(`atom`,e);if(t?.type===`internal`||this.mode===`text`)return t;for(var n,r;;){this.consumeSpaces();var i=this.fetch();if(i.text===`\\limits`||i.text===`\\nolimits`){if(t&&t.type===`op`)t.limits=i.text===`\\limits`,t.alwaysHandleSupSub=!0;else if(t&&t.type===`operatorname`)t.alwaysHandleSupSub&&(t.limits=i.text===`\\limits`);else throw new w(`Limit controls must follow a math operator`,i);this.consume()}else if(i.text===`^`){if(n)throw new w(`Double superscript`,i);n=this.handleSupSubscript(`superscript`)}else if(i.text===`_`){if(r)throw new w(`Double subscript`,i);r=this.handleSupSubscript(`subscript`)}else if(i.text===`'`){if(n)throw new w(`Double superscript`,i);var a={type:`textord`,mode:this.mode,text:`\\prime`},o=[a];for(this.consume();this.fetch().text===`'`;)o.push(a),this.consume();this.fetch().text===`^`&&o.push(this.handleSupSubscript(`superscript`)),n={type:`ordgroup`,mode:this.mode,body:o}}else if(dc[i.text]){var s=uc.test(i.text),c=[];for(c.push(new Hn(dc[i.text])),this.consume();;){var l=this.fetch().text;if(!dc[l]||uc.test(l)!==s)break;c.unshift(new Hn(dc[l])),this.consume()}var u=this.subparse(c);s?r={type:`ordgroup`,mode:`math`,body:u}:n={type:`ordgroup`,mode:`math`,body:u}}else break}return n||r?{type:`supsub`,mode:this.mode,base:t,sup:n,sub:r}:t}parseFunction(e,t){var n=this.fetch(),r=n.text,i=Ws[r];if(!i)return null;if(this.consume(),t&&t!==`atom`&&!i.allowedInArgument)throw new w(`Got function '`+r+`' with no arguments`+(t?` as `+t:``),n);if(this.mode===`text`&&!i.allowedInText)throw new w(`Can't use function '`+r+`' in text mode`,n);if(this.mode===`math`&&i.allowedInMath===!1)throw new w(`Can't use function '`+r+`' in math mode`,n);var{args:a,optArgs:o}=this.parseArguments(r,i);return this.callFunction(r,a,o,n,e)}callFunction(e,t,n,r,i){var a={funcName:e,parser:this,token:r,breakOnTokenText:i},o=Ws[e];if(o&&o.handler)return o.handler(a,t,n);throw new w(`No function handler for `+e)}parseArguments(e,t){var n=t.numArgs+t.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var r=[],i=[],a=0;a<n;a++){var o=t.argTypes&&t.argTypes[a],s=a<t.numOptionalArgs;(t.primitive&&o==null||t.type===`sqrt`&&a===1&&i[0]==null)&&(o=`primitive`);var c=this.parseGroupOfType(`argument to '`+e+`'`,o,s);if(s)i.push(c);else if(c!=null)r.push(c);else throw new w(`Null argument, please report this as a bug`)}return{args:r,optArgs:i}}parseGroupOfType(e,t,n){switch(t){case`color`:return this.parseColorGroup(n);case`size`:return this.parseSizeGroup(n);case`url`:return this.parseUrlGroup(n);case`math`:case`text`:return this.parseArgumentGroup(n,t);case`hbox`:var r=this.parseArgumentGroup(n,`text`);return r==null?null:{type:`styling`,mode:r.mode,body:[r],style:`text`};case`raw`:var i=this.parseStringGroup(`raw`,n);return i==null?null:{type:`raw`,mode:`text`,string:i.text};case`primitive`:if(n)throw new w(`A primitive argument cannot be optional`);var a=this.parseGroup(e);if(a==null)throw new w(`Expected group as `+e,this.fetch());return a;case`original`:case null:case void 0:return this.parseArgumentGroup(n);default:throw new w(`Unknown group type as `+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===` `;)this.consume()}parseStringGroup(e,t){var n=this.gullet.scanArgument(t);if(n==null)return null;for(var r=``,i;(i=this.fetch()).text!==`EOF`;)r+=i.text,this.consume();return this.consume(),n.text=r,n}parseRegexGroup(e,t){for(var n=this.fetch(),r=n,i=``,a;(a=this.fetch()).text!==`EOF`&&e.test(i+a.text);)r=a,i+=r.text,this.consume();if(i===``)throw new w(`Invalid `+t+`: '`+n.text+`'`,n);return n.range(r,i)}parseColorGroup(e){var t=this.parseStringGroup(`color`,e);if(t==null)return null;var n=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new w(`Invalid color: '`+t.text+`'`,t);var r=n[0];return/^[0-9a-f]{6}$/i.test(r)&&(r=`#`+r),{type:`color-token`,mode:this.mode,color:r}}parseSizeGroup(e){var t,n=!1;if(this.gullet.consumeSpaces(),t=!e&&this.gullet.future().text!==`{`?this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,`size`):this.parseStringGroup(`size`,e),!t)return null;!e&&t.text.length===0&&(t.text=`0pt`,n=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!r)throw new w(`Invalid size: '`+t.text+`'`,t);var i={number:+(r[1]+r[2]),unit:r[3]};if(!qr(i))throw new w(`Invalid unit: '`+i.unit+`'`,t);return{type:`size`,mode:this.mode,value:i,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode(`%`,13),this.gullet.lexer.setCatcode(`~`,12);var t=this.parseStringGroup(`url`,e);if(this.gullet.lexer.setCatcode(`%`,14),this.gullet.lexer.setCatcode(`~`,13),t==null)return null;var n=t.text.replace(/\\([#$%&~_^{}])/g,`$1`);return{type:`url`,mode:this.mode,url:n}}parseArgumentGroup(e,t){var n=this.gullet.scanArgument(e);if(n==null)return null;var r=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var i=this.parseExpression(!1,`EOF`);this.expect(`EOF`),this.gullet.endGroup();var a={type:`ordgroup`,mode:this.mode,loc:n.loc,body:i};return t&&this.switchMode(r),a}parseGroup(e,t){var n=this.fetch(),r=n.text,i;if(r===`{`||r===`\\begingroup`){this.consume();var a=r===`{`?`}`:`\\endgroup`;this.gullet.beginGroup();var o=this.parseExpression(!1,a),s=this.fetch();this.expect(a),this.gullet.endGroup(),i={type:`ordgroup`,mode:this.mode,loc:Vn.range(n,s),body:o,semisimple:r===`\\begingroup`||void 0}}else if(i=this.parseFunction(t,e)||this.parseSymbol(),i==null&&r[0]===`\\`&&!cc.hasOwnProperty(r)){if(this.settings.throwOnError)throw new w(`Undefined control sequence: `+r,n);i=this.formatUnsupportedCmd(r),this.consume()}return i}formLigatures(e){for(var t=e.length-1,n=0;n<t;++n){var r=e[n],i=r.text;i===`-`&&e[n+1].text===`-`&&(n+1<t&&e[n+2].text===`-`?(e.splice(n,3,{type:`textord`,mode:`text`,loc:Vn.range(r,e[n+2]),text:`---`}),t-=2):(e.splice(n,2,{type:`textord`,mode:`text`,loc:Vn.range(r,e[n+1]),text:`--`}),--t)),(i===`'`||i==="`")&&e[n+1].text===i&&(e.splice(n,2,{type:`textord`,mode:`text`,loc:Vn.range(r,e[n+1]),text:i+i}),--t)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var n=t.slice(5),r=n.charAt(0)===`*`;if(r&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new w(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:`verb`,mode:`text`,body:n,star:r}}pc.hasOwnProperty(t[0])&&!fi[this.mode][t[0]]&&(this.settings.strict&&this.mode===`math`&&this.settings.reportNonstrict(`unicodeTextInMathMode`,`Accented Unicode text character "`+t[0]+`" used in math mode`,e),t=pc[t[0]]+t.slice(1));var i=Zs.exec(t);i&&(t=t.substring(0,i.index),t===`i`?t=`ı`:t===`j`&&(t=`ȷ`));var a;if(fi[this.mode][t]){this.settings.strict&&this.mode===`math`&&Pi.indexOf(t)>=0&&this.settings.reportNonstrict(`unicodeTextInMathMode`,`Latin-1/Unicode text character "`+t[0]+`" used in math mode`,e);var o=fi[this.mode][t].group,s=Vn.range(e),c;if(ui.hasOwnProperty(o)){var l=o;c={type:`atom`,mode:this.mode,family:l,loc:s,text:t}}else c={type:o,mode:this.mode,loc:s,text:t};a=c}else if(t.charCodeAt(0)>=128)this.settings.strict&&(xr(t.charCodeAt(0))?this.mode===`math`&&this.settings.reportNonstrict(`unicodeTextInMathMode`,`Unicode text character "`+t[0]+`" used in math mode`,e):this.settings.reportNonstrict(`unknownSymbol`,`Unrecognized Unicode character "`+t[0]+`"`+(` (`+t.charCodeAt(0)+`)`),e)),a={type:`textord`,mode:`text`,loc:Vn.range(e),text:t};else return null;if(this.consume(),i)for(var u=0;u<i[0].length;u++){var d=i[0][u];if(!fc[d])throw new w(`Unknown accent ' `+d+`'`,e);var f=fc[d][this.mode]||fc[d].text;if(!f)throw new w(`Accent `+d+` unsupported in `+this.mode+` mode`,e);a={type:`accent`,mode:this.mode,loc:Vn.range(e),label:f,isStretchy:!1,isShifty:!0,base:a}}return a}};mc.endOfExpression=[`}`,`\\endgroup`,`\\end`,`\\right`,`&`];var hc=function(e,t){if(!(typeof e==`string`||e instanceof String))throw TypeError(`KaTeX can only parse string typed expression`);var n=new mc(e,t);delete n.gullet.macros.current[`\\df@tag`];var r=n.parse();if(delete n.gullet.macros.current[`\\current@color`],delete n.gullet.macros.current[`\\color`],n.gullet.macros.get(`\\df@tag`)){if(!t.displayMode)throw new w(`\\tag works only in display equations`);r=[{type:`tag`,mode:`text`,body:r,tag:n.subparse([new Hn(`\\df@tag`)])}]}return r},gc=function(e,t,n){t.textContent=``;var r=vc(e,n).toNode();t.appendChild(r)};typeof document<`u`&&document.compatMode!==`CSS1Compat`&&(typeof console<`u`&&console.warn(`Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype.`),gc=function(){throw new w(`KaTeX doesn't work in quirks mode.`)});var _c=function(e,t,n){if(n.throwOnError||!(e instanceof w))throw e;var r=L.makeSpan([`katex-error`],[new ii(t)]);return r.setAttribute(`title`,e.toString()),r.setAttribute(`style`,`color:`+n.errorColor),r},vc=function(e,t){var n=new tr(t);try{return Wa(hc(e,n),e,n)}catch(t){return _c(t,e,n)}},yc=window.innerWidth>window.innerHeight;const bc=`Consolas, Menlo, Courier, monospace`,xc={fontSize:yc?`16px`:`clamp(16px, 3vmin, 30px)`,fontSizeSmall:yc?`14px`:`clamp(14px, 2.4vmin, 24px)`,keyWidth:`clamp(15vmin, calc(50vw - 400px), 200px)`,contentPadding:`20px 0 20px clamp(20px, calc(50vw - 400px), 200px)`,contentWidth:`clamp(450px, calc(100vw - 400px), 800px)`};var Sc=c({name:`k6iag4`,styles:`position:relative;::after{content:'.';position:absolute;bottom:0.15em;left:0;right:0;text-align:center;font-size:1.4em;color:#333;line-height:0;}`});const Cc=({children:e})=>e.split(``).map((e,t)=>i(`span`,{className:Sc,children:e},t));var wc=c({name:`1jdkqc0`,styles:`font-size:12px;color:#999;cursor:help;margin:0 3px 0 1px`});const Tc=({children:e})=>i(h,{title:e,children:i(`sup`,{children:i(ie,{className:wc})})}),Ec=({children:e})=>{let t=(0,x.useRef)(null);return(0,x.useEffect)(()=>{if(t.current)try{gc(e,t.current,{throwOnError:!1})}catch(e){console.error(`Katex rendering error:`,e)}},[e]),i(`span`,{ref:t})},Dc=y(`span`,{target:`e1oq7icp1`})({name:`tjm4n5`,styles:`font-family:'KaiTi','楷体','STKaiti','华文楷体','SimKai',serif;font-size:17px`}),Oc=y(`div`,{target:`e1oq7icp0`})(`text-align:center;width:`,xc.contentWidth,`;`),kc=y(`div`,{target:`ebn8goc1`})(`display:flex;align-items:center;flex-wrap:wrap;gap:40px;padding:`,xc.contentPadding,`;`);var Ac=y(`div`,{target:`ebn8goc0`})({name:`oosbp6`,styles:`display:flex;align-items:center;flex-wrap:wrap;gap:10px`}),jc=`pqrWWWFWWWFWWWFFFWFWFWFFFFF`.split(``),Mc=[`p`,`q`,`W`,`W`,`F`,`W`,`W`,`F`,`F`,`F`],Nc=[`p`,`W`,`F`];const Pc=()=>a(kc,{children:[a(Ac,{children:[i(cn,{col:3,values:jc}),`，`]}),a(Ac,{children:[i(cn,{col:2,values:Mc}),`，`]}),a(Ac,{children:[i(cn,{col:1,values:Nc}),`。`]})]});var Fc=y(`div`,{target:`e13ljz3r2`})(`font-size:13px;font-family:`,bc,`;padding:`,xc.contentPadding,`;`),Ic=y(`div`,{target:`e13ljz3r1`})(`width:`,xc.contentWidth,`;display:flex;justify-content:center;`),Lc=y(`div`,{target:`e13ljz3r0`})({name:`2qga7i`,styles:`text-align:right`}),Rc=[`p`,`q`,``,`W`,`W`,`W`,`F`,`W`,`W`,`W`,`F`,``,`F`,`F`,`W`],zc=[`（WWWW）（p，q）重言式（如果 p 则 p，且如果 q 则 q。）（p⊃p·q⊃q）`,`（FWWW）（p，q）用话来说：非 p 且 q 两者。（～（p·q）`,`（WFWW）（p，q）用话来说：如果 q 则 p。（q⊃p）`,`（WWFW）（p，q）用话来说：如果 p 则 q。（p⊃q）`,`（WWWF）（p，q）用话来说：p 或 q。（p V q）`,`（FFWW）（p，q）用话来说：非 q。（～q）`,`（FWFW）（p，q）用话来说：非 p。（～p）`,`（FWWF）（p，q）用话来说：p 或 q，但非 p 且 q。（p·～q：V：q·～p）`,`（WFFW）（p，q）用话来说：如果 p 则 q，且如果 q 则 p。（p≡q）`,`（WFWF）（p，q）用话来说：p`,`（WWFF）（p，q）用话来说：q`,`（FFFW）（p，q）用话来说：既非 p 亦非 q。（～p·～q 或 p|q）`,`（FFWF）（p，q）用话来说：p 且非 q。（p·～q）`,`（FWFF）（p，q）用话来说：q 且非 p。（q·～p）`,`（WFFF）（p，q）用话来说：p 且 q。（p·q）`,`（FFFF）（p，q）矛盾式（p 且非 p，和 q 且非 q）（p·～p·q·～q）`];const Bc=({dataKey:e,index:t})=>{if(e===`4.31`)return i(Pc,{});if(e===`4.442`)return i(kc,{children:i(cn,{col:3,values:Rc})});if(e===`5.101`)return i(Fc,{children:zc.map((e,t)=>i(`div`,{children:e},t))});if(e===`5.5423`)return i(Oc,{children:i(pn,{})});if(e===`5.6331`)return i(Oc,{children:i(wn,{})});if(e===`6.02`)return i(Ic,{children:a(Lc,{children:[`0 ＋ 1 ＝ 1 `,i(`span`,{className:f(20),children:`Def.`}),i(`br`,{}),`0 ＋ 1 ＋ 1 ＝ 2 `,i(`span`,{className:f(20),children:`Def.`}),i(`br`,{}),`0 ＋ 1 ＋ 1 ＋ 1 ＝ 3 `,i(`span`,{className:f(20),children:`Def.`})]})});if(e===`6.1203`){if(t===`1`)return i(Oc,{children:i(In,{})});if(t===`2`)return i(Oc,{children:i(Ln,{})});if(t===`3`)return i(Oc,{children:i(Rn,{})});if(t===`4`)return i(Oc,{children:i(zn,{})});if(t===`5`)return i(Oc,{children:i(Bn,{})})}},Vc=({dataKey:e,node:t})=>(0,x.useMemo)(()=>{let{nodeName:n,textContent:r,childNodes:a}=t;switch(n){case`emphasis`:return i(Cc,{children:r});case`footnote`:return i(Tc,{children:r});case`katex`:return i(Ec,{children:r});case`kaiti`:return i(Dc,{children:r});case`centered`:return i(Oc,{children:[...a].map((t,n)=>i(Vc,{dataKey:e,node:t},n))});case`custom`:return i(Bc,{dataKey:e,index:t.getAttribute(`index`)});case`#text`:return i(o,{children:r});default:return console.warn(`Unknown node type: ${n}`),i(o,{children:r})}},[e,t]);var Hc=y(`div`,{target:`ebqe6yq1`})({name:`wwwzmf`,styles:`display:flex;padding:8px 15px;border:1px solid transparent;overflow:hidden;&.active{background-color:#f0f8ff;border-color:#d0e7ff;border-radius:4px;}&.related{background-color:#f4faff;}&.hide{display:none;}&.collapsed{border-bottom:4px solid #f2f2f2;}`}),Uc=y(`div`,{target:`ebqe6yq0`})(`width:`,xc.keyWidth,`;font-family:`,bc,`;flex-shrink:0;`),Wc=i(Tc,{children:`标记各个命题的十进数表明这些命题的逻辑重要性和在我的叙述中对它们的强调。命题 n.1，n.2，n.3 等等是对命题 n 的评述；命题 n.m1，n.m2 等等是对命题 n.m 的评述；余类推。`}),Gc=new DOMParser;const Kc=({item:e})=>{let[t,n]=e.split(`	`),r=Gc.parseFromString(`<container>${n}</container>`,`application/xml`);return a(Hc,{"data-key":t??`0`,children:[a(Uc,{children:[t,t===`1`&&Wc]}),i(`div`,{children:[...r.documentElement.childNodes].map((e,n)=>i(Vc,{node:e,dataKey:t},n))})]})};var qc=ee();const Jc=qc.getValue,Yc=qc.set;var Xc=ee();const Zc=Xc.useValue,Qc=Xc.reset,$c=e=>{let t=qc.getValue(),n=e.dataset.key;Xc.set(n),t?.forEach(t=>{t!==e&&(t.classList.remove(`active`),t.classList.remove(`related`),t.dataset.key.startsWith(n)&&t.classList.add(`related`))}),e.classList.remove(`related`),e.classList.add(`active`),window.location.hash=`#${n}`};var el=y(`div`,{target:`e4up7yr0`})({name:`1fiuwws`,styles:`position:relative;color:#fff;text-align:center;background-color:#159957;background-image:linear-gradient(120deg, #155799, #159957);padding:80px 100px`});const tl=()=>a(el,{children:[i(`h3`,{children:`汉译世界学术名著丛书——商务印书馆`}),i(`h1`,{className:g(50),children:`逻辑哲学论`}),i(`h2`,{children:`〔奥〕维特根斯坦 著`}),i(`h2`,{children:`贺绍甲 译`})]});var nl=e=>{e.preventDefault();let t=document.querySelector(`.active`);if(!t)return;let n=t[e.code===`ArrowUp`?`previousElementSibling`:`nextElementSibling`];n&&n.dataset.key&&($c(n),n.scrollIntoView({behavior:`smooth`,block:`center`}))};const rl=()=>{ne({code:`ArrowUp`,keydown:nl}),ne({code:`ArrowDown`,keydown:nl})};var il=`vercel.ai.error`,al=Symbol.for(il),ol,sl=class e extends Error{constructor({name:e,message:t,cause:n}){super(t),this[ol]=!0,this.name=e,this.cause=n}static isInstance(t){return e.hasMarker(t,il)}static hasMarker(e,t){let n=Symbol.for(t);return typeof e==`object`&&!!e&&n in e&&typeof e[n]==`boolean`&&e[n]===!0}};ol=al;var H=sl,cl=`AI_APICallError`,ll=`vercel.ai.error.${cl}`,ul=Symbol.for(ll),dl,fl=class extends H{constructor({message:e,url:t,requestBodyValues:n,statusCode:r,responseHeaders:i,responseBody:a,cause:o,isRetryable:s=r!=null&&(r===408||r===409||r===429||r>=500),data:c}){super({name:cl,message:e,cause:o}),this[dl]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=r,this.responseHeaders=i,this.responseBody=a,this.isRetryable=s,this.data=c}static isInstance(e){return H.hasMarker(e,ll)}};dl=ul;var pl=`AI_EmptyResponseBodyError`,ml=`vercel.ai.error.${pl}`,hl=Symbol.for(ml),gl,_l=class extends H{constructor({message:e=`Empty response body`}={}){super({name:pl,message:e}),this[gl]=!0}static isInstance(e){return H.hasMarker(e,ml)}};gl=hl;function vl(e){return e==null?`unknown error`:typeof e==`string`?e:e instanceof Error?e.message:JSON.stringify(e)}var yl=`AI_InvalidArgumentError`,bl=`vercel.ai.error.${yl}`,xl=Symbol.for(bl),Sl,Cl=class extends H{constructor({message:e,cause:t,argument:n}){super({name:yl,message:e,cause:t}),this[Sl]=!0,this.argument=n}static isInstance(e){return H.hasMarker(e,bl)}};Sl=xl;var wl=`AI_InvalidPromptError`,Tl=`vercel.ai.error.${wl}`,El=Symbol.for(Tl),Dl,Ol=class extends H{constructor({prompt:e,message:t,cause:n}){super({name:wl,message:`Invalid prompt: ${t}`,cause:n}),this[Dl]=!0,this.prompt=e}static isInstance(e){return H.hasMarker(e,Tl)}};Dl=El;var kl=`AI_InvalidResponseDataError`,Al=`vercel.ai.error.${kl}`,jl=Symbol.for(Al),Ml,Nl=class extends H{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:kl,message:t}),this[Ml]=!0,this.data=e}static isInstance(e){return H.hasMarker(e,Al)}};Ml=jl;var Pl=`AI_JSONParseError`,Fl=`vercel.ai.error.${Pl}`,Il=Symbol.for(Fl),Ll,Rl=class extends H{constructor({text:e,cause:t}){super({name:Pl,message:`JSON parsing failed: Text: ${e}.
Error message: ${vl(t)}`,cause:t}),this[Ll]=!0,this.text=e}static isInstance(e){return H.hasMarker(e,Fl)}};Ll=Il;var zl=`AI_LoadAPIKeyError`,Bl=`vercel.ai.error.${zl}`,Vl=Symbol.for(Bl),Hl,Ul=class extends H{constructor({message:e}){super({name:zl,message:e}),this[Hl]=!0}static isInstance(e){return H.hasMarker(e,Bl)}};Hl=Vl;var Wl=`AI_NoSuchModelError`,Gl=`vercel.ai.error.${Wl}`,Kl=Symbol.for(Gl),ql,Jl=class extends H{constructor({errorName:e=Wl,modelId:t,modelType:n,message:r=`No such ${n}: ${t}`}){super({name:e,message:r}),this[ql]=!0,this.modelId=t,this.modelType=n}static isInstance(e){return H.hasMarker(e,Gl)}};ql=Kl;var Yl=`AI_TypeValidationError`,Xl=`vercel.ai.error.${Yl}`,Zl=Symbol.for(Xl),Ql,$l=class e extends H{constructor({value:e,cause:t}){super({name:Yl,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${vl(t)}`,cause:t}),this[Ql]=!0,this.value=e}static isInstance(e){return H.hasMarker(e,Xl)}static wrap({value:t,cause:n}){return e.isInstance(n)&&n.value===t?n:new e({value:t,cause:n})}};Ql=Zl;var eu=$l,tu=`AI_UnsupportedFunctionalityError`,nu=`vercel.ai.error.${tu}`,ru=Symbol.for(nu),iu,au=class extends H{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:tu,message:t}),this[iu]=!0,this.functionality=e}static isInstance(e){return H.hasMarker(e,nu)}};iu=ru;var ou=class extends Error{constructor(e,t){super(e),this.name=`ParseError`,this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}};function su(e){}function cu(e){if(typeof e==`function`)throw TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:t=su,onError:n=su,onRetry:r=su,onComment:i}=e,a=``,o=!0,s,c=``,l=``;function u(e){let t=o?e.replace(/^\xEF\xBB\xBF/,``):e,[n,r]=lu(`${a}${t}`);for(let e of n)d(e);a=r,o=!1}function d(e){if(e===``){p();return}if(e.startsWith(`:`)){i&&i(e.slice(e.startsWith(`: `)?2:1));return}let t=e.indexOf(`:`);if(t!==-1){let n=e.slice(0,t),r=e[t+1]===` `?2:1;f(n,e.slice(t+r),e);return}f(e,``,e)}function f(e,t,i){switch(e){case`event`:l=t;break;case`data`:c=`${c}${t}
`;break;case`id`:s=t.includes(`\0`)?void 0:t;break;case`retry`:/^\d+$/.test(t)?r(parseInt(t,10)):n(new ou(`Invalid \`retry\` value: "${t}"`,{type:`invalid-retry`,value:t,line:i}));break;default:n(new ou(`Unknown field "${e.length>20?`${e.slice(0,20)}\u2026`:e}"`,{type:`unknown-field`,field:e,value:t,line:i}));break}}function p(){c.length>0&&t({id:s,event:l||void 0,data:c.endsWith(`
`)?c.slice(0,-1):c}),s=void 0,c=``,l=``}function m(e={}){a&&e.consume&&d(a),o=!0,s=void 0,c=``,l=``,a=``}return{feed:u,reset:m}}function lu(e){let t=[],n=``,r=0;for(;r<e.length;){let i=e.indexOf(`\r`,r),a=e.indexOf(`
`,r),o=-1;if(i!==-1&&a!==-1?o=Math.min(i,a):i===-1?a!==-1&&(o=a):o=i===e.length-1?-1:i,o===-1){n=e.slice(r);break}else{let n=e.slice(r,o);t.push(n),r=o+1,e[r-1]===`\r`&&e[r]===`
`&&r++}}return[t,n]}var uu=class extends TransformStream{constructor({onError:e,onRetry:t,onComment:n}={}){let r;super({start(i){r=cu({onEvent:e=>{i.enqueue(e)},onError(t){e===`terminate`?i.error(t):typeof e==`function`&&e(t)},onRetry:t,onComment:n})},transform(e){r.feed(e)}})}};Object.freeze({status:`aborted`});function U(e,t,n){function r(n,r){var i;for(let a in Object.defineProperty(n,`_zod`,{value:n._zod??{},enumerable:!1}),(i=n._zod).traits??(i.traits=new Set),n._zod.traits.add(e),t(n,r),o.prototype)a in n||Object.defineProperty(n,a,{value:o.prototype[a].bind(n)});n._zod.constr=o,n._zod.def=r}let i=n?.Parent??Object;class a extends i{}Object.defineProperty(a,`name`,{value:e});function o(e){var t;let i=n?.Parent?new a:this;r(i,e),(t=i._zod).deferred??(t.deferred=[]);for(let e of i._zod.deferred)e();return i}return Object.defineProperty(o,`init`,{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:t=>n?.Parent&&t instanceof n.Parent?!0:t?._zod?.traits?.has(e)}),Object.defineProperty(o,`name`,{value:e}),o}var du=class extends Error{constructor(){super(`Encountered Promise during synchronous parse. Use .parseAsync() instead.`)}},fu=class extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name=`ZodEncodeError`}};const pu={};function mu(e){return e&&Object.assign(pu,e),pu}function hu(e){let t=Object.values(e).filter(e=>typeof e==`number`);return Object.entries(e).filter(([e,n])=>t.indexOf(+e)===-1).map(([e,t])=>t)}function gu(e,t){return typeof t==`bigint`?t.toString():t}function _u(e){return{get value(){{let t=e();return Object.defineProperty(this,`value`,{value:t}),t}throw Error(`cached value already set`)}}}function vu(e){return e==null}function yu(e){let t=e.startsWith(`^`)?1:0,n=e.endsWith(`$`)?e.length-1:e.length;return e.slice(t,n)}function bu(e,t){let n=(e.toString().split(`.`)[1]||``).length,r=t.toString(),i=(r.split(`.`)[1]||``).length;if(i===0&&/\d?e-\d?/.test(r)){let e=r.match(/\d?e-(\d?)/);e?.[1]&&(i=Number.parseInt(e[1]))}let a=n>i?n:i;return Number.parseInt(e.toFixed(a).replace(`.`,``))%Number.parseInt(t.toFixed(a).replace(`.`,``))/10**a}var xu=Symbol(`evaluating`);function Su(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==xu)return r===void 0&&(r=xu,r=n()),r},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function Cu(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function wu(...e){let t={};for(let n of e){let e=Object.getOwnPropertyDescriptors(n);Object.assign(t,e)}return Object.defineProperties({},t)}function Tu(e){return JSON.stringify(e)}const Eu=`captureStackTrace`in Error?Error.captureStackTrace:(...e)=>{};function Du(e){return typeof e==`object`&&!!e&&!Array.isArray(e)}const Ou=_u(()=>{if(typeof navigator<`u`&&navigator?.userAgent?.includes(`Cloudflare`))return!1;try{return Function(``),!0}catch{return!1}});function ku(e){if(Du(e)===!1)return!1;let t=e.constructor;if(t===void 0)return!0;let n=t.prototype;return!(Du(n)===!1||Object.prototype.hasOwnProperty.call(n,`isPrototypeOf`)===!1)}function Au(e){return ku(e)?{...e}:Array.isArray(e)?[...e]:e}const ju=new Set([`string`,`number`,`symbol`]);function Mu(e){return e.replace(/[.*+?^${}()|[\]\\]/g,`\\$&`)}function Nu(e,t,n){let r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function W(e){let t=e;if(!t)return{};if(typeof t==`string`)return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error==`string`?{...t,error:()=>t.error}:t}function Pu(e){return Object.keys(e).filter(t=>e[t]._zod.optin===`optional`&&e[t]._zod.optout===`optional`)}const Fu={safeint:[-(2**53-1),2**53-1],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Iu(e,t){let n=e._zod.def;return Nu(e,wu(e._zod.def,{get shape(){let e={};for(let r in t){if(!(r in n.shape))throw Error(`Unrecognized key: "${r}"`);t[r]&&(e[r]=n.shape[r])}return Cu(this,`shape`,e),e},checks:[]}))}function Lu(e,t){let n=e._zod.def;return Nu(e,wu(e._zod.def,{get shape(){let r={...e._zod.def.shape};for(let e in t){if(!(e in n.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return Cu(this,`shape`,r),r},checks:[]}))}function Ru(e,t){if(!ku(t))throw Error(`Invalid input to extend: expected a plain object`);let n=e._zod.def.checks;if(n&&n.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");return Nu(e,wu(e._zod.def,{get shape(){let n={...e._zod.def.shape,...t};return Cu(this,`shape`,n),n},checks:[]}))}function zu(e,t){if(!ku(t))throw Error(`Invalid input to safeExtend: expected a plain object`);return Nu(e,{...e._zod.def,get shape(){let n={...e._zod.def.shape,...t};return Cu(this,`shape`,n),n},checks:e._zod.def.checks})}function Bu(e,t){return Nu(e,wu(e._zod.def,{get shape(){let n={...e._zod.def.shape,...t._zod.def.shape};return Cu(this,`shape`,n),n},get catchall(){return t._zod.def.catchall},checks:[]}))}function Vu(e,t,n){return Nu(t,wu(t._zod.def,{get shape(){let r=t._zod.def.shape,i={...r};if(n)for(let t in n){if(!(t in r))throw Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=e?new e({type:`optional`,innerType:r[t]}):r[t])}else for(let t in r)i[t]=e?new e({type:`optional`,innerType:r[t]}):r[t];return Cu(this,`shape`,i),i},checks:[]}))}function Hu(e,t,n){return Nu(t,wu(t._zod.def,{get shape(){let r=t._zod.def.shape,i={...r};if(n)for(let t in n){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=new e({type:`nonoptional`,innerType:r[t]}))}else for(let t in r)i[t]=new e({type:`nonoptional`,innerType:r[t]});return Cu(this,`shape`,i),i},checks:[]}))}function Uu(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function Wu(e,t){return t.map(t=>{var n;return(n=t).path??(n.path=[]),t.path.unshift(e),t})}function Gu(e){return typeof e==`string`?e:e?.message}function Ku(e,t,n){let r={...e,path:e.path??[]};return e.message||(r.message=Gu(e.inst?._zod.def?.error?.(e))??Gu(t?.error?.(e))??Gu(n.customError?.(e))??Gu(n.localeError?.(e))??`Invalid input`),delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function qu(e){return Array.isArray(e)?`array`:typeof e==`string`?`string`:`unknown`}function Ju(...e){let[t,n,r]=e;return typeof t==`string`?{message:t,code:`custom`,input:n,inst:r}:{...t}}var Yu=(e,t)=>{e.name=`$ZodError`,Object.defineProperty(e,`_zod`,{value:e._zod,enumerable:!1}),Object.defineProperty(e,`issues`,{value:t,enumerable:!1}),e.message=JSON.stringify(t,gu,2),Object.defineProperty(e,`toString`,{value:()=>e.message,enumerable:!1})};const Xu=U(`$ZodError`,Yu),Zu=U(`$ZodError`,Yu,{Parent:Error});function Qu(e,t=e=>e.message){let n={},r=[];for(let i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function $u(e,t=e=>e.message){let n={_errors:[]},r=e=>{for(let i of e.issues)if(i.code===`invalid_union`&&i.errors.length)i.errors.map(e=>r({issues:e}));else if(i.code===`invalid_key`)r({issues:i.issues});else if(i.code===`invalid_element`)r({issues:i.issues});else if(i.path.length===0)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){let n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(e),n}const ed=e=>(t,n,r,i)=>{let a=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new du;if(o.issues.length){let t=new(i?.Err??e)(o.issues.map(e=>Ku(e,a,mu())));throw Eu(t,i?.callee),t}return o.value},td=e=>async(t,n,r,i)=>{let a=r?Object.assign(r,{async:!0}):{async:!0},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){let t=new(i?.Err??e)(o.issues.map(e=>Ku(e,a,mu())));throw Eu(t,i?.callee),t}return o.value},nd=e=>(t,n,r)=>{let i=r?{...r,async:!1}:{async:!1},a=t._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new du;return a.issues.length?{success:!1,error:new(e??Xu)(a.issues.map(e=>Ku(e,i,mu())))}:{success:!0,data:a.value}},rd=nd(Zu),id=e=>async(t,n,r)=>{let i=r?Object.assign(r,{async:!0}):{async:!0},a=t._zod.run({value:n,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(e=>Ku(e,i,mu())))}:{success:!0,data:a.value}},ad=id(Zu),od=e=>(t,n,r)=>{let i=r?Object.assign(r,{direction:`backward`}):{direction:`backward`};return ed(e)(t,n,i)},sd=e=>(t,n,r)=>ed(e)(t,n,r),cd=e=>async(t,n,r)=>{let i=r?Object.assign(r,{direction:`backward`}):{direction:`backward`};return td(e)(t,n,i)},ld=e=>async(t,n,r)=>td(e)(t,n,r),ud=e=>(t,n,r)=>{let i=r?Object.assign(r,{direction:`backward`}):{direction:`backward`};return nd(e)(t,n,i)},dd=e=>(t,n,r)=>nd(e)(t,n,r),fd=e=>async(t,n,r)=>{let i=r?Object.assign(r,{direction:`backward`}):{direction:`backward`};return id(e)(t,n,i)},pd=e=>async(t,n,r)=>id(e)(t,n,r),md=/^[cC][^\s-]{8,}$/,hd=/^[0-9a-z]+$/,gd=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,_d=/^[0-9a-vA-V]{20}$/,vd=/^[A-Za-z0-9]{27}$/,yd=/^[a-zA-Z0-9_-]{21}$/,bd=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,xd=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Sd=e=>e?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Cd=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;var wd=`^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$`;function Td(){return new RegExp(wd,`u`)}const Ed=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Dd=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Od=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,kd=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ad=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,jd=/^[A-Za-z0-9_-]*$/,Md=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Nd=/^\+(?:[0-9]){6,14}[0-9]$/;var Pd=`(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))`;const Fd=RegExp(`^${Pd}$`);function Id(e){let t=`(?:[01]\\d|2[0-3]):[0-5]\\d`;return typeof e.precision==`number`?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Ld(e){return RegExp(`^${Id(e)}$`)}function Rd(e){let t=Id({precision:e.precision}),n=[`Z`];e.local&&n.push(``),e.offset&&n.push(`([+-](?:[01]\\d|2[0-3]):[0-5]\\d)`);let r=`${t}(?:${n.join(`|`)})`;return RegExp(`^${Pd}T(?:${r})$`)}const zd=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??``}}`:`[\\s\\S]*`;return RegExp(`^${t}$`)},Bd=/^-?\d+$/,Vd=/^-?\d+(?:\.\d+)?/,Hd=/^(?:true|false)$/i;var Ud=/^null$/i;const Wd=/^[^A-Z]*$/,Gd=/^[^a-z]*$/,Kd=U(`$ZodCheck`,(e,t)=>{var n;e._zod??={},e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])});var qd={number:`number`,bigint:`bigint`,object:`date`};const Jd=U(`$ZodCheckLessThan`,(e,t)=>{Kd.init(e,t);let n=qd[typeof t.value];e._zod.onattach.push(e=>{let n=e._zod.bag,r=(t.inclusive?n.maximum:n.exclusiveMaximum)??1/0;t.value<r&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:`too_big`,maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Yd=U(`$ZodCheckGreaterThan`,(e,t)=>{Kd.init(e,t);let n=qd[typeof t.value];e._zod.onattach.push(e=>{let n=e._zod.bag,r=(t.inclusive?n.minimum:n.exclusiveMinimum)??-1/0;t.value>r&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:`too_small`,minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Xd=U(`$ZodCheckMultipleOf`,(e,t)=>{Kd.init(e,t),e._zod.onattach.push(e=>{var n;(n=e._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw Error(`Cannot mix number and bigint in multiple_of check.`);(typeof n.value==`bigint`?n.value%t.value===BigInt(0):bu(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:`not_multiple_of`,divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),Zd=U(`$ZodCheckNumberFormat`,(e,t)=>{Kd.init(e,t),t.format=t.format||`float64`;let n=t.format?.includes(`int`),r=n?`int`:`number`,[i,a]=Fu[t.format];e._zod.onattach.push(e=>{let r=e._zod.bag;r.format=t.format,r.minimum=i,r.maximum=a,n&&(r.pattern=Bd)}),e._zod.check=o=>{let s=o.value;if(n){if(!Number.isInteger(s)){o.issues.push({expected:r,format:t.format,code:`invalid_type`,continue:!1,input:s,inst:e});return}if(!Number.isSafeInteger(s)){s>0?o.issues.push({input:s,code:`too_big`,maximum:2**53-1,note:`Integers must be within the safe integer range.`,inst:e,origin:r,continue:!t.abort}):o.issues.push({input:s,code:`too_small`,minimum:-(2**53-1),note:`Integers must be within the safe integer range.`,inst:e,origin:r,continue:!t.abort});return}}s<i&&o.issues.push({origin:`number`,input:s,code:`too_small`,minimum:i,inclusive:!0,inst:e,continue:!t.abort}),s>a&&o.issues.push({origin:`number`,input:s,code:`too_big`,maximum:a,inst:e})}}),Qd=U(`$ZodCheckMaxLength`,(e,t)=>{var n;Kd.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!vu(t)&&t.length!==void 0}),e._zod.onattach.push(e=>{let n=e._zod.bag.maximum??1/0;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let r=n.value;if(r.length<=t.maximum)return;let i=qu(r);n.issues.push({origin:i,code:`too_big`,maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),$d=U(`$ZodCheckMinLength`,(e,t)=>{var n;Kd.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!vu(t)&&t.length!==void 0}),e._zod.onattach.push(e=>{let n=e._zod.bag.minimum??-1/0;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let r=n.value;if(r.length>=t.minimum)return;let i=qu(r);n.issues.push({origin:i,code:`too_small`,minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),ef=U(`$ZodCheckLengthEquals`,(e,t)=>{var n;Kd.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!vu(t)&&t.length!==void 0}),e._zod.onattach.push(e=>{let n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=n=>{let r=n.value,i=r.length;if(i===t.length)return;let a=qu(r),o=i>t.length;n.issues.push({origin:a,...o?{code:`too_big`,maximum:t.length}:{code:`too_small`,minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),tf=U(`$ZodCheckStringFormat`,(e,t)=>{var n,r;Kd.init(e,t),e._zod.onattach.push(e=>{let n=e._zod.bag;n.format=t.format,t.pattern&&(n.patterns??=new Set,n.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:`string`,code:`invalid_format`,format:t.format,input:n.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),nf=U(`$ZodCheckRegex`,(e,t)=>{tf.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:`string`,code:`invalid_format`,format:`regex`,input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),rf=U(`$ZodCheckLowerCase`,(e,t)=>{t.pattern??=Wd,tf.init(e,t)}),af=U(`$ZodCheckUpperCase`,(e,t)=>{t.pattern??=Gd,tf.init(e,t)}),of=U(`$ZodCheckIncludes`,(e,t)=>{Kd.init(e,t);let n=Mu(t.includes),r=new RegExp(typeof t.position==`number`?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??=new Set,t.patterns.add(r)}),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:`string`,code:`invalid_format`,format:`includes`,includes:t.includes,input:n.value,inst:e,continue:!t.abort})}}),sf=U(`$ZodCheckStartsWith`,(e,t)=>{Kd.init(e,t);let n=RegExp(`^${Mu(t.prefix)}.*`);t.pattern??=n,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??=new Set,t.patterns.add(n)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:`string`,code:`invalid_format`,format:`starts_with`,prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),cf=U(`$ZodCheckEndsWith`,(e,t)=>{Kd.init(e,t);let n=RegExp(`.*${Mu(t.suffix)}$`);t.pattern??=n,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??=new Set,t.patterns.add(n)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:`string`,code:`invalid_format`,format:`ends_with`,suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),lf=U(`$ZodCheckOverwrite`,(e,t)=>{Kd.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});var uf=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),--this.indent}write(e){if(typeof e==`function`){e(this,{execution:`sync`}),e(this,{execution:`async`});return}let t=e.split(`
`).filter(e=>e),n=Math.min(...t.map(e=>e.length-e.trimStart().length)),r=t.map(e=>e.slice(n)).map(e=>` `.repeat(this.indent*2)+e);for(let e of r)this.content.push(e)}compile(){let e=Function,t=this?.args,n=[...(this?.content??[``]).map(e=>`  ${e}`)];return new e(...t,n.join(`
`))}};const df={major:4,minor:1,patch:12},ff=U(`$ZodType`,(e,t)=>{var n;e??={},e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=df;let r=[...e._zod.def.checks??[]];e._zod.traits.has(`$ZodCheck`)&&r.unshift(e);for(let t of r)for(let n of t._zod.onattach)n(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,n)=>{let r=Uu(e),i;for(let a of t){if(a._zod.def.when){if(!a._zod.def.when(e))continue}else if(r)continue;let t=e.issues.length,o=a._zod.check(e);if(o instanceof Promise&&n?.async===!1)throw new du;if(i||o instanceof Promise)i=(i??Promise.resolve()).then(async()=>{await o,e.issues.length!==t&&(r||=Uu(e,t))});else{if(e.issues.length===t)continue;r||=Uu(e,t)}}return i?i.then(()=>e):e},n=(n,i,a)=>{if(Uu(n))return n.aborted=!0,n;let o=t(i,r,a);if(o instanceof Promise){if(a.async===!1)throw new du;return o.then(t=>e._zod.parse(t,a))}return e._zod.parse(o,a)};e._zod.run=(i,a)=>{if(a.skipChecks)return e._zod.parse(i,a);if(a.direction===`backward`){let t=e._zod.parse({value:i.value,issues:[]},{...a,skipChecks:!0});return t instanceof Promise?t.then(e=>n(e,i,a)):n(t,i,a)}let o=e._zod.parse(i,a);if(o instanceof Promise){if(a.async===!1)throw new du;return o.then(e=>t(e,r,a))}return t(o,r,a)}}e[`~standard`]={validate:t=>{try{let n=rd(e,t);return n.success?{value:n.data}:{issues:n.error?.issues}}catch{return ad(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:`zod`,version:1}}),pf=U(`$ZodString`,(e,t)=>{ff.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??zd(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value==`string`||n.issues.push({expected:`string`,code:`invalid_type`,input:n.value,inst:e}),n}}),mf=U(`$ZodStringFormat`,(e,t)=>{tf.init(e,t),pf.init(e,t)}),hf=U(`$ZodGUID`,(e,t)=>{t.pattern??=xd,mf.init(e,t)}),gf=U(`$ZodUUID`,(e,t)=>{if(t.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(e===void 0)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??=Sd(e)}else t.pattern??=Sd();mf.init(e,t)}),_f=U(`$ZodEmail`,(e,t)=>{t.pattern??=Cd,mf.init(e,t)}),vf=U(`$ZodURL`,(e,t)=>{mf.init(e,t),e._zod.check=n=>{try{let r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:`invalid_format`,format:`url`,note:`Invalid hostname`,pattern:Md.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(`:`)?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:`invalid_format`,format:`url`,note:`Invalid protocol`,pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:`invalid_format`,format:`url`,input:n.value,inst:e,continue:!t.abort})}}}),yf=U(`$ZodEmoji`,(e,t)=>{t.pattern??=Td(),mf.init(e,t)}),bf=U(`$ZodNanoID`,(e,t)=>{t.pattern??=yd,mf.init(e,t)}),xf=U(`$ZodCUID`,(e,t)=>{t.pattern??=md,mf.init(e,t)}),Sf=U(`$ZodCUID2`,(e,t)=>{t.pattern??=hd,mf.init(e,t)}),Cf=U(`$ZodULID`,(e,t)=>{t.pattern??=gd,mf.init(e,t)}),wf=U(`$ZodXID`,(e,t)=>{t.pattern??=_d,mf.init(e,t)}),Tf=U(`$ZodKSUID`,(e,t)=>{t.pattern??=vd,mf.init(e,t)}),Ef=U(`$ZodISODateTime`,(e,t)=>{t.pattern??=Rd(t),mf.init(e,t)}),Df=U(`$ZodISODate`,(e,t)=>{t.pattern??=Fd,mf.init(e,t)}),Of=U(`$ZodISOTime`,(e,t)=>{t.pattern??=Ld(t),mf.init(e,t)}),kf=U(`$ZodISODuration`,(e,t)=>{t.pattern??=bd,mf.init(e,t)}),Af=U(`$ZodIPv4`,(e,t)=>{t.pattern??=Ed,mf.init(e,t),e._zod.onattach.push(e=>{let t=e._zod.bag;t.format=`ipv4`})}),jf=U(`$ZodIPv6`,(e,t)=>{t.pattern??=Dd,mf.init(e,t),e._zod.onattach.push(e=>{let t=e._zod.bag;t.format=`ipv6`}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:`invalid_format`,format:`ipv6`,input:n.value,inst:e,continue:!t.abort})}}}),Mf=U(`$ZodCIDRv4`,(e,t)=>{t.pattern??=Od,mf.init(e,t)}),Nf=U(`$ZodCIDRv6`,(e,t)=>{t.pattern??=kd,mf.init(e,t),e._zod.check=n=>{let r=n.value.split(`/`);try{if(r.length!==2)throw Error();let[e,t]=r;if(!t)throw Error();let n=Number(t);if(`${n}`!==t||n<0||n>128)throw Error();new URL(`http://[${e}]`)}catch{n.issues.push({code:`invalid_format`,format:`cidrv6`,input:n.value,inst:e,continue:!t.abort})}}});function Pf(e){if(e===``)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}const Ff=U(`$ZodBase64`,(e,t)=>{t.pattern??=Ad,mf.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding=`base64`}),e._zod.check=n=>{Pf(n.value)||n.issues.push({code:`invalid_format`,format:`base64`,input:n.value,inst:e,continue:!t.abort})}});function If(e){if(!jd.test(e))return!1;let t=e.replace(/[-_]/g,e=>e===`-`?`+`:`/`);return Pf(t.padEnd(Math.ceil(t.length/4)*4,`=`))}const Lf=U(`$ZodBase64URL`,(e,t)=>{t.pattern??=jd,mf.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding=`base64url`}),e._zod.check=n=>{If(n.value)||n.issues.push({code:`invalid_format`,format:`base64url`,input:n.value,inst:e,continue:!t.abort})}}),Rf=U(`$ZodE164`,(e,t)=>{t.pattern??=Nd,mf.init(e,t)});function zf(e,t=null){try{let n=e.split(`.`);if(n.length!==3)return!1;let[r]=n;if(!r)return!1;let i=JSON.parse(atob(r));return!(`typ`in i&&i?.typ!==`JWT`||!i.alg||t&&(!(`alg`in i)||i.alg!==t))}catch{return!1}}const Bf=U(`$ZodJWT`,(e,t)=>{mf.init(e,t),e._zod.check=n=>{zf(n.value,t.alg)||n.issues.push({code:`invalid_format`,format:`jwt`,input:n.value,inst:e,continue:!t.abort})}}),Vf=U(`$ZodNumber`,(e,t)=>{ff.init(e,t),e._zod.pattern=e._zod.bag.pattern??Vd,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}let i=n.value;if(typeof i==`number`&&!Number.isNaN(i)&&Number.isFinite(i))return n;let a=typeof i==`number`?Number.isNaN(i)?`NaN`:Number.isFinite(i)?void 0:`Infinity`:void 0;return n.issues.push({expected:`number`,code:`invalid_type`,input:i,inst:e,...a?{received:a}:{}}),n}}),Hf=U(`$ZodNumber`,(e,t)=>{Zd.init(e,t),Vf.init(e,t)}),Uf=U(`$ZodBoolean`,(e,t)=>{ff.init(e,t),e._zod.pattern=Hd,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}let i=n.value;return typeof i==`boolean`||n.issues.push({expected:`boolean`,code:`invalid_type`,input:i,inst:e}),n}}),Wf=U(`$ZodNull`,(e,t)=>{ff.init(e,t),e._zod.pattern=Ud,e._zod.values=new Set([null]),e._zod.parse=(t,n)=>{let r=t.value;return r===null||t.issues.push({expected:`null`,code:`invalid_type`,input:r,inst:e}),t}}),Gf=U(`$ZodAny`,(e,t)=>{ff.init(e,t),e._zod.parse=e=>e}),Kf=U(`$ZodUnknown`,(e,t)=>{ff.init(e,t),e._zod.parse=e=>e}),qf=U(`$ZodNever`,(e,t)=>{ff.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:`never`,code:`invalid_type`,input:t.value,inst:e}),t)});function Jf(e,t,n){e.issues.length&&t.issues.push(...Wu(n,e.issues)),t.value[n]=e.value}const Yf=U(`$ZodArray`,(e,t)=>{ff.init(e,t),e._zod.parse=(n,r)=>{let i=n.value;if(!Array.isArray(i))return n.issues.push({expected:`array`,code:`invalid_type`,input:i,inst:e}),n;n.value=Array(i.length);let a=[];for(let e=0;e<i.length;e++){let o=i[e],s=t.element._zod.run({value:o,issues:[]},r);s instanceof Promise?a.push(s.then(t=>Jf(t,n,e))):Jf(s,n,e)}return a.length?Promise.all(a).then(()=>n):n}});function Xf(e,t,n,r){e.issues.length&&t.issues.push(...Wu(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Zf(e){let t=Object.keys(e.shape);for(let n of t)if(!e.shape?.[n]?._zod?.traits?.has(`$ZodType`))throw Error(`Invalid element at key "${n}": expected a Zod schema`);let n=Pu(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Qf(e,t,n,r,i,a){let o=[],s=i.keySet,c=i.catchall._zod,l=c.def.type;for(let i of Object.keys(t)){if(s.has(i))continue;if(l===`never`){o.push(i);continue}let a=c.run({value:t[i],issues:[]},r);a instanceof Promise?e.push(a.then(e=>Xf(e,n,i,t))):Xf(a,n,i,t)}return o.length&&n.issues.push({code:`unrecognized_keys`,keys:o,input:t,inst:a}),e.length?Promise.all(e).then(()=>n):n}const $f=U(`$ZodObject`,(e,t)=>{if(ff.init(e,t),!Object.getOwnPropertyDescriptor(t,`shape`)?.get){let e=t.shape;Object.defineProperty(t,`shape`,{get:()=>{let n={...e};return Object.defineProperty(t,`shape`,{value:n}),n}})}let n=_u(()=>Zf(t));Su(e._zod,`propValues`,()=>{let e=t.shape,n={};for(let t in e){let r=e[t]._zod;if(r.values){n[t]??(n[t]=new Set);for(let e of r.values)n[t].add(e)}}return n});let r=Du,i=t.catchall,a;e._zod.parse=(t,o)=>{a??=n.value;let s=t.value;if(!r(s))return t.issues.push({expected:`object`,code:`invalid_type`,input:s,inst:e}),t;t.value={};let c=[],l=a.shape;for(let e of a.keys){let n=l[e]._zod.run({value:s[e],issues:[]},o);n instanceof Promise?c.push(n.then(n=>Xf(n,t,e,s))):Xf(n,t,e,s)}return i?Qf(c,s,t,o,n.value,e):c.length?Promise.all(c).then(()=>t):t}}),ep=U(`$ZodObjectJIT`,(e,t)=>{$f.init(e,t);let n=e._zod.parse,r=_u(()=>Zf(t)),i=e=>{let t=new uf([`shape`,`payload`,`ctx`]),n=r.value,i=e=>{let t=Tu(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write(`const input = payload.value;`);let a=Object.create(null),o=0;for(let e of n.keys)a[e]=`key_${o++}`;t.write(`const newResult = {};`);for(let e of n.keys){let n=a[e],r=Tu(e);t.write(`const ${n} = ${i(e)};`),t.write(`
        if (${n}.issues.length) {
          payload.issues = payload.issues.concat(${n}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${r}, ...iss.path] : [${r}]
          })));
        }
        
        
        if (${n}.value === undefined) {
          if (${r} in input) {
            newResult[${r}] = undefined;
          }
        } else {
          newResult[${r}] = ${n}.value;
        }
        
      `)}t.write(`payload.value = newResult;`),t.write(`return payload;`);let s=t.compile();return(t,n)=>s(e,t,n)},a,o=Du,s=!pu.jitless,c=s&&Ou.value,l=t.catchall,u;e._zod.parse=(d,f)=>{u??=r.value;let p=d.value;return o(p)?s&&c&&f?.async===!1&&f.jitless!==!0?(a||=i(t.shape),d=a(d,f),l?Qf([],p,d,f,u,e):d):n(d,f):(d.issues.push({expected:`object`,code:`invalid_type`,input:p,inst:e}),d)}});function tp(e,t,n,r){for(let n of e)if(n.issues.length===0)return t.value=n.value,t;let i=e.filter(e=>!Uu(e));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:`invalid_union`,input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>Ku(e,r,mu())))}),t)}const np=U(`$ZodUnion`,(e,t)=>{ff.init(e,t),Su(e._zod,`optin`,()=>t.options.some(e=>e._zod.optin===`optional`)?`optional`:void 0),Su(e._zod,`optout`,()=>t.options.some(e=>e._zod.optout===`optional`)?`optional`:void 0),Su(e._zod,`values`,()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),Su(e._zod,`pattern`,()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>yu(e.source)).join(`|`)})$`)}});let n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,a)=>{if(n)return r(i,a);let o=!1,s=[];for(let e of t.options){let t=e._zod.run({value:i.value,issues:[]},a);if(t instanceof Promise)s.push(t),o=!0;else{if(t.issues.length===0)return t;s.push(t)}}return o?Promise.all(s).then(t=>tp(t,i,e,a)):tp(s,i,e,a)}}),rp=U(`$ZodDiscriminatedUnion`,(e,t)=>{np.init(e,t);let n=e._zod.parse;Su(e._zod,`propValues`,()=>{let e={};for(let n of t.options){let r=n._zod.propValues;if(!r||Object.keys(r).length===0)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(n)}"`);for(let[t,n]of Object.entries(r)){e[t]||(e[t]=new Set);for(let r of n)e[t].add(r)}}return e});let r=_u(()=>{let e=t.options,n=new Map;for(let r of e){let e=r._zod.propValues?.[t.discriminator];if(!e||e.size===0)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(let t of e){if(n.has(t))throw Error(`Duplicate discriminator value "${String(t)}"`);n.set(t,r)}}return n});e._zod.parse=(i,a)=>{let o=i.value;if(!Du(o))return i.issues.push({code:`invalid_type`,expected:`object`,input:o,inst:e}),i;let s=r.value.get(o?.[t.discriminator]);return s?s._zod.run(i,a):t.unionFallback?n(i,a):(i.issues.push({code:`invalid_union`,errors:[],note:`No matching discriminator`,discriminator:t.discriminator,input:o,path:[t.discriminator],inst:e}),i)}}),ip=U(`$ZodIntersection`,(e,t)=>{ff.init(e,t),e._zod.parse=(e,n)=>{let r=e.value,i=t.left._zod.run({value:r,issues:[]},n),a=t.right._zod.run({value:r,issues:[]},n);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([t,n])=>op(e,t,n)):op(e,i,a)}});function ap(e,t){if(e===t||e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ku(e)&&ku(t)){let n=Object.keys(t),r=Object.keys(e).filter(e=>n.indexOf(e)!==-1),i={...e,...t};for(let n of r){let r=ap(e[n],t[n]);if(!r.valid)return{valid:!1,mergeErrorPath:[n,...r.mergeErrorPath]};i[n]=r.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};let n=[];for(let r=0;r<e.length;r++){let i=e[r],a=t[r],o=ap(i,a);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function op(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Uu(e))return e;let r=ap(t.value,n.value);if(!r.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const sp=U(`$ZodRecord`,(e,t)=>{ff.init(e,t),e._zod.parse=(n,r)=>{let i=n.value;if(!ku(i))return n.issues.push({expected:`record`,code:`invalid_type`,input:i,inst:e}),n;let a=[];if(t.keyType._zod.values){let o=t.keyType._zod.values;n.value={};for(let e of o)if(typeof e==`string`||typeof e==`number`||typeof e==`symbol`){let o=t.valueType._zod.run({value:i[e],issues:[]},r);o instanceof Promise?a.push(o.then(t=>{t.issues.length&&n.issues.push(...Wu(e,t.issues)),n.value[e]=t.value})):(o.issues.length&&n.issues.push(...Wu(e,o.issues)),n.value[e]=o.value)}let s;for(let e in i)o.has(e)||(s??=[],s.push(e));s&&s.length>0&&n.issues.push({code:`unrecognized_keys`,input:i,inst:e,keys:s})}else{n.value={};for(let o of Reflect.ownKeys(i)){if(o===`__proto__`)continue;let s=t.keyType._zod.run({value:o,issues:[]},r);if(s instanceof Promise)throw Error(`Async schemas not supported in object keys currently`);if(s.issues.length){n.issues.push({code:`invalid_key`,origin:`record`,issues:s.issues.map(e=>Ku(e,r,mu())),input:o,path:[o],inst:e}),n.value[s.value]=s.value;continue}let c=t.valueType._zod.run({value:i[o],issues:[]},r);c instanceof Promise?a.push(c.then(e=>{e.issues.length&&n.issues.push(...Wu(o,e.issues)),n.value[s.value]=e.value})):(c.issues.length&&n.issues.push(...Wu(o,c.issues)),n.value[s.value]=c.value)}}return a.length?Promise.all(a).then(()=>n):n}}),cp=U(`$ZodEnum`,(e,t)=>{ff.init(e,t);let n=hu(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=RegExp(`^(${n.filter(e=>ju.has(typeof e)).map(e=>typeof e==`string`?Mu(e):e.toString()).join(`|`)})$`),e._zod.parse=(t,i)=>{let a=t.value;return r.has(a)||t.issues.push({code:`invalid_value`,values:n,input:a,inst:e}),t}}),lp=U(`$ZodLiteral`,(e,t)=>{if(ff.init(e,t),t.values.length===0)throw Error(`Cannot create literal schema with no valid values`);e._zod.values=new Set(t.values),e._zod.pattern=RegExp(`^(${t.values.map(e=>typeof e==`string`?Mu(e):e?Mu(e.toString()):String(e)).join(`|`)})$`),e._zod.parse=(n,r)=>{let i=n.value;return e._zod.values.has(i)||n.issues.push({code:`invalid_value`,values:t.values,input:i,inst:e}),n}}),up=U(`$ZodTransform`,(e,t)=>{ff.init(e,t),e._zod.parse=(n,r)=>{if(r.direction===`backward`)throw new fu(e.constructor.name);let i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(e=>(n.value=e,n));if(i instanceof Promise)throw new du;return n.value=i,n}});function dp(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const fp=U(`$ZodOptional`,(e,t)=>{ff.init(e,t),e._zod.optin=`optional`,e._zod.optout=`optional`,Su(e._zod,`values`,()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Su(e._zod,`pattern`,()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${yu(e.source)})?$`):void 0}),e._zod.parse=(e,n)=>{if(t.innerType._zod.optin===`optional`){let r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>dp(t,e.value)):dp(r,e.value)}return e.value===void 0?e:t.innerType._zod.run(e,n)}}),pp=U(`$ZodNullable`,(e,t)=>{ff.init(e,t),Su(e._zod,`optin`,()=>t.innerType._zod.optin),Su(e._zod,`optout`,()=>t.innerType._zod.optout),Su(e._zod,`pattern`,()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${yu(e.source)}|null)$`):void 0}),Su(e._zod,`values`,()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,n)=>e.value===null?e:t.innerType._zod.run(e,n)}),mp=U(`$ZodDefault`,(e,t)=>{ff.init(e,t),e._zod.optin=`optional`,Su(e._zod,`values`,()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if(n.direction===`backward`)return t.innerType._zod.run(e,n);if(e.value===void 0)return e.value=t.defaultValue,e;let r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(e=>hp(e,t)):hp(r,t)}});function hp(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const gp=U(`$ZodPrefault`,(e,t)=>{ff.init(e,t),e._zod.optin=`optional`,Su(e._zod,`values`,()=>t.innerType._zod.values),e._zod.parse=(e,n)=>(n.direction===`backward`||e.value===void 0&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))}),_p=U(`$ZodNonOptional`,(e,t)=>{ff.init(e,t),Su(e._zod,`values`,()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>e!==void 0)):void 0}),e._zod.parse=(n,r)=>{let i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(t=>vp(t,e)):vp(i,e)}});function vp(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:`invalid_type`,expected:`nonoptional`,input:e.value,inst:t}),e}const yp=U(`$ZodCatch`,(e,t)=>{ff.init(e,t),Su(e._zod,`optin`,()=>t.innerType._zod.optin),Su(e._zod,`optout`,()=>t.innerType._zod.optout),Su(e._zod,`values`,()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if(n.direction===`backward`)return t.innerType._zod.run(e,n);let r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>Ku(e,n,mu()))},input:e.value}),e.issues=[]),e)):(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>Ku(e,n,mu()))},input:e.value}),e.issues=[]),e)}}),bp=U(`$ZodPipe`,(e,t)=>{ff.init(e,t),Su(e._zod,`values`,()=>t.in._zod.values),Su(e._zod,`optin`,()=>t.in._zod.optin),Su(e._zod,`optout`,()=>t.out._zod.optout),Su(e._zod,`propValues`,()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if(n.direction===`backward`){let r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>xp(e,t.in,n)):xp(r,t.in,n)}let r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>xp(e,t.out,n)):xp(r,t.out,n)}});function xp(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Sp=U(`$ZodReadonly`,(e,t)=>{ff.init(e,t),Su(e._zod,`propValues`,()=>t.innerType._zod.propValues),Su(e._zod,`values`,()=>t.innerType._zod.values),Su(e._zod,`optin`,()=>t.innerType._zod.optin),Su(e._zod,`optout`,()=>t.innerType._zod.optout),e._zod.parse=(e,n)=>{if(n.direction===`backward`)return t.innerType._zod.run(e,n);let r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(Cp):Cp(r)}});function Cp(e){return e.value=Object.freeze(e.value),e}const wp=U(`$ZodLazy`,(e,t)=>{ff.init(e,t),Su(e._zod,`innerType`,()=>t.getter()),Su(e._zod,`pattern`,()=>e._zod.innerType._zod.pattern),Su(e._zod,`propValues`,()=>e._zod.innerType._zod.propValues),Su(e._zod,`optin`,()=>e._zod.innerType._zod.optin??void 0),Su(e._zod,`optout`,()=>e._zod.innerType._zod.optout??void 0),e._zod.parse=(t,n)=>e._zod.innerType._zod.run(t,n)}),Tp=U(`$ZodCustom`,(e,t)=>{Kd.init(e,t),ff.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{let r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(t=>Ep(t,n,r,e));Ep(i,n,r,e)}});function Ep(e,t,n,r){if(!e){let e={code:`custom`,input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(Ju(e))}}var Dp=class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){let n=t[0];if(this._map.set(e,n),n&&typeof n==`object`&&`id`in n){if(this._idmap.has(n.id))throw Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&typeof t==`object`&&`id`in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let n={...this.get(t)??{}};delete n.id;let r={...n,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}};function Op(){return new Dp}const kp=Op();function Ap(e,t){return new e({type:`string`,...W(t)})}function jp(e,t){return new e({type:`string`,format:`email`,check:`string_format`,abort:!1,...W(t)})}function Mp(e,t){return new e({type:`string`,format:`guid`,check:`string_format`,abort:!1,...W(t)})}function Np(e,t){return new e({type:`string`,format:`uuid`,check:`string_format`,abort:!1,...W(t)})}function Pp(e,t){return new e({type:`string`,format:`uuid`,check:`string_format`,abort:!1,version:`v4`,...W(t)})}function Fp(e,t){return new e({type:`string`,format:`uuid`,check:`string_format`,abort:!1,version:`v6`,...W(t)})}function Ip(e,t){return new e({type:`string`,format:`uuid`,check:`string_format`,abort:!1,version:`v7`,...W(t)})}function Lp(e,t){return new e({type:`string`,format:`url`,check:`string_format`,abort:!1,...W(t)})}function Rp(e,t){return new e({type:`string`,format:`emoji`,check:`string_format`,abort:!1,...W(t)})}function zp(e,t){return new e({type:`string`,format:`nanoid`,check:`string_format`,abort:!1,...W(t)})}function Bp(e,t){return new e({type:`string`,format:`cuid`,check:`string_format`,abort:!1,...W(t)})}function Vp(e,t){return new e({type:`string`,format:`cuid2`,check:`string_format`,abort:!1,...W(t)})}function Hp(e,t){return new e({type:`string`,format:`ulid`,check:`string_format`,abort:!1,...W(t)})}function Up(e,t){return new e({type:`string`,format:`xid`,check:`string_format`,abort:!1,...W(t)})}function Wp(e,t){return new e({type:`string`,format:`ksuid`,check:`string_format`,abort:!1,...W(t)})}function Gp(e,t){return new e({type:`string`,format:`ipv4`,check:`string_format`,abort:!1,...W(t)})}function Kp(e,t){return new e({type:`string`,format:`ipv6`,check:`string_format`,abort:!1,...W(t)})}function qp(e,t){return new e({type:`string`,format:`cidrv4`,check:`string_format`,abort:!1,...W(t)})}function Jp(e,t){return new e({type:`string`,format:`cidrv6`,check:`string_format`,abort:!1,...W(t)})}function Yp(e,t){return new e({type:`string`,format:`base64`,check:`string_format`,abort:!1,...W(t)})}function Xp(e,t){return new e({type:`string`,format:`base64url`,check:`string_format`,abort:!1,...W(t)})}function Zp(e,t){return new e({type:`string`,format:`e164`,check:`string_format`,abort:!1,...W(t)})}function Qp(e,t){return new e({type:`string`,format:`jwt`,check:`string_format`,abort:!1,...W(t)})}function $p(e,t){return new e({type:`string`,format:`datetime`,check:`string_format`,offset:!1,local:!1,precision:null,...W(t)})}function em(e,t){return new e({type:`string`,format:`date`,check:`string_format`,...W(t)})}function tm(e,t){return new e({type:`string`,format:`time`,check:`string_format`,precision:null,...W(t)})}function nm(e,t){return new e({type:`string`,format:`duration`,check:`string_format`,...W(t)})}function rm(e,t){return new e({type:`number`,checks:[],...W(t)})}function im(e,t){return new e({type:`number`,check:`number_format`,abort:!1,format:`safeint`,...W(t)})}function am(e,t){return new e({type:`boolean`,...W(t)})}function om(e,t){return new e({type:`null`,...W(t)})}function sm(e){return new e({type:`any`})}function cm(e){return new e({type:`unknown`})}function lm(e,t){return new e({type:`never`,...W(t)})}function um(e,t){return new Jd({check:`less_than`,...W(t),value:e,inclusive:!1})}function dm(e,t){return new Jd({check:`less_than`,...W(t),value:e,inclusive:!0})}function fm(e,t){return new Yd({check:`greater_than`,...W(t),value:e,inclusive:!1})}function pm(e,t){return new Yd({check:`greater_than`,...W(t),value:e,inclusive:!0})}function mm(e,t){return new Xd({check:`multiple_of`,...W(t),value:e})}function hm(e,t){return new Qd({check:`max_length`,...W(t),maximum:e})}function gm(e,t){return new $d({check:`min_length`,...W(t),minimum:e})}function _m(e,t){return new ef({check:`length_equals`,...W(t),length:e})}function vm(e,t){return new nf({check:`string_format`,format:`regex`,...W(t),pattern:e})}function ym(e){return new rf({check:`string_format`,format:`lowercase`,...W(e)})}function bm(e){return new af({check:`string_format`,format:`uppercase`,...W(e)})}function xm(e,t){return new of({check:`string_format`,format:`includes`,...W(t),includes:e})}function Sm(e,t){return new sf({check:`string_format`,format:`starts_with`,...W(t),prefix:e})}function Cm(e,t){return new cf({check:`string_format`,format:`ends_with`,...W(t),suffix:e})}function wm(e){return new lf({check:`overwrite`,tx:e})}function Tm(e){return wm(t=>t.normalize(e))}function Em(){return wm(e=>e.trim())}function Dm(){return wm(e=>e.toLowerCase())}function Om(){return wm(e=>e.toUpperCase())}function km(e,t,n){return new e({type:`array`,element:t,...W(n)})}function Am(e,t,n){let r=W(n);return r.abort??=!0,new e({type:`custom`,check:`custom`,fn:t,...r})}function jm(e,t,n){return new e({type:`custom`,check:`custom`,fn:t,...W(n)})}function Mm(e){let t=Nm(n=>(n.addIssue=e=>{if(typeof e==`string`)n.issues.push(Ju(e,n.value,t._zod.def));else{let r=e;r.fatal&&(r.continue=!1),r.code??=`custom`,r.input??=n.value,r.inst??=t,r.continue??=!t._zod.def.abort,n.issues.push(Ju(r))}},e(n.value,n)));return t}function Nm(e,t){let n=new Kd({check:`custom`,...W(t)});return n._zod.check=e,n}var Pm=class{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??kp,this.target=e?.target??`draft-2020-12`,this.unrepresentable=e?.unrepresentable??`throw`,this.override=e?.override??(()=>{}),this.io=e?.io??`output`,this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var n;let r=e._zod.def,i={guid:`uuid`,url:`uri`,datetime:`date-time`,json_string:`json-string`,regex:``},a=this.seen.get(e);if(a)return a.count++,t.schemaPath.includes(e)&&(a.cycle=t.path),a.schema;let o={schema:{},count:1,cycle:void 0,path:t.path};this.seen.set(e,o);let s=e._zod.toJSONSchema?.();if(s)o.schema=s;else{let n={...t,schemaPath:[...t.schemaPath,e],path:t.path},a=e._zod.parent;if(a)o.ref=a,this.process(a,n),this.seen.get(a).isParent=!0;else{let t=o.schema;switch(r.type){case`string`:{let n=t;n.type=`string`;let{minimum:r,maximum:a,format:s,patterns:c,contentEncoding:l}=e._zod.bag;if(typeof r==`number`&&(n.minLength=r),typeof a==`number`&&(n.maxLength=a),s&&(n.format=i[s]??s,n.format===``&&delete n.format),l&&(n.contentEncoding=l),c&&c.size>0){let e=[...c];e.length===1?n.pattern=e[0].source:e.length>1&&(o.schema.allOf=[...e.map(e=>({...this.target===`draft-7`||this.target===`draft-4`||this.target===`openapi-3.0`?{type:`string`}:{},pattern:e.source}))])}break}case`number`:{let n=t,{minimum:r,maximum:i,format:a,multipleOf:o,exclusiveMaximum:s,exclusiveMinimum:c}=e._zod.bag;typeof a==`string`&&a.includes(`int`)?n.type=`integer`:n.type=`number`,typeof c==`number`&&(this.target===`draft-4`||this.target===`openapi-3.0`?(n.minimum=c,n.exclusiveMinimum=!0):n.exclusiveMinimum=c),typeof r==`number`&&(n.minimum=r,typeof c==`number`&&this.target!==`draft-4`&&(c>=r?delete n.minimum:delete n.exclusiveMinimum)),typeof s==`number`&&(this.target===`draft-4`||this.target===`openapi-3.0`?(n.maximum=s,n.exclusiveMaximum=!0):n.exclusiveMaximum=s),typeof i==`number`&&(n.maximum=i,typeof s==`number`&&this.target!==`draft-4`&&(s<=i?delete n.maximum:delete n.exclusiveMaximum)),typeof o==`number`&&(n.multipleOf=o);break}case`boolean`:{let e=t;e.type=`boolean`;break}case`bigint`:if(this.unrepresentable===`throw`)throw Error(`BigInt cannot be represented in JSON Schema`);break;case`symbol`:if(this.unrepresentable===`throw`)throw Error(`Symbols cannot be represented in JSON Schema`);break;case`null`:this.target===`openapi-3.0`?(t.type=`string`,t.nullable=!0,t.enum=[null]):t.type=`null`;break;case`any`:break;case`unknown`:break;case`undefined`:if(this.unrepresentable===`throw`)throw Error(`Undefined cannot be represented in JSON Schema`);break;case`void`:if(this.unrepresentable===`throw`)throw Error(`Void cannot be represented in JSON Schema`);break;case`never`:t.not={};break;case`date`:if(this.unrepresentable===`throw`)throw Error(`Date cannot be represented in JSON Schema`);break;case`array`:{let i=t,{minimum:a,maximum:o}=e._zod.bag;typeof a==`number`&&(i.minItems=a),typeof o==`number`&&(i.maxItems=o),i.type=`array`,i.items=this.process(r.element,{...n,path:[...n.path,`items`]});break}case`object`:{let e=t;e.type=`object`,e.properties={};let i=r.shape;for(let t in i)e.properties[t]=this.process(i[t],{...n,path:[...n.path,`properties`,t]});let a=new Set(Object.keys(i)),o=new Set([...a].filter(e=>{let t=r.shape[e]._zod;return this.io===`input`?t.optin===void 0:t.optout===void 0}));o.size>0&&(e.required=Array.from(o)),r.catchall?._zod.def.type===`never`?e.additionalProperties=!1:r.catchall?r.catchall&&(e.additionalProperties=this.process(r.catchall,{...n,path:[...n.path,`additionalProperties`]})):this.io===`output`&&(e.additionalProperties=!1);break}case`union`:{let e=t;e.anyOf=r.options.map((e,t)=>this.process(e,{...n,path:[...n.path,`anyOf`,t]}));break}case`intersection`:{let e=t,i=this.process(r.left,{...n,path:[...n.path,`allOf`,0]}),a=this.process(r.right,{...n,path:[...n.path,`allOf`,1]}),o=e=>`allOf`in e&&Object.keys(e).length===1;e.allOf=[...o(i)?i.allOf:[i],...o(a)?a.allOf:[a]];break}case`tuple`:{let i=t;i.type=`array`;let a=this.target===`draft-2020-12`?`prefixItems`:`items`,o=this.target===`draft-2020-12`||this.target===`openapi-3.0`?`items`:`additionalItems`,s=r.items.map((e,t)=>this.process(e,{...n,path:[...n.path,a,t]})),c=r.rest?this.process(r.rest,{...n,path:[...n.path,o,...this.target===`openapi-3.0`?[r.items.length]:[]]}):null;this.target===`draft-2020-12`?(i.prefixItems=s,c&&(i.items=c)):this.target===`openapi-3.0`?(i.items={anyOf:s},c&&i.items.anyOf.push(c),i.minItems=s.length,c||(i.maxItems=s.length)):(i.items=s,c&&(i.additionalItems=c));let{minimum:l,maximum:u}=e._zod.bag;typeof l==`number`&&(i.minItems=l),typeof u==`number`&&(i.maxItems=u);break}case`record`:{let e=t;e.type=`object`,(this.target===`draft-7`||this.target===`draft-2020-12`)&&(e.propertyNames=this.process(r.keyType,{...n,path:[...n.path,`propertyNames`]})),e.additionalProperties=this.process(r.valueType,{...n,path:[...n.path,`additionalProperties`]});break}case`map`:if(this.unrepresentable===`throw`)throw Error(`Map cannot be represented in JSON Schema`);break;case`set`:if(this.unrepresentable===`throw`)throw Error(`Set cannot be represented in JSON Schema`);break;case`enum`:{let e=t,n=hu(r.entries);n.every(e=>typeof e==`number`)&&(e.type=`number`),n.every(e=>typeof e==`string`)&&(e.type=`string`),e.enum=n;break}case`literal`:{let e=t,n=[];for(let e of r.values)if(e===void 0){if(this.unrepresentable===`throw`)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof e==`bigint`){if(this.unrepresentable===`throw`)throw Error(`BigInt literals cannot be represented in JSON Schema`);n.push(Number(e))}else n.push(e);if(n.length!==0)if(n.length===1){let t=n[0];e.type=t===null?`null`:typeof t,this.target===`draft-4`||this.target===`openapi-3.0`?e.enum=[t]:e.const=t}else n.every(e=>typeof e==`number`)&&(e.type=`number`),n.every(e=>typeof e==`string`)&&(e.type=`string`),n.every(e=>typeof e==`boolean`)&&(e.type=`string`),n.every(e=>e===null)&&(e.type=`null`),e.enum=n;break}case`file`:{let n=t,r={type:`string`,format:`binary`,contentEncoding:`binary`},{minimum:i,maximum:a,mime:o}=e._zod.bag;i!==void 0&&(r.minLength=i),a!==void 0&&(r.maxLength=a),o?o.length===1?(r.contentMediaType=o[0],Object.assign(n,r)):n.anyOf=o.map(e=>({...r,contentMediaType:e})):Object.assign(n,r);break}case`transform`:if(this.unrepresentable===`throw`)throw Error(`Transforms cannot be represented in JSON Schema`);break;case`nullable`:{let e=this.process(r.innerType,n);this.target===`openapi-3.0`?(o.ref=r.innerType,t.nullable=!0):t.anyOf=[e,{type:`null`}];break}case`nonoptional`:this.process(r.innerType,n),o.ref=r.innerType;break;case`success`:{let e=t;e.type=`boolean`;break}case`default`:this.process(r.innerType,n),o.ref=r.innerType,t.default=JSON.parse(JSON.stringify(r.defaultValue));break;case`prefault`:this.process(r.innerType,n),o.ref=r.innerType,this.io===`input`&&(t._prefault=JSON.parse(JSON.stringify(r.defaultValue)));break;case`catch`:{this.process(r.innerType,n),o.ref=r.innerType;let e;try{e=r.catchValue(void 0)}catch{throw Error(`Dynamic catch values are not supported in JSON Schema`)}t.default=e;break}case`nan`:if(this.unrepresentable===`throw`)throw Error(`NaN cannot be represented in JSON Schema`);break;case`template_literal`:{let n=t,r=e._zod.pattern;if(!r)throw Error(`Pattern not found in template literal`);n.type=`string`,n.pattern=r.source;break}case`pipe`:{let e=this.io===`input`?r.in._zod.def.type===`transform`?r.out:r.in:r.out;this.process(e,n),o.ref=e;break}case`readonly`:this.process(r.innerType,n),o.ref=r.innerType,t.readOnly=!0;break;case`promise`:this.process(r.innerType,n),o.ref=r.innerType;break;case`optional`:this.process(r.innerType,n),o.ref=r.innerType;break;case`lazy`:{let t=e._zod.innerType;this.process(t,n),o.ref=t;break}case`custom`:if(this.unrepresentable===`throw`)throw Error(`Custom types cannot be represented in JSON Schema`);break;case`function`:if(this.unrepresentable===`throw`)throw Error(`Function types cannot be represented in JSON Schema`);break;default:}}}let c=this.metadataRegistry.get(e);return c&&Object.assign(o.schema,c),this.io===`input`&&Im(e)&&(delete o.schema.examples,delete o.schema.default),this.io===`input`&&o.schema._prefault&&((n=o.schema).default??(n.default=o.schema._prefault)),delete o.schema._prefault,this.seen.get(e).schema}emit(e,t){let n={cycles:t?.cycles??`ref`,reused:t?.reused??`inline`,external:t?.external??void 0},r=this.seen.get(e);if(!r)throw Error(`Unprocessed schema. This is a bug in Zod.`);let i=e=>{let t=this.target===`draft-2020-12`?`$defs`:`definitions`;if(n.external){let r=n.external.registry.get(e[0])?.id,i=n.external.uri??(e=>e);if(r)return{ref:i(r)};let a=e[1].defId??e[1].schema.id??`schema${this.counter++}`;return e[1].defId=a,{defId:a,ref:`${i(`__shared`)}#/${t}/${a}`}}if(e[1]===r)return{ref:`#`};let i=`#/${t}/`,a=e[1].schema.id??`__schema${this.counter++}`;return{defId:a,ref:i+a}},a=e=>{if(e[1].schema.$ref)return;let t=e[1],{ref:n,defId:r}=i(e);t.def={...t.schema},r&&(t.defId=r);let a=t.schema;for(let e in a)delete a[e];a.$ref=n};if(n.cycles===`throw`)for(let e of this.seen.entries()){let t=e[1];if(t.cycle)throw Error(`Cycle detected: #/${t.cycle?.join(`/`)}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let t of this.seen.entries()){let r=t[1];if(e===t[0]){a(t);continue}if(n.external){let r=n.external.registry.get(t[0])?.id;if(e!==t[0]&&r){a(t);continue}}if(this.metadataRegistry.get(t[0])?.id){a(t);continue}if(r.cycle){a(t);continue}if(r.count>1&&n.reused===`ref`){a(t);continue}}let o=(e,t)=>{let n=this.seen.get(e),r=n.def??n.schema,i={...r};if(n.ref===null)return;let a=n.ref;if(n.ref=null,a){o(a,t);let e=this.seen.get(a).schema;e.$ref&&(t.target===`draft-7`||t.target===`draft-4`||t.target===`openapi-3.0`)?(r.allOf=r.allOf??[],r.allOf.push(e)):(Object.assign(r,e),Object.assign(r,i))}n.isParent||this.override({zodSchema:e,jsonSchema:r,path:n.path??[]})};for(let e of[...this.seen.entries()].reverse())o(e[0],{target:this.target});let s={};if(this.target===`draft-2020-12`?s.$schema=`https://json-schema.org/draft/2020-12/schema`:this.target===`draft-7`?s.$schema=`http://json-schema.org/draft-07/schema#`:this.target===`draft-4`?s.$schema=`http://json-schema.org/draft-04/schema#`:this.target===`openapi-3.0`||console.warn(`Invalid target: ${this.target}`),n.external?.uri){let t=n.external.registry.get(e)?.id;if(!t)throw Error("Schema is missing an `id` property");s.$id=n.external.uri(t)}Object.assign(s,r.def);let c=n.external?.defs??{};for(let e of this.seen.entries()){let t=e[1];t.def&&t.defId&&(c[t.defId]=t.def)}n.external||Object.keys(c).length>0&&(this.target===`draft-2020-12`?s.$defs=c:s.definitions=c);try{return JSON.parse(JSON.stringify(s))}catch{throw Error(`Error converting schema to JSON.`)}}};function Fm(e,t){if(e instanceof Dp){let n=new Pm(t),r={};for(let t of e._idmap.entries()){let[e,r]=t;n.process(r)}let i={},a={registry:e,uri:t?.uri,defs:r};for(let r of e._idmap.entries()){let[e,o]=r;i[e]=n.emit(o,{...t,external:a})}return Object.keys(r).length>0&&(i.__shared={[n.target===`draft-2020-12`?`$defs`:`definitions`]:r}),{schemas:i}}let n=new Pm(t);return n.process(e),n.emit(e,t)}function Im(e,t){let n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);let r=e._zod.def;switch(r.type){case`string`:case`number`:case`bigint`:case`boolean`:case`date`:case`symbol`:case`undefined`:case`null`:case`any`:case`unknown`:case`never`:case`void`:case`literal`:case`enum`:case`nan`:case`file`:case`template_literal`:return!1;case`array`:return Im(r.element,n);case`object`:for(let e in r.shape)if(Im(r.shape[e],n))return!0;return!1;case`union`:for(let e of r.options)if(Im(e,n))return!0;return!1;case`intersection`:return Im(r.left,n)||Im(r.right,n);case`tuple`:for(let e of r.items)if(Im(e,n))return!0;return!!(r.rest&&Im(r.rest,n));case`record`:return Im(r.keyType,n)||Im(r.valueType,n);case`map`:return Im(r.keyType,n)||Im(r.valueType,n);case`set`:return Im(r.valueType,n);case`promise`:case`optional`:case`nonoptional`:case`nullable`:case`readonly`:return Im(r.innerType,n);case`lazy`:return Im(r.getter(),n);case`default`:return Im(r.innerType,n);case`prefault`:return Im(r.innerType,n);case`custom`:return!1;case`transform`:return!0;case`pipe`:return Im(r.in,n)||Im(r.out,n);case`success`:return!1;case`catch`:return!1;case`function`:return!1;default:}throw Error(`Unknown schema type: ${r.type}`)}const Lm=U(`ZodISODateTime`,(e,t)=>{Ef.init(e,t),ch.init(e,t)});function Rm(e){return $p(Lm,e)}const zm=U(`ZodISODate`,(e,t)=>{Df.init(e,t),ch.init(e,t)});function Bm(e){return em(zm,e)}const Vm=U(`ZodISOTime`,(e,t)=>{Of.init(e,t),ch.init(e,t)});function Hm(e){return tm(Vm,e)}const Um=U(`ZodISODuration`,(e,t)=>{kf.init(e,t),ch.init(e,t)});function Wm(e){return nm(Um,e)}var Gm=(e,t)=>{Xu.init(e,t),e.name=`ZodError`,Object.defineProperties(e,{format:{value:t=>$u(e,t)},flatten:{value:t=>Qu(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,gu,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,gu,2)}},isEmpty:{get(){return e.issues.length===0}}})};U(`ZodError`,Gm);const Km=U(`ZodError`,Gm,{Parent:Error}),qm=ed(Km),Jm=td(Km),Ym=nd(Km),Xm=id(Km),Zm=od(Km),Qm=sd(Km),$m=cd(Km),eh=ld(Km),th=ud(Km),nh=dd(Km),rh=fd(Km),ih=pd(Km),ah=U(`ZodType`,(e,t)=>(ff.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,`_def`,{value:t}),e.check=(...n)=>e.clone(wu(t,{checks:[...t.checks??[],...n.map(e=>typeof e==`function`?{_zod:{check:e,def:{check:`custom`},onattach:[]}}:e)]})),e.clone=(t,n)=>Nu(e,t,n),e.brand=()=>e,e.register=((t,n)=>(t.add(e,n),e)),e.parse=(t,n)=>qm(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>Ym(e,t,n),e.parseAsync=async(t,n)=>Jm(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>Xm(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>Zm(e,t,n),e.decode=(t,n)=>Qm(e,t,n),e.encodeAsync=async(t,n)=>$m(e,t,n),e.decodeAsync=async(t,n)=>eh(e,t,n),e.safeEncode=(t,n)=>th(e,t,n),e.safeDecode=(t,n)=>nh(e,t,n),e.safeEncodeAsync=async(t,n)=>rh(e,t,n),e.safeDecodeAsync=async(t,n)=>ih(e,t,n),e.refine=(t,n)=>e.check(Tg(t,n)),e.superRefine=t=>e.check(Eg(t)),e.overwrite=t=>e.check(wm(t)),e.optional=()=>og(e),e.nullable=()=>cg(e),e.nullish=()=>og(cg(e)),e.nonoptional=t=>mg(e,t),e.array=()=>Uh(e),e.or=t=>Kh([e,t]),e.and=t=>Xh(e,t),e.transform=t=>vg(e,ig(t)),e.default=t=>ug(e,t),e.prefault=t=>fg(e,t),e.catch=t=>gg(e,t),e.pipe=t=>vg(e,t),e.readonly=()=>bg(e),e.describe=t=>{let n=e.clone();return kp.add(n,{description:t}),n},Object.defineProperty(e,`description`,{get(){return kp.get(e)?.description},configurable:!0}),e.meta=(...t)=>{if(t.length===0)return kp.get(e);let n=e.clone();return kp.add(n,t[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),oh=U(`_ZodString`,(e,t)=>{pf.init(e,t),ah.init(e,t);let n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...t)=>e.check(vm(...t)),e.includes=(...t)=>e.check(xm(...t)),e.startsWith=(...t)=>e.check(Sm(...t)),e.endsWith=(...t)=>e.check(Cm(...t)),e.min=(...t)=>e.check(gm(...t)),e.max=(...t)=>e.check(hm(...t)),e.length=(...t)=>e.check(_m(...t)),e.nonempty=(...t)=>e.check(gm(1,...t)),e.lowercase=t=>e.check(ym(t)),e.uppercase=t=>e.check(bm(t)),e.trim=()=>e.check(Em()),e.normalize=(...t)=>e.check(Tm(...t)),e.toLowerCase=()=>e.check(Dm()),e.toUpperCase=()=>e.check(Om())}),sh=U(`ZodString`,(e,t)=>{pf.init(e,t),oh.init(e,t),e.email=t=>e.check(jp(lh,t)),e.url=t=>e.check(Lp(fh,t)),e.jwt=t=>e.check(Qp(Dh,t)),e.emoji=t=>e.check(Rp(ph,t)),e.guid=t=>e.check(Mp(uh,t)),e.uuid=t=>e.check(Np(dh,t)),e.uuidv4=t=>e.check(Pp(dh,t)),e.uuidv6=t=>e.check(Fp(dh,t)),e.uuidv7=t=>e.check(Ip(dh,t)),e.nanoid=t=>e.check(zp(mh,t)),e.guid=t=>e.check(Mp(uh,t)),e.cuid=t=>e.check(Bp(hh,t)),e.cuid2=t=>e.check(Vp(gh,t)),e.ulid=t=>e.check(Hp(_h,t)),e.base64=t=>e.check(Yp(wh,t)),e.base64url=t=>e.check(Xp(Th,t)),e.xid=t=>e.check(Up(vh,t)),e.ksuid=t=>e.check(Wp(yh,t)),e.ipv4=t=>e.check(Gp(bh,t)),e.ipv6=t=>e.check(Kp(xh,t)),e.cidrv4=t=>e.check(qp(Sh,t)),e.cidrv6=t=>e.check(Jp(Ch,t)),e.e164=t=>e.check(Zp(Eh,t)),e.datetime=t=>e.check(Rm(t)),e.date=t=>e.check(Bm(t)),e.time=t=>e.check(Hm(t)),e.duration=t=>e.check(Wm(t))});function G(e){return Ap(sh,e)}const ch=U(`ZodStringFormat`,(e,t)=>{mf.init(e,t),oh.init(e,t)}),lh=U(`ZodEmail`,(e,t)=>{_f.init(e,t),ch.init(e,t)}),uh=U(`ZodGUID`,(e,t)=>{hf.init(e,t),ch.init(e,t)}),dh=U(`ZodUUID`,(e,t)=>{gf.init(e,t),ch.init(e,t)}),fh=U(`ZodURL`,(e,t)=>{vf.init(e,t),ch.init(e,t)}),ph=U(`ZodEmoji`,(e,t)=>{yf.init(e,t),ch.init(e,t)}),mh=U(`ZodNanoID`,(e,t)=>{bf.init(e,t),ch.init(e,t)}),hh=U(`ZodCUID`,(e,t)=>{xf.init(e,t),ch.init(e,t)}),gh=U(`ZodCUID2`,(e,t)=>{Sf.init(e,t),ch.init(e,t)}),_h=U(`ZodULID`,(e,t)=>{Cf.init(e,t),ch.init(e,t)}),vh=U(`ZodXID`,(e,t)=>{wf.init(e,t),ch.init(e,t)}),yh=U(`ZodKSUID`,(e,t)=>{Tf.init(e,t),ch.init(e,t)}),bh=U(`ZodIPv4`,(e,t)=>{Af.init(e,t),ch.init(e,t)}),xh=U(`ZodIPv6`,(e,t)=>{jf.init(e,t),ch.init(e,t)}),Sh=U(`ZodCIDRv4`,(e,t)=>{Mf.init(e,t),ch.init(e,t)}),Ch=U(`ZodCIDRv6`,(e,t)=>{Nf.init(e,t),ch.init(e,t)}),wh=U(`ZodBase64`,(e,t)=>{Ff.init(e,t),ch.init(e,t)}),Th=U(`ZodBase64URL`,(e,t)=>{Lf.init(e,t),ch.init(e,t)}),Eh=U(`ZodE164`,(e,t)=>{Rf.init(e,t),ch.init(e,t)}),Dh=U(`ZodJWT`,(e,t)=>{Bf.init(e,t),ch.init(e,t)}),Oh=U(`ZodNumber`,(e,t)=>{Vf.init(e,t),ah.init(e,t),e.gt=(t,n)=>e.check(fm(t,n)),e.gte=(t,n)=>e.check(pm(t,n)),e.min=(t,n)=>e.check(pm(t,n)),e.lt=(t,n)=>e.check(um(t,n)),e.lte=(t,n)=>e.check(dm(t,n)),e.max=(t,n)=>e.check(dm(t,n)),e.int=t=>e.check(jh(t)),e.safe=t=>e.check(jh(t)),e.positive=t=>e.check(fm(0,t)),e.nonnegative=t=>e.check(pm(0,t)),e.negative=t=>e.check(um(0,t)),e.nonpositive=t=>e.check(dm(0,t)),e.multipleOf=(t,n)=>e.check(mm(t,n)),e.step=(t,n)=>e.check(mm(t,n)),e.finite=()=>e;let n=e._zod.bag;e.minValue=Math.max(n.minimum??-1/0,n.exclusiveMinimum??-1/0)??null,e.maxValue=Math.min(n.maximum??1/0,n.exclusiveMaximum??1/0)??null,e.isInt=(n.format??``).includes(`int`)||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function kh(e){return rm(Oh,e)}const Ah=U(`ZodNumberFormat`,(e,t)=>{Hf.init(e,t),Oh.init(e,t)});function jh(e){return im(Ah,e)}const Mh=U(`ZodBoolean`,(e,t)=>{Uf.init(e,t),ah.init(e,t)});function Nh(e){return am(Mh,e)}const Ph=U(`ZodNull`,(e,t)=>{Wf.init(e,t),ah.init(e,t)});function Fh(e){return om(Ph,e)}const Ih=U(`ZodAny`,(e,t)=>{Gf.init(e,t),ah.init(e,t)});function Lh(){return sm(Ih)}const Rh=U(`ZodUnknown`,(e,t)=>{Kf.init(e,t),ah.init(e,t)});function zh(){return cm(Rh)}const Bh=U(`ZodNever`,(e,t)=>{qf.init(e,t),ah.init(e,t)});function Vh(e){return lm(Bh,e)}const Hh=U(`ZodArray`,(e,t)=>{Yf.init(e,t),ah.init(e,t),e.element=t.element,e.min=(t,n)=>e.check(gm(t,n)),e.nonempty=t=>e.check(gm(1,t)),e.max=(t,n)=>e.check(hm(t,n)),e.length=(t,n)=>e.check(_m(t,n)),e.unwrap=()=>e.element});function Uh(e,t){return km(Hh,e,t)}const Wh=U(`ZodObject`,(e,t)=>{ep.init(e,t),ah.init(e,t),Su(e,`shape`,()=>t.shape),e.keyof=()=>eg(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:zh()}),e.loose=()=>e.clone({...e._zod.def,catchall:zh()}),e.strict=()=>e.clone({...e._zod.def,catchall:Vh()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>Ru(e,t),e.safeExtend=t=>zu(e,t),e.merge=t=>Bu(e,t),e.pick=t=>Iu(e,t),e.omit=t=>Lu(e,t),e.partial=(...t)=>Vu(ag,e,t[0]),e.required=(...t)=>Hu(pg,e,t[0])});function K(e,t){return new Wh({type:`object`,shape:e??{},...W(t)})}const Gh=U(`ZodUnion`,(e,t)=>{np.init(e,t),ah.init(e,t),e.options=t.options});function Kh(e,t){return new Gh({type:`union`,options:e,...W(t)})}const qh=U(`ZodDiscriminatedUnion`,(e,t)=>{Gh.init(e,t),rp.init(e,t)});function Jh(e,t,n){return new qh({type:`union`,options:t,discriminator:e,...W(n)})}const Yh=U(`ZodIntersection`,(e,t)=>{ip.init(e,t),ah.init(e,t)});function Xh(e,t){return new Yh({type:`intersection`,left:e,right:t})}const Zh=U(`ZodRecord`,(e,t)=>{sp.init(e,t),ah.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Qh(e,t,n){return new Zh({type:`record`,keyType:e,valueType:t,...W(n)})}const $h=U(`ZodEnum`,(e,t)=>{cp.init(e,t),ah.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{let i={};for(let r of e)if(n.has(r))i[r]=t.entries[r];else throw Error(`Key ${r} not found in enum`);return new $h({...t,checks:[],...W(r),entries:i})},e.exclude=(e,r)=>{let i={...t.entries};for(let t of e)if(n.has(t))delete i[t];else throw Error(`Key ${t} not found in enum`);return new $h({...t,checks:[],...W(r),entries:i})}});function eg(e,t){return new $h({type:`enum`,entries:Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e,...W(t)})}const tg=U(`ZodLiteral`,(e,t)=>{lp.init(e,t),ah.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,`value`,{get(){if(t.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function ng(e,t){return new tg({type:`literal`,values:Array.isArray(e)?e:[e],...W(t)})}const rg=U(`ZodTransform`,(e,t)=>{up.init(e,t),ah.init(e,t),e._zod.parse=(n,r)=>{if(r.direction===`backward`)throw new fu(e.constructor.name);n.addIssue=r=>{if(typeof r==`string`)n.issues.push(Ju(r,n.value,t));else{let t=r;t.fatal&&(t.continue=!1),t.code??=`custom`,t.input??=n.value,t.inst??=e,n.issues.push(Ju(t))}};let i=t.transform(n.value,n);return i instanceof Promise?i.then(e=>(n.value=e,n)):(n.value=i,n)}});function ig(e){return new rg({type:`transform`,transform:e})}const ag=U(`ZodOptional`,(e,t)=>{fp.init(e,t),ah.init(e,t),e.unwrap=()=>e._zod.def.innerType});function og(e){return new ag({type:`optional`,innerType:e})}const sg=U(`ZodNullable`,(e,t)=>{pp.init(e,t),ah.init(e,t),e.unwrap=()=>e._zod.def.innerType});function cg(e){return new sg({type:`nullable`,innerType:e})}const lg=U(`ZodDefault`,(e,t)=>{mp.init(e,t),ah.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function ug(e,t){return new lg({type:`default`,innerType:e,get defaultValue(){return typeof t==`function`?t():Au(t)}})}const dg=U(`ZodPrefault`,(e,t)=>{gp.init(e,t),ah.init(e,t),e.unwrap=()=>e._zod.def.innerType});function fg(e,t){return new dg({type:`prefault`,innerType:e,get defaultValue(){return typeof t==`function`?t():Au(t)}})}const pg=U(`ZodNonOptional`,(e,t)=>{_p.init(e,t),ah.init(e,t),e.unwrap=()=>e._zod.def.innerType});function mg(e,t){return new pg({type:`nonoptional`,innerType:e,...W(t)})}const hg=U(`ZodCatch`,(e,t)=>{yp.init(e,t),ah.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function gg(e,t){return new hg({type:`catch`,innerType:e,catchValue:typeof t==`function`?t:()=>t})}const _g=U(`ZodPipe`,(e,t)=>{bp.init(e,t),ah.init(e,t),e.in=t.in,e.out=t.out});function vg(e,t){return new _g({type:`pipe`,in:e,out:t})}const yg=U(`ZodReadonly`,(e,t)=>{Sp.init(e,t),ah.init(e,t),e.unwrap=()=>e._zod.def.innerType});function bg(e){return new yg({type:`readonly`,innerType:e})}const xg=U(`ZodLazy`,(e,t)=>{wp.init(e,t),ah.init(e,t),e.unwrap=()=>e._zod.def.getter()});function Sg(e){return new xg({type:`lazy`,getter:e})}const Cg=U(`ZodCustom`,(e,t)=>{Tp.init(e,t),ah.init(e,t)});function wg(e,t){return Am(Cg,e??(()=>!0),t)}function Tg(e,t={}){return jm(Cg,e,t)}function Eg(e){return Mm(e)}function Dg(e,t={error:`Input not instance of ${e.name}`}){let n=new Cg({type:`custom`,check:`custom`,fn:t=>t instanceof e,abort:!0,...W(t)});return n._zod.bag.Class=e,n}var Og;(function(e){e.assertEqual=e=>{};function t(e){}e.assertIs=t;function n(e){throw Error()}e.assertNever=n,e.arrayToEnum=e=>{let t={};for(let n of e)t[n]=n;return t},e.getValidEnumValues=t=>{let n=e.objectKeys(t).filter(e=>typeof t[t[e]]!=`number`),r={};for(let e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys=typeof Object.keys==`function`?e=>Object.keys(e):e=>{let t=[];for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(let n of e)if(t(n))return n},e.isInteger=typeof Number.isInteger==`function`?e=>Number.isInteger(e):e=>typeof e==`number`&&Number.isFinite(e)&&Math.floor(e)===e;function r(e,t=` | `){return e.map(e=>typeof e==`string`?`'${e}'`:e).join(t)}e.joinValues=r,e.jsonStringifyReplacer=(e,t)=>typeof t==`bigint`?t.toString():t})(Og||={});var kg;(function(e){e.mergeShapes=(e,t)=>({...e,...t})})(kg||={});const q=Og.arrayToEnum([`string`,`nan`,`number`,`integer`,`float`,`boolean`,`date`,`bigint`,`symbol`,`function`,`undefined`,`null`,`array`,`object`,`unknown`,`promise`,`void`,`never`,`map`,`set`]),Ag=e=>{switch(typeof e){case`undefined`:return q.undefined;case`string`:return q.string;case`number`:return Number.isNaN(e)?q.nan:q.number;case`boolean`:return q.boolean;case`function`:return q.function;case`bigint`:return q.bigint;case`symbol`:return q.symbol;case`object`:return Array.isArray(e)?q.array:e===null?q.null:e.then&&typeof e.then==`function`&&e.catch&&typeof e.catch==`function`?q.promise:typeof Map<`u`&&e instanceof Map?q.map:typeof Set<`u`&&e instanceof Set?q.set:typeof Date<`u`&&e instanceof Date?q.date:q.object;default:return q.unknown}},J=Og.arrayToEnum([`invalid_type`,`invalid_literal`,`custom`,`invalid_union`,`invalid_union_discriminator`,`invalid_enum_value`,`unrecognized_keys`,`invalid_arguments`,`invalid_return_type`,`invalid_date`,`invalid_string`,`too_small`,`too_big`,`invalid_intersection_types`,`not_multiple_of`,`not_finite`]);var jg=class e extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name=`ZodError`,this.issues=e}format(e){let t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(let i of e.issues)if(i.code===`invalid_union`)i.unionErrors.map(r);else if(i.code===`invalid_return_type`)r(i.returnTypeError);else if(i.code===`invalid_arguments`)r(i.argumentsError);else if(i.path.length===0)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){let n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(t){if(!(t instanceof e))throw Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Og.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=e=>e.message){let t=Object.create(null),n=[];for(let r of this.issues)if(r.path.length>0){let n=r.path[0];t[n]=t[n]||[],t[n].push(e(r))}else n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};jg.create=e=>new jg(e);var Mg=(e,t)=>{let n;switch(e.code){case J.invalid_type:n=e.received===q.undefined?`Required`:`Expected ${e.expected}, received ${e.received}`;break;case J.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Og.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:n=`Unrecognized key(s) in object: ${Og.joinValues(e.keys,`, `)}`;break;case J.invalid_union:n=`Invalid input`;break;case J.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Og.joinValues(e.options)}`;break;case J.invalid_enum_value:n=`Invalid enum value. Expected ${Og.joinValues(e.options)}, received '${e.received}'`;break;case J.invalid_arguments:n=`Invalid function arguments`;break;case J.invalid_return_type:n=`Invalid function return type`;break;case J.invalid_date:n=`Invalid date`;break;case J.invalid_string:typeof e.validation==`object`?`includes`in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position==`number`&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):`startsWith`in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:`endsWith`in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Og.assertNever(e.validation):n=e.validation===`regex`?`Invalid`:`Invalid ${e.validation}`;break;case J.too_small:n=e.type===`array`?`Array must contain ${e.exact?`exactly`:e.inclusive?`at least`:`more than`} ${e.minimum} element(s)`:e.type===`string`?`String must contain ${e.exact?`exactly`:e.inclusive?`at least`:`over`} ${e.minimum} character(s)`:e.type===`number`||e.type===`bigint`?`Number must be ${e.exact?`exactly equal to `:e.inclusive?`greater than or equal to `:`greater than `}${e.minimum}`:e.type===`date`?`Date must be ${e.exact?`exactly equal to `:e.inclusive?`greater than or equal to `:`greater than `}${new Date(Number(e.minimum))}`:`Invalid input`;break;case J.too_big:n=e.type===`array`?`Array must contain ${e.exact?`exactly`:e.inclusive?`at most`:`less than`} ${e.maximum} element(s)`:e.type===`string`?`String must contain ${e.exact?`exactly`:e.inclusive?`at most`:`under`} ${e.maximum} character(s)`:e.type===`number`?`Number must be ${e.exact?`exactly`:e.inclusive?`less than or equal to`:`less than`} ${e.maximum}`:e.type===`bigint`?`BigInt must be ${e.exact?`exactly`:e.inclusive?`less than or equal to`:`less than`} ${e.maximum}`:e.type===`date`?`Date must be ${e.exact?`exactly`:e.inclusive?`smaller than or equal to`:`smaller than`} ${new Date(Number(e.maximum))}`:`Invalid input`;break;case J.custom:n=`Invalid input`;break;case J.invalid_intersection_types:n=`Intersection results could not be merged`;break;case J.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case J.not_finite:n=`Number must be finite`;break;default:n=t.defaultError,Og.assertNever(e)}return{message:n}},Ng=Mg;function Pg(){return Ng}const Fg=e=>{let{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let s=``,c=r.filter(e=>!!e).slice().reverse();for(let e of c)s=e(o,{data:t,defaultError:s}).message;return{...i,path:a,message:s}};function Y(e,t){let n=Pg(),r=Fg({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Mg?void 0:Mg].filter(e=>!!e)});e.common.issues.push(r)}var Ig=class e{constructor(){this.value=`valid`}dirty(){this.value===`valid`&&(this.value=`dirty`)}abort(){this.value!==`aborted`&&(this.value=`aborted`)}static mergeArray(e,t){let n=[];for(let r of t){if(r.status===`aborted`)return X;r.status===`dirty`&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(t,n){let r=[];for(let e of n){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return e.mergeObjectSync(t,r)}static mergeObjectSync(e,t){let n={};for(let r of t){let{key:t,value:i}=r;if(t.status===`aborted`||i.status===`aborted`)return X;t.status===`dirty`&&e.dirty(),i.status===`dirty`&&e.dirty(),t.value!==`__proto__`&&(i.value!==void 0||r.alwaysSet)&&(n[t.value]=i.value)}return{status:e.value,value:n}}};const X=Object.freeze({status:`aborted`}),Lg=e=>({status:`dirty`,value:e}),Rg=e=>({status:`valid`,value:e}),zg=e=>e.status===`aborted`,Bg=e=>e.status===`dirty`,Vg=e=>e.status===`valid`,Hg=e=>typeof Promise<`u`&&e instanceof Promise;var Z;(function(e){e.errToObj=e=>typeof e==`string`?{message:e}:e||{},e.toString=e=>typeof e==`string`?e:e?.message})(Z||={});var Ug=class{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Wg=(e,t)=>{if(Vg(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error(`Validation failed but no issues detected.`);return{success:!1,get error(){return this._error||=new jg(e.common.issues),this._error}}};function Q(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{let{message:a}=e;return t.code===`invalid_enum_value`?{message:a??i.defaultError}:i.data===void 0?{message:a??r??i.defaultError}:t.code===`invalid_type`?{message:a??n??i.defaultError}:{message:i.defaultError}},description:i}}var Gg=class{get description(){return this._def.description}_getType(e){return Ag(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ag(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ig,ctx:{common:e.parent.common,data:e.data,parsedType:Ag(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(Hg(t))throw Error(`Synchronous parse encountered promise.`);return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){let n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ag(e)};return Wg(n,this._parseSync({data:e,path:n.path,parent:n}))}"~validate"(e){let t={common:{issues:[],async:!!this[`~standard`].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ag(e)};if(!this[`~standard`].async)try{let n=this._parseSync({data:e,path:[],parent:t});return Vg(n)?{value:n.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes(`encountered`)&&(this[`~standard`].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>Vg(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ag(e)},r=this._parse({data:e,path:n.path,parent:n});return Wg(n,await(Hg(r)?r:Promise.resolve(r)))}refine(e,t){let n=e=>typeof t==`string`||t===void 0?{message:t}:typeof t==`function`?t(e):t;return this._refinement((t,r)=>{let i=e(t),a=()=>r.addIssue({code:J.custom,...n(t)});return typeof Promise<`u`&&i instanceof Promise?i.then(e=>e?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(e,t){return this._refinement((n,r)=>e(n)?!0:(r.addIssue(typeof t==`function`?t(n,r):t),!1))}_refinement(e){return new J_({schema:this,typeName:$.ZodEffects,effect:{type:`refinement`,refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this[`~standard`]={version:1,vendor:`zod`,validate:e=>this[`~validate`](e)}}optional(){return Y_.create(this,this._def)}nullable(){return X_.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return k_.create(this)}promise(){return q_.create(this,this._def)}or(e){return M_.create([this,e],this._def)}and(e){return I_.create(this,e,this._def)}transform(e){return new J_({...Q(this._def),schema:this,typeName:$.ZodEffects,effect:{type:`transform`,transform:e}})}default(e){let t=typeof e==`function`?e:()=>e;return new Z_({...Q(this._def),innerType:this,defaultValue:t,typeName:$.ZodDefault})}brand(){return new ev({typeName:$.ZodBranded,type:this,...Q(this._def)})}catch(e){let t=typeof e==`function`?e:()=>e;return new Q_({...Q(this._def),innerType:this,catchValue:t,typeName:$.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return tv.create(this,e)}readonly(){return nv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Kg=/^c[^\s-]{8,}$/i,qg=/^[0-9a-z]+$/,Jg=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Yg=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Xg=/^[a-z0-9_-]{21}$/i,Zg=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Qg=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$g=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,e_=`^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$`,t_,n_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,r_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,i_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,a_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,o_=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,s_=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,c_=`((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))`,l_=RegExp(`^${c_}$`);function u_(e){let t=`[0-5]\\d`;e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision??(t=`${t}(\\.\\d+)?`);let n=e.precision?`+`:`?`;return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function d_(e){return RegExp(`^${u_(e)}$`)}function f_(e){let t=`${c_}T${u_(e)}`,n=[];return n.push(e.local?`Z?`:`Z`),e.offset&&n.push(`([+-]\\d{2}:?\\d{2})`),t=`${t}(${n.join(`|`)})`,RegExp(`^${t}$`)}function p_(e,t){return!!((t===`v4`||!t)&&n_.test(e)||(t===`v6`||!t)&&i_.test(e))}function m_(e,t){if(!Zg.test(e))return!1;try{let[n]=e.split(`.`);if(!n)return!1;let r=n.replace(/-/g,`+`).replace(/_/g,`/`).padEnd(n.length+(4-n.length%4)%4,`=`),i=JSON.parse(atob(r));return!(typeof i!=`object`||!i||`typ`in i&&i?.typ!==`JWT`||!i.alg||t&&i.alg!==t)}catch{return!1}}function h_(e,t){return!!((t===`v4`||!t)&&r_.test(e)||(t===`v6`||!t)&&a_.test(e))}var g_=class e extends Gg{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==q.string){let t=this._getOrReturnCtx(e);return Y(t,{code:J.invalid_type,expected:q.string,received:t.parsedType}),X}let t=new Ig,n;for(let r of this._def.checks)if(r.kind===`min`)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),Y(n,{code:J.too_small,minimum:r.value,type:`string`,inclusive:!0,exact:!1,message:r.message}),t.dirty());else if(r.kind===`max`)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),Y(n,{code:J.too_big,maximum:r.value,type:`string`,inclusive:!0,exact:!1,message:r.message}),t.dirty());else if(r.kind===`length`){let i=e.data.length>r.value,a=e.data.length<r.value;(i||a)&&(n=this._getOrReturnCtx(e,n),i?Y(n,{code:J.too_big,maximum:r.value,type:`string`,inclusive:!0,exact:!0,message:r.message}):a&&Y(n,{code:J.too_small,minimum:r.value,type:`string`,inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if(r.kind===`email`)$g.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:`email`,code:J.invalid_string,message:r.message}),t.dirty());else if(r.kind===`emoji`)t_||=new RegExp(e_,`u`),t_.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:`emoji`,code:J.invalid_string,message:r.message}),t.dirty());else if(r.kind===`uuid`)Yg.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:`uuid`,code:J.invalid_string,message:r.message}),t.dirty());else if(r.kind===`nanoid`)Xg.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:`nanoid`,code:J.invalid_string,message:r.message}),t.dirty());else if(r.kind===`cuid`)Kg.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:`cuid`,code:J.invalid_string,message:r.message}),t.dirty());else if(r.kind===`cuid2`)qg.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:`cuid2`,code:J.invalid_string,message:r.message}),t.dirty());else if(r.kind===`ulid`)Jg.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:`ulid`,code:J.invalid_string,message:r.message}),t.dirty());else if(r.kind===`url`)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),Y(n,{validation:`url`,code:J.invalid_string,message:r.message}),t.dirty()}else r.kind===`regex`?(r.regex.lastIndex=0,r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:`regex`,code:J.invalid_string,message:r.message}),t.dirty())):r.kind===`trim`?e.data=e.data.trim():r.kind===`includes`?e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),Y(n,{code:J.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty()):r.kind===`toLowerCase`?e.data=e.data.toLowerCase():r.kind===`toUpperCase`?e.data=e.data.toUpperCase():r.kind===`startsWith`?e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),Y(n,{code:J.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty()):r.kind===`endsWith`?e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),Y(n,{code:J.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty()):r.kind===`datetime`?f_(r).test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{code:J.invalid_string,validation:`datetime`,message:r.message}),t.dirty()):r.kind===`date`?l_.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{code:J.invalid_string,validation:`date`,message:r.message}),t.dirty()):r.kind===`time`?d_(r).test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{code:J.invalid_string,validation:`time`,message:r.message}),t.dirty()):r.kind===`duration`?Qg.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:`duration`,code:J.invalid_string,message:r.message}),t.dirty()):r.kind===`ip`?p_(e.data,r.version)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:`ip`,code:J.invalid_string,message:r.message}),t.dirty()):r.kind===`jwt`?m_(e.data,r.alg)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:`jwt`,code:J.invalid_string,message:r.message}),t.dirty()):r.kind===`cidr`?h_(e.data,r.version)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:`cidr`,code:J.invalid_string,message:r.message}),t.dirty()):r.kind===`base64`?o_.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:`base64`,code:J.invalid_string,message:r.message}),t.dirty()):r.kind===`base64url`?s_.test(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{validation:`base64url`,code:J.invalid_string,message:r.message}),t.dirty()):Og.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),{validation:t,code:J.invalid_string,...Z.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(e){return this._addCheck({kind:`email`,...Z.errToObj(e)})}url(e){return this._addCheck({kind:`url`,...Z.errToObj(e)})}emoji(e){return this._addCheck({kind:`emoji`,...Z.errToObj(e)})}uuid(e){return this._addCheck({kind:`uuid`,...Z.errToObj(e)})}nanoid(e){return this._addCheck({kind:`nanoid`,...Z.errToObj(e)})}cuid(e){return this._addCheck({kind:`cuid`,...Z.errToObj(e)})}cuid2(e){return this._addCheck({kind:`cuid2`,...Z.errToObj(e)})}ulid(e){return this._addCheck({kind:`ulid`,...Z.errToObj(e)})}base64(e){return this._addCheck({kind:`base64`,...Z.errToObj(e)})}base64url(e){return this._addCheck({kind:`base64url`,...Z.errToObj(e)})}jwt(e){return this._addCheck({kind:`jwt`,...Z.errToObj(e)})}ip(e){return this._addCheck({kind:`ip`,...Z.errToObj(e)})}cidr(e){return this._addCheck({kind:`cidr`,...Z.errToObj(e)})}datetime(e){return typeof e==`string`?this._addCheck({kind:`datetime`,precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:`datetime`,precision:e?.precision===void 0?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Z.errToObj(e?.message)})}date(e){return this._addCheck({kind:`date`,message:e})}time(e){return typeof e==`string`?this._addCheck({kind:`time`,precision:null,message:e}):this._addCheck({kind:`time`,precision:e?.precision===void 0?null:e?.precision,...Z.errToObj(e?.message)})}duration(e){return this._addCheck({kind:`duration`,...Z.errToObj(e)})}regex(e,t){return this._addCheck({kind:`regex`,regex:e,...Z.errToObj(t)})}includes(e,t){return this._addCheck({kind:`includes`,value:e,position:t?.position,...Z.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:`startsWith`,value:e,...Z.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:`endsWith`,value:e,...Z.errToObj(t)})}min(e,t){return this._addCheck({kind:`min`,value:e,...Z.errToObj(t)})}max(e,t){return this._addCheck({kind:`max`,value:e,...Z.errToObj(t)})}length(e,t){return this._addCheck({kind:`length`,value:e,...Z.errToObj(t)})}nonempty(e){return this.min(1,Z.errToObj(e))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:`trim`}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:`toLowerCase`}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:`toUpperCase`}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind===`datetime`)}get isDate(){return!!this._def.checks.find(e=>e.kind===`date`)}get isTime(){return!!this._def.checks.find(e=>e.kind===`time`)}get isDuration(){return!!this._def.checks.find(e=>e.kind===`duration`)}get isEmail(){return!!this._def.checks.find(e=>e.kind===`email`)}get isURL(){return!!this._def.checks.find(e=>e.kind===`url`)}get isEmoji(){return!!this._def.checks.find(e=>e.kind===`emoji`)}get isUUID(){return!!this._def.checks.find(e=>e.kind===`uuid`)}get isNANOID(){return!!this._def.checks.find(e=>e.kind===`nanoid`)}get isCUID(){return!!this._def.checks.find(e=>e.kind===`cuid`)}get isCUID2(){return!!this._def.checks.find(e=>e.kind===`cuid2`)}get isULID(){return!!this._def.checks.find(e=>e.kind===`ulid`)}get isIP(){return!!this._def.checks.find(e=>e.kind===`ip`)}get isCIDR(){return!!this._def.checks.find(e=>e.kind===`cidr`)}get isBase64(){return!!this._def.checks.find(e=>e.kind===`base64`)}get isBase64url(){return!!this._def.checks.find(e=>e.kind===`base64url`)}get minLength(){let e=null;for(let t of this._def.checks)t.kind===`min`&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind===`max`&&(e===null||t.value<e)&&(e=t.value);return e}};g_.create=e=>new g_({checks:[],typeName:$.ZodString,coerce:e?.coerce??!1,...Q(e)});function __(e,t){let n=(e.toString().split(`.`)[1]||``).length,r=(t.toString().split(`.`)[1]||``).length,i=n>r?n:r;return Number.parseInt(e.toFixed(i).replace(`.`,``))%Number.parseInt(t.toFixed(i).replace(`.`,``))/10**i}var v_=class e extends Gg{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==q.number){let t=this._getOrReturnCtx(e);return Y(t,{code:J.invalid_type,expected:q.number,received:t.parsedType}),X}let t,n=new Ig;for(let r of this._def.checks)r.kind===`int`?Og.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Y(t,{code:J.invalid_type,expected:`integer`,received:`float`,message:r.message}),n.dirty()):r.kind===`min`?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Y(t,{code:J.too_small,minimum:r.value,type:`number`,inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):r.kind===`max`?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Y(t,{code:J.too_big,maximum:r.value,type:`number`,inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):r.kind===`multipleOf`?__(e.data,r.value)!==0&&(t=this._getOrReturnCtx(e,t),Y(t,{code:J.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):r.kind===`finite`?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Y(t,{code:J.not_finite,message:r.message}),n.dirty()):Og.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit(`min`,e,!0,Z.toString(t))}gt(e,t){return this.setLimit(`min`,e,!1,Z.toString(t))}lte(e,t){return this.setLimit(`max`,e,!0,Z.toString(t))}lt(e,t){return this.setLimit(`max`,e,!1,Z.toString(t))}setLimit(t,n,r,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Z.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(e){return this._addCheck({kind:`int`,message:Z.toString(e)})}positive(e){return this._addCheck({kind:`min`,value:0,inclusive:!1,message:Z.toString(e)})}negative(e){return this._addCheck({kind:`max`,value:0,inclusive:!1,message:Z.toString(e)})}nonpositive(e){return this._addCheck({kind:`max`,value:0,inclusive:!0,message:Z.toString(e)})}nonnegative(e){return this._addCheck({kind:`min`,value:0,inclusive:!0,message:Z.toString(e)})}multipleOf(e,t){return this._addCheck({kind:`multipleOf`,value:e,message:Z.toString(t)})}finite(e){return this._addCheck({kind:`finite`,message:Z.toString(e)})}safe(e){return this._addCheck({kind:`min`,inclusive:!0,value:-(2**53-1),message:Z.toString(e)})._addCheck({kind:`max`,inclusive:!0,value:2**53-1,message:Z.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind===`min`&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind===`max`&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind===`int`||e.kind===`multipleOf`&&Og.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks)if(n.kind===`finite`||n.kind===`int`||n.kind===`multipleOf`)return!0;else n.kind===`min`?(t===null||n.value>t)&&(t=n.value):n.kind===`max`&&(e===null||n.value<e)&&(e=n.value);return Number.isFinite(t)&&Number.isFinite(e)}};v_.create=e=>new v_({checks:[],typeName:$.ZodNumber,coerce:e?.coerce||!1,...Q(e)});var y_=class e extends Gg{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==q.bigint)return this._getInvalidInput(e);let t,n=new Ig;for(let r of this._def.checks)r.kind===`min`?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Y(t,{code:J.too_small,type:`bigint`,minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):r.kind===`max`?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Y(t,{code:J.too_big,type:`bigint`,maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):r.kind===`multipleOf`?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Y(t,{code:J.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):Og.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return Y(t,{code:J.invalid_type,expected:q.bigint,received:t.parsedType}),X}gte(e,t){return this.setLimit(`min`,e,!0,Z.toString(t))}gt(e,t){return this.setLimit(`min`,e,!1,Z.toString(t))}lte(e,t){return this.setLimit(`max`,e,!0,Z.toString(t))}lt(e,t){return this.setLimit(`max`,e,!1,Z.toString(t))}setLimit(t,n,r,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Z.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(e){return this._addCheck({kind:`min`,value:BigInt(0),inclusive:!1,message:Z.toString(e)})}negative(e){return this._addCheck({kind:`max`,value:BigInt(0),inclusive:!1,message:Z.toString(e)})}nonpositive(e){return this._addCheck({kind:`max`,value:BigInt(0),inclusive:!0,message:Z.toString(e)})}nonnegative(e){return this._addCheck({kind:`min`,value:BigInt(0),inclusive:!0,message:Z.toString(e)})}multipleOf(e,t){return this._addCheck({kind:`multipleOf`,value:e,message:Z.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind===`min`&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind===`max`&&(e===null||t.value<e)&&(e=t.value);return e}};y_.create=e=>new y_({checks:[],typeName:$.ZodBigInt,coerce:e?.coerce??!1,...Q(e)});var b_=class extends Gg{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==q.boolean){let t=this._getOrReturnCtx(e);return Y(t,{code:J.invalid_type,expected:q.boolean,received:t.parsedType}),X}return Rg(e.data)}};b_.create=e=>new b_({typeName:$.ZodBoolean,coerce:e?.coerce||!1,...Q(e)});var x_=class e extends Gg{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==q.date){let t=this._getOrReturnCtx(e);return Y(t,{code:J.invalid_type,expected:q.date,received:t.parsedType}),X}if(Number.isNaN(e.data.getTime()))return Y(this._getOrReturnCtx(e),{code:J.invalid_date}),X;let t=new Ig,n;for(let r of this._def.checks)r.kind===`min`?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Y(n,{code:J.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:`date`}),t.dirty()):r.kind===`max`?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Y(n,{code:J.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:`date`}),t.dirty()):Og.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(e,t){return this._addCheck({kind:`min`,value:e.getTime(),message:Z.toString(t)})}max(e,t){return this._addCheck({kind:`max`,value:e.getTime(),message:Z.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind===`min`&&(e===null||t.value>e)&&(e=t.value);return e==null?null:new Date(e)}get maxDate(){let e=null;for(let t of this._def.checks)t.kind===`max`&&(e===null||t.value<e)&&(e=t.value);return e==null?null:new Date(e)}};x_.create=e=>new x_({checks:[],coerce:e?.coerce||!1,typeName:$.ZodDate,...Q(e)});var S_=class extends Gg{_parse(e){if(this._getType(e)!==q.symbol){let t=this._getOrReturnCtx(e);return Y(t,{code:J.invalid_type,expected:q.symbol,received:t.parsedType}),X}return Rg(e.data)}};S_.create=e=>new S_({typeName:$.ZodSymbol,...Q(e)});var C_=class extends Gg{_parse(e){if(this._getType(e)!==q.undefined){let t=this._getOrReturnCtx(e);return Y(t,{code:J.invalid_type,expected:q.undefined,received:t.parsedType}),X}return Rg(e.data)}};C_.create=e=>new C_({typeName:$.ZodUndefined,...Q(e)});var w_=class extends Gg{_parse(e){if(this._getType(e)!==q.null){let t=this._getOrReturnCtx(e);return Y(t,{code:J.invalid_type,expected:q.null,received:t.parsedType}),X}return Rg(e.data)}};w_.create=e=>new w_({typeName:$.ZodNull,...Q(e)});var T_=class extends Gg{constructor(){super(...arguments),this._any=!0}_parse(e){return Rg(e.data)}};T_.create=e=>new T_({typeName:$.ZodAny,...Q(e)});var E_=class extends Gg{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Rg(e.data)}};E_.create=e=>new E_({typeName:$.ZodUnknown,...Q(e)});var D_=class extends Gg{_parse(e){let t=this._getOrReturnCtx(e);return Y(t,{code:J.invalid_type,expected:q.never,received:t.parsedType}),X}};D_.create=e=>new D_({typeName:$.ZodNever,...Q(e)});var O_=class extends Gg{_parse(e){if(this._getType(e)!==q.undefined){let t=this._getOrReturnCtx(e);return Y(t,{code:J.invalid_type,expected:q.void,received:t.parsedType}),X}return Rg(e.data)}};O_.create=e=>new O_({typeName:$.ZodVoid,...Q(e)});var k_=class e extends Gg{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==q.array)return Y(t,{code:J.invalid_type,expected:q.array,received:t.parsedType}),X;if(r.exactLength!==null){let e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(Y(t,{code:e?J.too_big:J.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:`array`,inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&(Y(t,{code:J.too_small,minimum:r.minLength.value,type:`array`,inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&(Y(t,{code:J.too_big,maximum:r.maxLength.value,type:`array`,inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new Ug(t,e,t.path,n)))).then(e=>Ig.mergeArray(n,e));let i=[...t.data].map((e,n)=>r.type._parseSync(new Ug(t,e,t.path,n)));return Ig.mergeArray(n,i)}get element(){return this._def.type}min(t,n){return new e({...this._def,minLength:{value:t,message:Z.toString(n)}})}max(t,n){return new e({...this._def,maxLength:{value:t,message:Z.toString(n)}})}length(t,n){return new e({...this._def,exactLength:{value:t,message:Z.toString(n)}})}nonempty(e){return this.min(1,e)}};k_.create=(e,t)=>new k_({type:e,minLength:null,maxLength:null,exactLength:null,typeName:$.ZodArray,...Q(t)});function A_(e){if(e instanceof j_){let t={};for(let n in e.shape){let r=e.shape[n];t[n]=Y_.create(A_(r))}return new j_({...e._def,shape:()=>t})}else if(e instanceof k_)return new k_({...e._def,type:A_(e.element)});else if(e instanceof Y_)return Y_.create(A_(e.unwrap()));else if(e instanceof X_)return X_.create(A_(e.unwrap()));else if(e instanceof L_)return L_.create(e.items.map(e=>A_(e)));else return e}var j_=class e extends Gg{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape();return this._cached={shape:e,keys:Og.objectKeys(e)},this._cached}_parse(e){if(this._getType(e)!==q.object){let t=this._getOrReturnCtx(e);return Y(t,{code:J.invalid_type,expected:q.object,received:t.parsedType}),X}let{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof D_&&this._def.unknownKeys===`strip`))for(let e in n.data)i.includes(e)||a.push(e);let o=[];for(let e of i){let t=r[e],i=n.data[e];o.push({key:{status:`valid`,value:e},value:t._parse(new Ug(n,i,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof D_){let e=this._def.unknownKeys;if(e===`passthrough`)for(let e of a)o.push({key:{status:`valid`,value:e},value:{status:`valid`,value:n.data[e]}});else if(e===`strict`)a.length>0&&(Y(n,{code:J.unrecognized_keys,keys:a}),t.dirty());else if(e!==`strip`)throw Error(`Internal ZodObject error: invalid unknownKeys value.`)}else{let e=this._def.catchall;for(let t of a){let r=n.data[t];o.push({key:{status:`valid`,value:t},value:e._parse(new Ug(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of o){let n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>Ig.mergeObjectSync(t,e)):Ig.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(t){return Z.errToObj,new e({...this._def,unknownKeys:`strict`,...t===void 0?{}:{errorMap:(e,n)=>{let r=this._def.errorMap?.(e,n).message??n.defaultError;return e.code===`unrecognized_keys`?{message:Z.errToObj(t).message??r}:{message:r}}}})}strip(){return new e({...this._def,unknownKeys:`strip`})}passthrough(){return new e({...this._def,unknownKeys:`passthrough`})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:$.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let n={};for(let e of Og.objectKeys(t))t[e]&&this.shape[e]&&(n[e]=this.shape[e]);return new e({...this._def,shape:()=>n})}omit(t){let n={};for(let e of Og.objectKeys(this.shape))t[e]||(n[e]=this.shape[e]);return new e({...this._def,shape:()=>n})}deepPartial(){return A_(this)}partial(t){let n={};for(let e of Og.objectKeys(this.shape)){let r=this.shape[e];t&&!t[e]?n[e]=r:n[e]=r.optional()}return new e({...this._def,shape:()=>n})}required(t){let n={};for(let e of Og.objectKeys(this.shape))if(t&&!t[e])n[e]=this.shape[e];else{let t=this.shape[e];for(;t instanceof Y_;)t=t._def.innerType;n[e]=t}return new e({...this._def,shape:()=>n})}keyof(){return W_(Og.objectKeys(this.shape))}};j_.create=(e,t)=>new j_({shape:()=>e,unknownKeys:`strip`,catchall:D_.create(),typeName:$.ZodObject,...Q(t)}),j_.strictCreate=(e,t)=>new j_({shape:()=>e,unknownKeys:`strict`,catchall:D_.create(),typeName:$.ZodObject,...Q(t)}),j_.lazycreate=(e,t)=>new j_({shape:e,unknownKeys:`strip`,catchall:D_.create(),typeName:$.ZodObject,...Q(t)});var M_=class extends Gg{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function r(e){for(let t of e)if(t.result.status===`valid`)return t.result;for(let n of e)if(n.result.status===`dirty`)return t.common.issues.push(...n.ctx.common.issues),n.result;let n=e.map(e=>new jg(e.ctx.common.issues));return Y(t,{code:J.invalid_union,unionErrors:n}),X}if(t.common.async)return Promise.all(n.map(async e=>{let n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(r);{let e,r=[];for(let i of n){let n={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:n});if(a.status===`valid`)return a;a.status===`dirty`&&!e&&(e={result:a,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=r.map(e=>new jg(e));return Y(t,{code:J.invalid_union,unionErrors:i}),X}}get options(){return this._def.options}};M_.create=(e,t)=>new M_({options:e,typeName:$.ZodUnion,...Q(t)});var N_=e=>e instanceof H_?N_(e.schema):e instanceof J_?N_(e.innerType()):e instanceof U_?[e.value]:e instanceof G_?e.options:e instanceof K_?Og.objectValues(e.enum):e instanceof Z_?N_(e._def.innerType):e instanceof C_?[void 0]:e instanceof w_?[null]:e instanceof Y_?[void 0,...N_(e.unwrap())]:e instanceof X_?[null,...N_(e.unwrap())]:e instanceof ev||e instanceof nv?N_(e.unwrap()):e instanceof Q_?N_(e._def.innerType):[],P_=class e extends Gg{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==q.object)return Y(t,{code:J.invalid_type,expected:q.object,received:t.parsedType}),X;let n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(Y(t,{code:J.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),X)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){let i=new Map;for(let e of n){let n=N_(e.shape[t]);if(!n.length)throw Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let r of n){if(i.has(r))throw Error(`Discriminator property ${String(t)} has duplicate value ${String(r)}`);i.set(r,e)}}return new e({typeName:$.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...Q(r)})}};function F_(e,t){let n=Ag(e),r=Ag(t);if(e===t)return{valid:!0,data:e};if(n===q.object&&r===q.object){let n=Og.objectKeys(t),r=Og.objectKeys(e).filter(e=>n.indexOf(e)!==-1),i={...e,...t};for(let n of r){let r=F_(e[n],t[n]);if(!r.valid)return{valid:!1};i[n]=r.data}return{valid:!0,data:i}}else if(n===q.array&&r===q.array){if(e.length!==t.length)return{valid:!1};let n=[];for(let r=0;r<e.length;r++){let i=e[r],a=t[r],o=F_(i,a);if(!o.valid)return{valid:!1};n.push(o.data)}return{valid:!0,data:n}}else if(n===q.date&&r===q.date&&+e==+t)return{valid:!0,data:e};else return{valid:!1}}var I_=class extends Gg{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(zg(e)||zg(r))return X;let i=F_(e.value,r.value);return i.valid?((Bg(e)||Bg(r))&&t.dirty(),{status:t.value,value:i.data}):(Y(n,{code:J.invalid_intersection_types}),X)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};I_.create=(e,t,n)=>new I_({left:e,right:t,typeName:$.ZodIntersection,...Q(n)});var L_=class e extends Gg{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==q.array)return Y(n,{code:J.invalid_type,expected:q.array,received:n.parsedType}),X;if(n.data.length<this._def.items.length)return Y(n,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:`array`}),X;!this._def.rest&&n.data.length>this._def.items.length&&(Y(n,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:`array`}),t.dirty());let r=[...n.data].map((e,t)=>{let r=this._def.items[t]||this._def.rest;return r?r._parse(new Ug(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>Ig.mergeArray(t,e)):Ig.mergeArray(t,r)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};L_.create=(e,t)=>{if(!Array.isArray(e))throw Error(`You must pass an array of schemas to z.tuple([ ... ])`);return new L_({items:e,typeName:$.ZodTuple,rest:null,...Q(t)})};var R_=class e extends Gg{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==q.object)return Y(n,{code:J.invalid_type,expected:q.object,received:n.parsedType}),X;let r=[],i=this._def.keyType,a=this._def.valueType;for(let e in n.data)r.push({key:i._parse(new Ug(n,e,n.path,e)),value:a._parse(new Ug(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?Ig.mergeObjectAsync(t,r):Ig.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Gg?new e({keyType:t,valueType:n,typeName:$.ZodRecord,...Q(r)}):new e({keyType:g_.create(),valueType:t,typeName:$.ZodRecord,...Q(n)})}},z_=class extends Gg{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==q.map)return Y(n,{code:J.invalid_type,expected:q.map,received:n.parsedType}),X;let r=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([e,t],a)=>({key:r._parse(new Ug(n,e,n.path,[a,`key`])),value:i._parse(new Ug(n,t,n.path,[a,`value`]))}));if(n.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let n of a){let r=await n.key,i=await n.value;if(r.status===`aborted`||i.status===`aborted`)return X;(r.status===`dirty`||i.status===`dirty`)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}})}else{let e=new Map;for(let n of a){let r=n.key,i=n.value;if(r.status===`aborted`||i.status===`aborted`)return X;(r.status===`dirty`||i.status===`dirty`)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}};z_.create=(e,t,n)=>new z_({valueType:t,keyType:e,typeName:$.ZodMap,...Q(n)});var B_=class e extends Gg{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==q.set)return Y(n,{code:J.invalid_type,expected:q.set,received:n.parsedType}),X;let r=this._def;r.minSize!==null&&n.data.size<r.minSize.value&&(Y(n,{code:J.too_small,minimum:r.minSize.value,type:`set`,inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&n.data.size>r.maxSize.value&&(Y(n,{code:J.too_big,maximum:r.maxSize.value,type:`set`,inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());let i=this._def.valueType;function a(e){let n=new Set;for(let r of e){if(r.status===`aborted`)return X;r.status===`dirty`&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}let o=[...n.data.values()].map((e,t)=>i._parse(new Ug(n,e,n.path,t)));return n.common.async?Promise.all(o).then(e=>a(e)):a(o)}min(t,n){return new e({...this._def,minSize:{value:t,message:Z.toString(n)}})}max(t,n){return new e({...this._def,maxSize:{value:t,message:Z.toString(n)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};B_.create=(e,t)=>new B_({valueType:e,minSize:null,maxSize:null,typeName:$.ZodSet,...Q(t)});var V_=class e extends Gg{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==q.function)return Y(t,{code:J.invalid_type,expected:q.function,received:t.parsedType}),X;function n(e,n){return Fg({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Pg(),Mg].filter(e=>!!e),issueData:{code:J.invalid_arguments,argumentsError:n}})}function r(e,n){return Fg({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Pg(),Mg].filter(e=>!!e),issueData:{code:J.invalid_return_type,returnTypeError:n}})}let i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof q_){let e=this;return Rg(async function(...t){let o=new jg([]),s=await e._def.args.parseAsync(t,i).catch(e=>{throw o.addIssue(n(t,e)),o}),c=await Reflect.apply(a,this,s);return await e._def.returns._def.type.parseAsync(c,i).catch(e=>{throw o.addIssue(r(c,e)),o})})}else{let e=this;return Rg(function(...t){let o=e._def.args.safeParse(t,i);if(!o.success)throw new jg([n(t,o.error)]);let s=Reflect.apply(a,this,o.data),c=e._def.returns.safeParse(s,i);if(!c.success)throw new jg([r(s,c.error)]);return c.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:L_.create(t).rest(E_.create())})}returns(t){return new e({...this._def,returns:t})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(t,n,r){return new e({args:t||L_.create([]).rest(E_.create()),returns:n||E_.create(),typeName:$.ZodFunction,...Q(r)})}},H_=class extends Gg{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};H_.create=(e,t)=>new H_({getter:e,typeName:$.ZodLazy,...Q(t)});var U_=class extends Gg{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return Y(t,{received:t.data,code:J.invalid_literal,expected:this._def.value}),X}return{status:`valid`,value:e.data}}get value(){return this._def.value}};U_.create=(e,t)=>new U_({value:e,typeName:$.ZodLiteral,...Q(t)});function W_(e,t){return new G_({values:e,typeName:$.ZodEnum,...Q(t)})}var G_=class e extends Gg{_parse(e){if(typeof e.data!=`string`){let t=this._getOrReturnCtx(e),n=this._def.values;return Y(t,{expected:Og.joinValues(n),received:t.parsedType,code:J.invalid_type}),X}if(this._cache||=new Set(this._def.values),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return Y(t,{received:t.data,code:J.invalid_enum_value,options:n}),X}return Rg(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(t,n=this._def){return e.create(t,{...this._def,...n})}exclude(t,n=this._def){return e.create(this.options.filter(e=>!t.includes(e)),{...this._def,...n})}};G_.create=W_;var K_=class extends Gg{_parse(e){let t=Og.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==q.string&&n.parsedType!==q.number){let e=Og.objectValues(t);return Y(n,{expected:Og.joinValues(e),received:n.parsedType,code:J.invalid_type}),X}if(this._cache||=new Set(Og.getValidEnumValues(this._def.values)),!this._cache.has(e.data)){let e=Og.objectValues(t);return Y(n,{received:n.data,code:J.invalid_enum_value,options:e}),X}return Rg(e.data)}get enum(){return this._def.values}};K_.create=(e,t)=>new K_({values:e,typeName:$.ZodNativeEnum,...Q(t)});var q_=class extends Gg{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==q.promise&&t.common.async===!1?(Y(t,{code:J.invalid_type,expected:q.promise,received:t.parsedType}),X):Rg((t.parsedType===q.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}};q_.create=(e,t)=>new q_({type:e,typeName:$.ZodPromise,...Q(t)});var J_=class extends Gg{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{Y(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),r.type===`preprocess`){let e=r.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then(async e=>{if(t.value===`aborted`)return X;let r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return r.status===`aborted`?X:r.status===`dirty`||t.value===`dirty`?Lg(r.value):r});{if(t.value===`aborted`)return X;let r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return r.status===`aborted`?X:r.status===`dirty`||t.value===`dirty`?Lg(r.value):r}}if(r.type===`refinement`){let e=e=>{let t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error(`Async refinement encountered during synchronous parse operation. Use .parseAsync instead.`);return e};if(n.common.async===!1){let r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return r.status===`aborted`?X:(r.status===`dirty`&&t.dirty(),e(r.value),{status:t.value,value:r.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>n.status===`aborted`?X:(n.status===`dirty`&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if(r.type===`transform`)if(n.common.async===!1){let e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Vg(e))return X;let a=r.transform(e.value,i);if(a instanceof Promise)throw Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>Vg(e)?Promise.resolve(r.transform(e.value,i)).then(e=>({status:t.value,value:e})):X);Og.assertNever(r)}};J_.create=(e,t,n)=>new J_({schema:e,typeName:$.ZodEffects,effect:t,...Q(n)}),J_.createWithPreprocess=(e,t,n)=>new J_({schema:t,effect:{type:`preprocess`,transform:e},typeName:$.ZodEffects,...Q(n)});var Y_=class extends Gg{_parse(e){return this._getType(e)===q.undefined?Rg(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Y_.create=(e,t)=>new Y_({innerType:e,typeName:$.ZodOptional,...Q(t)});var X_=class extends Gg{_parse(e){return this._getType(e)===q.null?Rg(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};X_.create=(e,t)=>new X_({innerType:e,typeName:$.ZodNullable,...Q(t)});var Z_=class extends Gg{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===q.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};Z_.create=(e,t)=>new Z_({innerType:e,typeName:$.ZodDefault,defaultValue:typeof t.default==`function`?t.default:()=>t.default,...Q(t)});var Q_=class extends Gg{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Hg(r)?r.then(e=>({status:`valid`,value:e.status===`valid`?e.value:this._def.catchValue({get error(){return new jg(n.common.issues)},input:n.data})})):{status:`valid`,value:r.status===`valid`?r.value:this._def.catchValue({get error(){return new jg(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Q_.create=(e,t)=>new Q_({innerType:e,typeName:$.ZodCatch,catchValue:typeof t.catch==`function`?t.catch:()=>t.catch,...Q(t)});var $_=class extends Gg{_parse(e){if(this._getType(e)!==q.nan){let t=this._getOrReturnCtx(e);return Y(t,{code:J.invalid_type,expected:q.nan,received:t.parsedType}),X}return{status:`valid`,value:e.data}}};$_.create=e=>new $_({typeName:$.ZodNaN,...Q(e)});var ev=class extends Gg{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},tv=class e extends Gg{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return e.status===`aborted`?X:e.status===`dirty`?(t.dirty(),Lg(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{let e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return e.status===`aborted`?X:e.status===`dirty`?(t.dirty(),{status:`dirty`,value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(t,n){return new e({in:t,out:n,typeName:$.ZodPipeline})}},nv=class extends Gg{_parse(e){let t=this._def.innerType._parse(e),n=e=>(Vg(e)&&(e.value=Object.freeze(e.value)),e);return Hg(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}};nv.create=(e,t)=>new nv({innerType:e,typeName:$.ZodReadonly,...Q(t)}),j_.lazycreate;var $;(function(e){e.ZodString=`ZodString`,e.ZodNumber=`ZodNumber`,e.ZodNaN=`ZodNaN`,e.ZodBigInt=`ZodBigInt`,e.ZodBoolean=`ZodBoolean`,e.ZodDate=`ZodDate`,e.ZodSymbol=`ZodSymbol`,e.ZodUndefined=`ZodUndefined`,e.ZodNull=`ZodNull`,e.ZodAny=`ZodAny`,e.ZodUnknown=`ZodUnknown`,e.ZodNever=`ZodNever`,e.ZodVoid=`ZodVoid`,e.ZodArray=`ZodArray`,e.ZodObject=`ZodObject`,e.ZodUnion=`ZodUnion`,e.ZodDiscriminatedUnion=`ZodDiscriminatedUnion`,e.ZodIntersection=`ZodIntersection`,e.ZodTuple=`ZodTuple`,e.ZodRecord=`ZodRecord`,e.ZodMap=`ZodMap`,e.ZodSet=`ZodSet`,e.ZodFunction=`ZodFunction`,e.ZodLazy=`ZodLazy`,e.ZodLiteral=`ZodLiteral`,e.ZodEnum=`ZodEnum`,e.ZodEffects=`ZodEffects`,e.ZodNativeEnum=`ZodNativeEnum`,e.ZodOptional=`ZodOptional`,e.ZodNullable=`ZodNullable`,e.ZodDefault=`ZodDefault`,e.ZodCatch=`ZodCatch`,e.ZodPromise=`ZodPromise`,e.ZodBranded=`ZodBranded`,e.ZodPipeline=`ZodPipeline`,e.ZodReadonly=`ZodReadonly`})($||={}),g_.create,v_.create,$_.create,y_.create,b_.create,x_.create,S_.create,C_.create,w_.create,T_.create,E_.create,D_.create,O_.create,k_.create,j_.create,j_.strictCreate,M_.create,P_.create,I_.create,L_.create,R_.create,z_.create,B_.create,V_.create,H_.create,U_.create,G_.create,K_.create,q_.create,J_.create,Y_.create,X_.create,J_.createWithPreprocess,tv.create;function rv(...e){return e.reduce((e,t)=>({...e,...t??{}}),{})}async function iv(e,t){if(e==null)return Promise.resolve();let n=t?.abortSignal;return new Promise((t,r)=>{if(n?.aborted){r(av());return}let i=setTimeout(()=>{a(),t()},e),a=()=>{clearTimeout(i),n?.removeEventListener(`abort`,o)},o=()=>{a(),r(av())};n?.addEventListener(`abort`,o)})}function av(){return new DOMException(`Delay was aborted`,`AbortError`)}function ov(e){return Object.fromEntries([...e.headers])}var sv=({prefix:e,size:t=16,alphabet:n=`0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz`,separator:r=`-`}={})=>{let i=()=>{let e=n.length,r=Array(t);for(let i=0;i<t;i++)r[i]=n[Math.random()*e|0];return r.join(``)};if(e==null)return i;if(n.includes(r))throw new Cl({argument:`separator`,message:`The separator "${r}" must not be part of the alphabet "${n}".`});return()=>`${e}${r}${i()}`},cv=sv();function lv(e){return e==null?`unknown error`:typeof e==`string`?e:e instanceof Error?e.message:JSON.stringify(e)}function uv(e){return(e instanceof Error||e instanceof DOMException)&&(e.name===`AbortError`||e.name===`ResponseAborted`||e.name===`TimeoutError`)}var dv=[`fetch failed`,`failed to fetch`];function fv({error:e,url:t,requestBodyValues:n}){if(uv(e))return e;if(e instanceof TypeError&&dv.includes(e.message.toLowerCase())){let r=e.cause;if(r!=null)return new fl({message:`Cannot connect to API: ${r.message}`,cause:r,url:t,requestBodyValues:n,isRetryable:!0})}return e}function pv(e=globalThis){return e.window?`runtime/browser`:e.navigator?.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:e.process?.versions?.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?`runtime/vercel-edge`:`runtime/unknown`}function mv(e){if(e==null)return{};let t={};if(e instanceof Headers)e.forEach((e,n)=>{t[n.toLowerCase()]=e});else{Array.isArray(e)||(e=Object.entries(e));for(let[n,r]of e)r!=null&&(t[n.toLowerCase()]=r)}return t}function hv(e,...t){let n=new Headers(mv(e)),r=n.get(`user-agent`)||``;return n.set(`user-agent`,[r,...t].filter(Boolean).join(` `)),Object.fromEntries(n.entries())}var gv=`3.0.17`,_v=()=>globalThis.fetch,vv=async({url:e,headers:t={},successfulResponseHandler:n,failedResponseHandler:r,abortSignal:i,fetch:a=_v()})=>{try{let o=await a(e,{method:`GET`,headers:hv(t,`ai-sdk/provider-utils/${gv}`,pv()),signal:i}),s=ov(o);if(!o.ok){let t;try{t=await r({response:o,url:e,requestBodyValues:{}})}catch(t){throw uv(t)||fl.isInstance(t)?t:new fl({message:`Failed to process error response`,cause:t,statusCode:o.status,url:e,responseHeaders:s,requestBodyValues:{}})}throw t.value}try{return await n({response:o,url:e,requestBodyValues:{}})}catch(t){throw t instanceof Error&&(uv(t)||fl.isInstance(t))?t:new fl({message:`Failed to process successful response`,cause:t,statusCode:o.status,url:e,responseHeaders:s,requestBodyValues:{}})}}catch(t){throw fv({error:t,url:e,requestBodyValues:{}})}};function yv({mediaType:e,url:t,supportedUrls:n}){return t=t.toLowerCase(),e=e.toLowerCase(),Object.entries(n).map(([e,t])=>{let n=e.toLowerCase();return n===`*`||n===`*/*`?{mediaTypePrefix:``,regexes:t}:{mediaTypePrefix:n.replace(/\*/,``),regexes:t}}).filter(({mediaTypePrefix:t})=>e.startsWith(t)).flatMap(({regexes:e})=>e).some(e=>e.test(t))}function bv({apiKey:e,environmentVariableName:t,apiKeyParameterName:n=`apiKey`,description:r}){if(typeof e==`string`)return e;if(e!=null)throw new Ul({message:`${r} API key must be a string.`});if(typeof process>`u`)throw new Ul({message:`${r} API key is missing. Pass it using the '${n}' parameter. Environment variables is not supported in this environment.`});if(e={}[t],e==null)throw new Ul({message:`${r} API key is missing. Pass it using the '${n}' parameter or the ${t} environment variable.`});if(typeof e!=`string`)throw new Ul({message:`${r} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}function xv({settingValue:e,environmentVariableName:t}){if(typeof e==`string`||!(e!=null||typeof process>`u`)&&(e={}[t],!(e==null||typeof e!=`string`)))return e}var Sv=/"__proto__"\s*:/,Cv=/"constructor"\s*:/;function wv(e){let t=JSON.parse(e);return typeof t!=`object`||!t||Sv.test(e)===!1&&Cv.test(e)===!1?t:Tv(t)}function Tv(e){let t=[e];for(;t.length;){let e=t;t=[];for(let n of e){if(Object.prototype.hasOwnProperty.call(n,`__proto__`)||Object.prototype.hasOwnProperty.call(n,`constructor`)&&Object.prototype.hasOwnProperty.call(n.constructor,`prototype`))throw SyntaxError(`Object contains forbidden prototype property`);for(let e in n){let r=n[e];r&&typeof r==`object`&&t.push(r)}}}return e}function Ev(e){let{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return wv(e)}try{return wv(e)}finally{Error.stackTraceLimit=t}}var Dv=Symbol.for(`vercel.ai.validator`);function Ov(e){return{[Dv]:!0,validate:e}}function kv(e){return typeof e==`object`&&!!e&&Dv in e&&e[Dv]===!0&&`validate`in e}function Av(e){let t;return()=>(t??=e(),t)}function jv(e){return kv(e)?e:typeof e==`function`?e():Mv(e)}function Mv(e){return Ov(async t=>{let n=await e[`~standard`].validate(t);return n.issues==null?{success:!0,value:n.value}:{success:!1,error:new eu({value:t,cause:n.issues})}})}async function Nv({value:e,schema:t}){let n=await Pv({value:e,schema:t});if(!n.success)throw eu.wrap({value:e,cause:n.error});return n.value}async function Pv({value:e,schema:t}){let n=jv(t);try{if(n.validate==null)return{success:!0,value:e,rawValue:e};let t=await n.validate(e);return t.success?{success:!0,value:t.value,rawValue:e}:{success:!1,error:eu.wrap({value:e,cause:t.error}),rawValue:e}}catch(t){return{success:!1,error:eu.wrap({value:e,cause:t}),rawValue:e}}}async function Fv({text:e,schema:t}){try{let n=Ev(e);return t==null?n:Nv({value:n,schema:t})}catch(t){throw Rl.isInstance(t)||eu.isInstance(t)?t:new Rl({text:e,cause:t})}}async function Iv({text:e,schema:t}){try{let n=Ev(e);return t==null?{success:!0,value:n,rawValue:n}:await Pv({value:n,schema:t})}catch(t){return{success:!1,error:Rl.isInstance(t)?t:new Rl({text:e,cause:t}),rawValue:void 0}}}function Lv(e){try{return Ev(e),!0}catch{return!1}}function Rv({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new uu).pipeThrough(new TransformStream({async transform({data:e},n){e!==`[DONE]`&&n.enqueue(await Iv({text:e,schema:t}))}}))}async function zv({provider:e,providerOptions:t,schema:n}){if(t?.[e]==null)return;let r=await Pv({value:t[e],schema:n});if(!r.success)throw new Cl({argument:`providerOptions`,message:`invalid ${e} provider options`,cause:r.error});return r.value}var Bv=()=>globalThis.fetch,Vv=async({url:e,headers:t,body:n,failedResponseHandler:r,successfulResponseHandler:i,abortSignal:a,fetch:o})=>Hv({url:e,headers:{"Content-Type":`application/json`,...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:r,successfulResponseHandler:i,abortSignal:a,fetch:o}),Hv=async({url:e,headers:t={},body:n,successfulResponseHandler:r,failedResponseHandler:i,abortSignal:a,fetch:o=Bv()})=>{try{let s=await o(e,{method:`POST`,headers:hv(t,`ai-sdk/provider-utils/${gv}`,pv()),body:n.content,signal:a}),c=ov(s);if(!s.ok){let t;try{t=await i({response:s,url:e,requestBodyValues:n.values})}catch(t){throw uv(t)||fl.isInstance(t)?t:new fl({message:`Failed to process error response`,cause:t,statusCode:s.status,url:e,responseHeaders:c,requestBodyValues:n.values})}throw t.value}try{return await r({response:s,url:e,requestBodyValues:n.values})}catch(t){throw t instanceof Error&&(uv(t)||fl.isInstance(t))?t:new fl({message:`Failed to process successful response`,cause:t,statusCode:s.status,url:e,responseHeaders:c,requestBodyValues:n.values})}}catch(t){throw fv({error:t,url:e,requestBodyValues:n.values})}};async function Uv(e){return typeof e==`function`&&(e=e()),Promise.resolve(e)}var Wv=({errorSchema:e,errorToMessage:t,isRetryable:n})=>async({response:r,url:i,requestBodyValues:a})=>{let o=await r.text(),s=ov(r);if(o.trim()===``)return{responseHeaders:s,value:new fl({message:r.statusText,url:i,requestBodyValues:a,statusCode:r.status,responseHeaders:s,responseBody:o,isRetryable:n?.(r)})};try{let c=await Fv({text:o,schema:e});return{responseHeaders:s,value:new fl({message:t(c),url:i,requestBodyValues:a,statusCode:r.status,responseHeaders:s,responseBody:o,data:c,isRetryable:n?.(r,c)})}}catch{return{responseHeaders:s,value:new fl({message:r.statusText,url:i,requestBodyValues:a,statusCode:r.status,responseHeaders:s,responseBody:o,isRetryable:n?.(r)})}}},Gv=e=>async({response:t})=>{let n=ov(t);if(t.body==null)throw new _l({});return{responseHeaders:n,value:Rv({stream:t.body,schema:e})}},Kv=e=>async({response:t,url:n,requestBodyValues:r})=>{let i=await t.text(),a=await Iv({text:i,schema:e}),o=ov(t);if(!a.success)throw new fl({message:`Invalid JSON response`,cause:a.error,statusCode:t.status,responseHeaders:o,responseBody:i,url:n,requestBodyValues:r});return{responseHeaders:o,value:a.value,rawValue:a.rawValue}},qv=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join(`/`)},Jv=Symbol(`Let zodToJsonSchema decide on which parser to use`),Yv={name:void 0,$refStrategy:`root`,basePath:[`#`],effectStrategy:`input`,pipeStrategy:`all`,dateStrategy:`format:date-time`,mapStrategy:`entries`,removeAdditionalStrategy:`passthrough`,allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:`definitions`,strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:`escape`,applyRegexFlags:!1,emailStrategy:`format:email`,base64Strategy:`contentEncoding:base64`,nameStrategy:`ref`},Xv=e=>typeof e==`string`?{...Yv,name:e}:{...Yv,...e};function Zv(){return{}}function Qv(e,t){let n={type:`array`};return e.type?._def&&e.type?._def?.typeName!==$.ZodAny&&(n.items=Hy(e.type._def,{...t,currentPath:[...t.currentPath,`items`]})),e.minLength&&(n.minItems=e.minLength.value),e.maxLength&&(n.maxItems=e.maxLength.value),e.exactLength&&(n.minItems=e.exactLength.value,n.maxItems=e.exactLength.value),n}function $v(e){let t={type:`integer`,format:`int64`};if(!e.checks)return t;for(let n of e.checks)switch(n.kind){case`min`:n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case`max`:n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case`multipleOf`:t.multipleOf=n.value;break}return t}function ey(){return{type:`boolean`}}function ty(e,t){return Hy(e.type._def,t)}var ny=(e,t)=>Hy(e.innerType._def,t);function ry(e,t,n){let r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((n,r)=>ry(e,t,n))};switch(r){case`string`:case`format:date-time`:return{type:`string`,format:`date-time`};case`format:date`:return{type:`string`,format:`date`};case`integer`:return iy(e)}}var iy=e=>{let t={type:`integer`,format:`unix-time`};for(let n of e.checks)switch(n.kind){case`min`:t.minimum=n.value;break;case`max`:t.maximum=n.value;break}return t};function ay(e,t){return{...Hy(e.innerType._def,t),default:e.defaultValue()}}function oy(e,t){return t.effectStrategy===`input`?Hy(e.schema._def,t):Zv()}function sy(e){return{type:`string`,enum:Array.from(e.values)}}var cy=e=>`type`in e&&e.type===`string`?!1:`allOf`in e;function ly(e,t){let n=[Hy(e.left._def,{...t,currentPath:[...t.currentPath,`allOf`,`0`]}),Hy(e.right._def,{...t,currentPath:[...t.currentPath,`allOf`,`1`]})].filter(e=>!!e),r=[];return n.forEach(e=>{if(cy(e))r.push(...e.allOf);else{let t=e;if(`additionalProperties`in e&&e.additionalProperties===!1){let{additionalProperties:n,...r}=e;t=r}r.push(t)}}),r.length?{allOf:r}:void 0}function uy(e){let t=typeof e.value;return t!==`bigint`&&t!==`number`&&t!==`boolean`&&t!==`string`?{type:Array.isArray(e.value)?`array`:`object`}:{type:t===`bigint`?`integer`:t,const:e.value}}var dy=void 0,fy={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(dy===void 0&&(dy=RegExp(`^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$`,`u`)),dy),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function py(e,t){let n={type:`string`};if(e.checks)for(let r of e.checks)switch(r.kind){case`min`:n.minLength=typeof n.minLength==`number`?Math.max(n.minLength,r.value):r.value;break;case`max`:n.maxLength=typeof n.maxLength==`number`?Math.min(n.maxLength,r.value):r.value;break;case`email`:switch(t.emailStrategy){case`format:email`:_y(n,`email`,r.message,t);break;case`format:idn-email`:_y(n,`idn-email`,r.message,t);break;case`pattern:zod`:vy(n,fy.email,r.message,t);break}break;case`url`:_y(n,`uri`,r.message,t);break;case`uuid`:_y(n,`uuid`,r.message,t);break;case`regex`:vy(n,r.regex,r.message,t);break;case`cuid`:vy(n,fy.cuid,r.message,t);break;case`cuid2`:vy(n,fy.cuid2,r.message,t);break;case`startsWith`:vy(n,RegExp(`^${my(r.value,t)}`),r.message,t);break;case`endsWith`:vy(n,RegExp(`${my(r.value,t)}$`),r.message,t);break;case`datetime`:_y(n,`date-time`,r.message,t);break;case`date`:_y(n,`date`,r.message,t);break;case`time`:_y(n,`time`,r.message,t);break;case`duration`:_y(n,`duration`,r.message,t);break;case`length`:n.minLength=typeof n.minLength==`number`?Math.max(n.minLength,r.value):r.value,n.maxLength=typeof n.maxLength==`number`?Math.min(n.maxLength,r.value):r.value;break;case`includes`:vy(n,RegExp(my(r.value,t)),r.message,t);break;case`ip`:r.version!==`v6`&&_y(n,`ipv4`,r.message,t),r.version!==`v4`&&_y(n,`ipv6`,r.message,t);break;case`base64url`:vy(n,fy.base64url,r.message,t);break;case`jwt`:vy(n,fy.jwt,r.message,t);break;case`cidr`:r.version!==`v6`&&vy(n,fy.ipv4Cidr,r.message,t),r.version!==`v4`&&vy(n,fy.ipv6Cidr,r.message,t);break;case`emoji`:vy(n,fy.emoji(),r.message,t);break;case`ulid`:vy(n,fy.ulid,r.message,t);break;case`base64`:switch(t.base64Strategy){case`format:binary`:_y(n,`binary`,r.message,t);break;case`contentEncoding:base64`:n.contentEncoding=`base64`;break;case`pattern:zod`:vy(n,fy.base64,r.message,t);break}break;case`nanoid`:vy(n,fy.nanoid,r.message,t);case`toLowerCase`:case`toUpperCase`:case`trim`:break;default:}return n}function my(e,t){return t.patternStrategy===`escape`?gy(e):e}var hy=new Set(`ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789`);function gy(e){let t=``;for(let n=0;n<e.length;n++)hy.has(e[n])||(t+=`\\`),t+=e[n];return t}function _y(e,t,n,r){e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||=[],e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function vy(e,t,n,r){e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||=[],e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:yy(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=yy(t,r)}function yy(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let n={i:e.flags.includes(`i`),m:e.flags.includes(`m`),s:e.flags.includes(`s`)},r=n.i?e.source.toLowerCase():e.source,i=``,a=!1,o=!1,s=!1;for(let e=0;e<r.length;e++){if(a){i+=r[e],a=!1;continue}if(n.i){if(o){if(r[e].match(/[a-z]/)){s?(i+=r[e],i+=`${r[e-2]}-${r[e]}`.toUpperCase(),s=!1):r[e+1]===`-`&&r[e+2]?.match(/[a-z]/)?(i+=r[e],s=!0):i+=`${r[e]}${r[e].toUpperCase()}`;continue}}else if(r[e].match(/[a-z]/)){i+=`[${r[e]}${r[e].toUpperCase()}]`;continue}}if(n.m){if(r[e]===`^`){i+=`(^|(?<=[\r
]))`;continue}else if(r[e]===`$`){i+=`($|(?=[\r
]))`;continue}}if(n.s&&r[e]===`.`){i+=o?`${r[e]}\r
`:`[${r[e]}\r
]`;continue}i+=r[e],r[e]===`\\`?a=!0:o&&r[e]===`]`?o=!1:!o&&r[e]===`[`&&(o=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join(`/`)} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}function by(e,t){let n={type:`object`,additionalProperties:Hy(e.valueType._def,{...t,currentPath:[...t.currentPath,`additionalProperties`]})??t.allowedAdditionalProperties};if(e.keyType?._def.typeName===$.ZodString&&e.keyType._def.checks?.length){let{type:r,...i}=py(e.keyType._def,t);return{...n,propertyNames:i}}else if(e.keyType?._def.typeName===$.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};else if(e.keyType?._def.typeName===$.ZodBranded&&e.keyType._def.type._def.typeName===$.ZodString&&e.keyType._def.type._def.checks?.length){let{type:r,...i}=ty(e.keyType._def,t);return{...n,propertyNames:i}}return n}function xy(e,t){return t.mapStrategy===`record`?by(e,t):{type:`array`,maxItems:125,items:{type:`array`,items:[Hy(e.keyType._def,{...t,currentPath:[...t.currentPath,`items`,`items`,`0`]})||Zv(),Hy(e.valueType._def,{...t,currentPath:[...t.currentPath,`items`,`items`,`1`]})||Zv()],minItems:2,maxItems:2}}}function Sy(e){let t=e.values,n=Object.keys(e.values).filter(e=>typeof t[t[e]]!=`number`).map(e=>t[e]),r=Array.from(new Set(n.map(e=>typeof e)));return{type:r.length===1?r[0]===`string`?`string`:`number`:[`string`,`number`],enum:n}}function Cy(){return{not:Zv()}}function wy(){return{type:`null`}}var Ty={ZodString:`string`,ZodNumber:`number`,ZodBigInt:`integer`,ZodBoolean:`boolean`,ZodNull:`null`};function Ey(e,t){let n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(e=>e._def.typeName in Ty&&(!e._def.checks||!e._def.checks.length))){let e=n.reduce((e,t)=>{let n=Ty[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e},[]);return{type:e.length>1?e:e[0]}}else if(n.every(e=>e._def.typeName===`ZodLiteral`&&!e.description)){let e=n.reduce((e,t)=>{let n=typeof t._def.value;switch(n){case`string`:case`number`:case`boolean`:return[...e,n];case`bigint`:return[...e,`integer`];case`object`:if(t._def.value===null)return[...e,`null`];case`symbol`:case`undefined`:case`function`:default:return e}},[]);if(e.length===n.length){let t=e.filter((e,t,n)=>n.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:n.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(n.every(e=>e._def.typeName===`ZodEnum`))return{type:`string`,enum:n.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return Dy(e,t)}var Dy=(e,t)=>{let n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,n)=>Hy(e._def,{...t,currentPath:[...t.currentPath,`anyOf`,`${n}`]})).filter(e=>!!e&&(!t.strictUnions||typeof e==`object`&&Object.keys(e).length>0));return n.length?{anyOf:n}:void 0};function Oy(e,t){if([`ZodString`,`ZodNumber`,`ZodBigInt`,`ZodBoolean`,`ZodNull`].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[Ty[e.innerType._def.typeName],`null`]};let n=Hy(e.innerType._def,{...t,currentPath:[...t.currentPath,`anyOf`,`0`]});return n&&{anyOf:[n,{type:`null`}]}}function ky(e){let t={type:`number`};if(!e.checks)return t;for(let n of e.checks)switch(n.kind){case`int`:t.type=`integer`;break;case`min`:n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case`max`:n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case`multipleOf`:t.multipleOf=n.value;break}return t}function Ay(e,t){let n={type:`object`,properties:{}},r=[],i=e.shape();for(let e in i){let a=i[e];if(a===void 0||a._def===void 0)continue;let o=My(a),s=Hy(a._def,{...t,currentPath:[...t.currentPath,`properties`,e],propertyPath:[...t.currentPath,`properties`,e]});s!==void 0&&(n.properties[e]=s,o||r.push(e))}r.length&&(n.required=r);let a=jy(e,t);return a!==void 0&&(n.additionalProperties=a),n}function jy(e,t){if(e.catchall._def.typeName!==`ZodNever`)return Hy(e.catchall._def,{...t,currentPath:[...t.currentPath,`additionalProperties`]});switch(e.unknownKeys){case`passthrough`:return t.allowedAdditionalProperties;case`strict`:return t.rejectedAdditionalProperties;case`strip`:return t.removeAdditionalStrategy===`strict`?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function My(e){try{return e.isOptional()}catch{return!0}}var Ny=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return Hy(e.innerType._def,t);let n=Hy(e.innerType._def,{...t,currentPath:[...t.currentPath,`anyOf`,`1`]});return n?{anyOf:[{not:Zv()},n]}:Zv()},Py=(e,t)=>{if(t.pipeStrategy===`input`)return Hy(e.in._def,t);if(t.pipeStrategy===`output`)return Hy(e.out._def,t);let n=Hy(e.in._def,{...t,currentPath:[...t.currentPath,`allOf`,`0`]});return{allOf:[n,Hy(e.out._def,{...t,currentPath:[...t.currentPath,`allOf`,n?`1`:`0`]})].filter(e=>e!==void 0)}};function Fy(e,t){return Hy(e.type._def,t)}function Iy(e,t){let n={type:`array`,uniqueItems:!0,items:Hy(e.valueType._def,{...t,currentPath:[...t.currentPath,`items`]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}function Ly(e,t){return e.rest?{type:`array`,minItems:e.items.length,items:e.items.map((e,n)=>Hy(e._def,{...t,currentPath:[...t.currentPath,`items`,`${n}`]})).reduce((e,t)=>t===void 0?e:[...e,t],[]),additionalItems:Hy(e.rest._def,{...t,currentPath:[...t.currentPath,`additionalItems`]})}:{type:`array`,minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,n)=>Hy(e._def,{...t,currentPath:[...t.currentPath,`items`,`${n}`]})).reduce((e,t)=>t===void 0?e:[...e,t],[])}}function Ry(){return{not:Zv()}}function zy(){return Zv()}var By=(e,t)=>Hy(e.innerType._def,t),Vy=(e,t,n)=>{switch(t){case $.ZodString:return py(e,n);case $.ZodNumber:return ky(e);case $.ZodObject:return Ay(e,n);case $.ZodBigInt:return $v(e);case $.ZodBoolean:return ey();case $.ZodDate:return ry(e,n);case $.ZodUndefined:return Ry();case $.ZodNull:return wy();case $.ZodArray:return Qv(e,n);case $.ZodUnion:case $.ZodDiscriminatedUnion:return Ey(e,n);case $.ZodIntersection:return ly(e,n);case $.ZodTuple:return Ly(e,n);case $.ZodRecord:return by(e,n);case $.ZodLiteral:return uy(e);case $.ZodEnum:return sy(e);case $.ZodNativeEnum:return Sy(e);case $.ZodNullable:return Oy(e,n);case $.ZodOptional:return Ny(e,n);case $.ZodMap:return xy(e,n);case $.ZodSet:return Iy(e,n);case $.ZodLazy:return()=>e.getter()._def;case $.ZodPromise:return Fy(e,n);case $.ZodNaN:case $.ZodNever:return Cy();case $.ZodEffects:return oy(e,n);case $.ZodAny:return Zv();case $.ZodUnknown:return zy();case $.ZodDefault:return ay(e,n);case $.ZodBranded:return ty(e,n);case $.ZodReadonly:return By(e,n);case $.ZodCatch:return ny(e,n);case $.ZodPipeline:return Py(e,n);case $.ZodFunction:case $.ZodVoid:case $.ZodSymbol:return;default:return(e=>void 0)(t)}};function Hy(e,t,n=!1){let r=t.seen.get(e);if(t.override){let i=t.override?.call(t,e,t,r,n);if(i!==Jv)return i}if(r&&!n){let e=Uy(r,t);if(e!==void 0)return e}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let a=Vy(e,e.typeName,t),o=typeof a==`function`?Hy(a(),t):a;if(o&&Wy(e,t,o),t.postProcess){let n=t.postProcess(o,e,t);return i.jsonSchema=o,n}return i.jsonSchema=o,o}var Uy=(e,t)=>{switch(t.$refStrategy){case`root`:return{$ref:e.path.join(`/`)};case`relative`:return{$ref:qv(t.currentPath,e.path)};case`none`:case`seen`:return e.path.length<t.currentPath.length&&e.path.every((e,n)=>t.currentPath[n]===e)?(console.warn(`Recursive reference detected at ${t.currentPath.join(`/`)}! Defaulting to any`),Zv()):t.$refStrategy===`seen`?Zv():void 0}},Wy=(e,t,n)=>(e.description&&(n.description=e.description),n),Gy=e=>{let t=Xv(e),n=t.name===void 0?t.basePath:[...t.basePath,t.definitionPath,t.name];return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,n])=>[n._def,{def:n._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}},Ky=(e,t)=>{let n=Gy(t),r=typeof t==`object`&&t.definitions?Object.entries(t.definitions).reduce((e,[t,r])=>({...e,[t]:Hy(r._def,{...n,currentPath:[...n.basePath,n.definitionPath,t]},!0)??Zv()}),{}):void 0,i=typeof t==`string`?t:t?.nameStrategy===`title`?void 0:t?.name,a=Hy(e._def,i===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,i]},!1)??Zv(),o=typeof t==`object`&&t.name!==void 0&&t.nameStrategy===`title`?t.name:void 0;o!==void 0&&(a.title=o);let s=i===void 0?r?{...a,[n.definitionPath]:r}:a:{$ref:[...n.$refStrategy===`relative`?[]:n.basePath,n.definitionPath,i].join(`/`),[n.definitionPath]:{...r,[i]:a}};return s.$schema=`http://json-schema.org/draft-07/schema#`,s};function qy(e,t){let n=t?.useReferences??!1;return Qy(()=>Ky(e,{$refStrategy:n?`root`:`none`}),{validate:async t=>{let n=await e.safeParseAsync(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}function Jy(e,t){let n=t?.useReferences??!1;return Qy(()=>Fm(e,{target:`draft-7`,io:`output`,reused:n?`ref`:`inline`}),{validate:async t=>{let n=await Xm(e,t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}function Yy(e){return`_zod`in e}function Xy(e,t){return Yy(e)?Jy(e,t):qy(e,t)}var Zy=Symbol.for(`vercel.ai.schema`);function Qy(e,{validate:t}={}){return{[Zy]:!0,_type:void 0,[Dv]:!0,get jsonSchema(){return typeof e==`function`&&(e=e()),e},validate:t}}function $y(e){return typeof e==`object`&&!!e&&Zy in e&&e[Zy]===!0&&`jsonSchema`in e&&`validate`in e}function eb(e){return e==null?Qy({properties:{},additionalProperties:!1}):$y(e)?e:typeof e==`function`?e():Xy(e)}var{btoa:tb,atob:nb}=globalThis;function rb(e){let t=nb(e.replace(/-/g,`+`).replace(/_/g,`/`));return Uint8Array.from(t,e=>e.codePointAt(0))}function ib(e){let t=``;for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return tb(t)}function ab(e){return e instanceof Uint8Array?ib(e):e}function ob(e){return e?.replace(/\/$/,``)}function sb(e){return e!=null&&typeof e[Symbol.asyncIterator]==`function`}async function*cb({execute:e,input:t,options:n}){let r=e(t,n);if(sb(r)){let e;for await(let t of r)e=t,yield{type:`preliminary`,output:t};yield{type:`final`,output:e}}else yield{type:`final`,output:await r}}var lb=t(((e,t)=>{var n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,o=(e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})},s=(e,t,o,s)=>{if(t&&typeof t==`object`||typeof t==`function`)for(let c of i(t))!a.call(e,c)&&c!==o&&n(e,c,{get:()=>t[c],enumerable:!(s=r(t,c))||s.enumerable});return e},c=e=>s(n({},`__esModule`,{value:!0}),e),l={};o(l,{SYMBOL_FOR_REQ_CONTEXT:()=>u,getContext:()=>d}),t.exports=c(l);var u=Symbol.for(`@vercel/request-context`);function d(){return globalThis[u]?.get?.()??{}}})),ub=t(((e,t)=>{var n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,o=(e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})},s=(e,t,o,s)=>{if(t&&typeof t==`object`||typeof t==`function`)for(let c of i(t))!a.call(e,c)&&c!==o&&n(e,c,{get:()=>t[c],enumerable:!(s=r(t,c))||s.enumerable});return e},c=e=>s(n({},`__esModule`,{value:!0}),e),l={};o(l,{getContext:()=>u.getContext,getVercelOidcToken:()=>d,getVercelOidcTokenSync:()=>f}),t.exports=c(l);var u=lb();async function d(){return``}function f(){return``}})),db=ub(),fb=ub(),pb=Symbol.for(`vercel.ai.gateway.error`),mb,hb,gb=class e extends (hb=Error,mb=pb,hb){constructor({message:e,statusCode:t=500,cause:n}){super(e),this[mb]=!0,this.statusCode=t,this.cause=n}static isInstance(t){return e.hasMarker(t)}static hasMarker(e){return typeof e==`object`&&!!e&&pb in e&&e[pb]===!0}},_b=`GatewayAuthenticationError`,vb=`vercel.ai.gateway.error.${_b}`,yb=Symbol.for(vb),bb,xb,Sb=class e extends (xb=gb,bb=yb,xb){constructor({message:e=`Authentication failed`,statusCode:t=401,cause:n}={}){super({message:e,statusCode:t,cause:n}),this[bb]=!0,this.name=_b,this.type=`authentication_error`}static isInstance(e){return gb.hasMarker(e)&&yb in e}static createContextualError({apiKeyProvided:t,oidcTokenProvided:n,message:r=`Authentication failed`,statusCode:i=401,cause:a}){let o;return o=t?`AI Gateway authentication failed: Invalid API key.

Create a new API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys

Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`:n?`AI Gateway authentication failed: Invalid OIDC token.

Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.

Alternatively, use an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys`:`AI Gateway authentication failed: No authentication provided.

Option 1 - API key:
Create an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys
Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.

Option 2 - OIDC token:
Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.`,new e({message:o,statusCode:i,cause:a})}},Cb=`GatewayInvalidRequestError`,wb=`vercel.ai.gateway.error.${Cb}`,Tb=Symbol.for(wb),Eb,Db,Ob=class extends (Db=gb,Eb=Tb,Db){constructor({message:e=`Invalid request`,statusCode:t=400,cause:n}={}){super({message:e,statusCode:t,cause:n}),this[Eb]=!0,this.name=Cb,this.type=`invalid_request_error`}static isInstance(e){return gb.hasMarker(e)&&Tb in e}},kb=`GatewayRateLimitError`,Ab=`vercel.ai.gateway.error.${kb}`,jb=Symbol.for(Ab),Mb,Nb,Pb=class extends (Nb=gb,Mb=jb,Nb){constructor({message:e=`Rate limit exceeded`,statusCode:t=429,cause:n}={}){super({message:e,statusCode:t,cause:n}),this[Mb]=!0,this.name=kb,this.type=`rate_limit_exceeded`}static isInstance(e){return gb.hasMarker(e)&&jb in e}},Fb=`GatewayModelNotFoundError`,Ib=`vercel.ai.gateway.error.${Fb}`,Lb=Symbol.for(Ib),Rb=Av(()=>Xy(K({modelId:G()}))),zb,Bb,Vb=class extends (Bb=gb,zb=Lb,Bb){constructor({message:e=`Model not found`,statusCode:t=404,modelId:n,cause:r}={}){super({message:e,statusCode:t,cause:r}),this[zb]=!0,this.name=Fb,this.type=`model_not_found`,this.modelId=n}static isInstance(e){return gb.hasMarker(e)&&Lb in e}},Hb=`GatewayInternalServerError`,Ub=`vercel.ai.gateway.error.${Hb}`,Wb=Symbol.for(Ub),Gb,Kb,qb=class extends (Kb=gb,Gb=Wb,Kb){constructor({message:e=`Internal server error`,statusCode:t=500,cause:n}={}){super({message:e,statusCode:t,cause:n}),this[Gb]=!0,this.name=Hb,this.type=`internal_server_error`}static isInstance(e){return gb.hasMarker(e)&&Wb in e}},Jb=`GatewayResponseError`,Yb=`vercel.ai.gateway.error.${Jb}`,Xb=Symbol.for(Yb),Zb,Qb,$b=class extends (Qb=gb,Zb=Xb,Qb){constructor({message:e=`Invalid response from Gateway`,statusCode:t=502,response:n,validationError:r,cause:i}={}){super({message:e,statusCode:t,cause:i}),this[Zb]=!0,this.name=Jb,this.type=`response_error`,this.response=n,this.validationError=r}static isInstance(e){return gb.hasMarker(e)&&Xb in e}};async function ex({response:e,statusCode:t,defaultMessage:n=`Gateway request failed`,cause:r,authMethod:i}){let a=await Pv({value:e,schema:tx});if(!a.success)return new $b({message:`Invalid error response format: ${n}`,statusCode:t,response:e,validationError:a.error,cause:r});let o=a.value,s=o.error.type,c=o.error.message;switch(s){case`authentication_error`:return Sb.createContextualError({apiKeyProvided:i===`api-key`,oidcTokenProvided:i===`oidc`,statusCode:t,cause:r});case`invalid_request_error`:return new Ob({message:c,statusCode:t,cause:r});case`rate_limit_exceeded`:return new Pb({message:c,statusCode:t,cause:r});case`model_not_found`:{let e=await Pv({value:o.error.param,schema:Rb});return new Vb({message:c,statusCode:t,modelId:e.success?e.value.modelId:void 0,cause:r})}case`internal_server_error`:return new qb({message:c,statusCode:t,cause:r});default:return new qb({message:c,statusCode:t,cause:r})}}var tx=Av(()=>Xy(K({error:K({message:G(),type:G().nullish(),param:zh().nullish(),code:Kh([G(),kh()]).nullish()})})));function nx(e,t){return gb.isInstance(e)?e:fl.isInstance(e)?ex({response:rx(e),statusCode:e.statusCode??500,defaultMessage:`Gateway request failed`,cause:e,authMethod:t}):ex({response:{},statusCode:500,defaultMessage:e instanceof Error?`Gateway request failed: ${e.message}`:`Unknown Gateway error`,cause:e,authMethod:t})}function rx(e){if(e.data!==void 0)return e.data;if(e.responseBody!=null)try{return JSON.parse(e.responseBody)}catch{return e.responseBody}return{}}var ix=`ai-gateway-auth-method`;async function ax(e){let t=await Pv({value:e[ix],schema:ox});return t.success?t.value:void 0}var ox=Av(()=>Xy(Kh([ng(`api-key`),ng(`oidc`)]))),sx=class{constructor(e){this.config=e}async getAvailableModels(){try{let{value:e}=await vv({url:`${this.config.baseURL}/config`,headers:await Uv(this.config.headers()),successfulResponseHandler:Kv(cx),failedResponseHandler:Wv({errorSchema:Lh(),errorToMessage:e=>e}),fetch:this.config.fetch});return e}catch(e){throw await nx(e)}}async getCredits(){try{let{value:e}=await vv({url:`${new URL(this.config.baseURL).origin}/v1/credits`,headers:await Uv(this.config.headers()),successfulResponseHandler:Kv(lx),failedResponseHandler:Wv({errorSchema:Lh(),errorToMessage:e=>e}),fetch:this.config.fetch});return e}catch(e){throw await nx(e)}}},cx=Av(()=>Xy(K({models:Uh(K({id:G(),name:G(),description:G().nullish(),pricing:K({input:G(),output:G(),input_cache_read:G().nullish(),input_cache_write:G().nullish()}).transform(({input:e,output:t,input_cache_read:n,input_cache_write:r})=>({input:e,output:t,...n?{cachedInputTokens:n}:{},...r?{cacheCreationInputTokens:r}:{}})).nullish(),specification:K({specificationVersion:ng(`v2`),provider:G(),modelId:G()}),modelType:eg([`language`,`embedding`,`image`]).nullish()}))}))),lx=Av(()=>Xy(K({balance:G(),total_used:G()}).transform(({balance:e,total_used:t})=>({balance:e,totalUsed:t})))),ux=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion=`v2`,this.supportedUrls={"*/*":[/.*/]}}get provider(){return this.config.provider}async getArgs(e){let{abortSignal:t,...n}=e;return{args:this.maybeEncodeFileParts(n),warnings:[]}}async doGenerate(e){let{args:t,warnings:n}=await this.getArgs(e),{abortSignal:r}=e,i=await Uv(this.config.headers());try{let{responseHeaders:a,value:o,rawValue:s}=await Vv({url:this.getUrl(),headers:rv(i,e.headers,this.getModelConfigHeaders(this.modelId,!1),await Uv(this.config.o11yHeaders)),body:t,successfulResponseHandler:Kv(Lh()),failedResponseHandler:Wv({errorSchema:Lh(),errorToMessage:e=>e}),...r&&{abortSignal:r},fetch:this.config.fetch});return{...o,request:{body:t},response:{headers:a,body:s},warnings:n}}catch(e){throw await nx(e,await ax(i))}}async doStream(e){let{args:t,warnings:n}=await this.getArgs(e),{abortSignal:r}=e,i=await Uv(this.config.headers());try{let{value:a,responseHeaders:o}=await Vv({url:this.getUrl(),headers:rv(i,e.headers,this.getModelConfigHeaders(this.modelId,!0),await Uv(this.config.o11yHeaders)),body:t,successfulResponseHandler:Gv(Lh()),failedResponseHandler:Wv({errorSchema:Lh(),errorToMessage:e=>e}),...r&&{abortSignal:r},fetch:this.config.fetch});return{stream:a.pipeThrough(new TransformStream({start(e){n.length>0&&e.enqueue({type:`stream-start`,warnings:n})},transform(t,n){if(t.success){let r=t.value;if(r.type===`raw`&&!e.includeRawChunks)return;r.type===`response-metadata`&&r.timestamp&&typeof r.timestamp==`string`&&(r.timestamp=new Date(r.timestamp)),n.enqueue(r)}else n.error(t.error)}})),request:{body:t},response:{headers:o}}}catch(e){throw await nx(e,await ax(i))}}isFilePart(e){return e&&typeof e==`object`&&`type`in e&&e.type===`file`}maybeEncodeFileParts(e){for(let t of e.prompt)for(let e of t.content)if(this.isFilePart(e)){let t=e;if(t.data instanceof Uint8Array){let e=Uint8Array.from(t.data),n=Buffer.from(e).toString(`base64`);t.data=new URL(`data:${t.mediaType||`application/octet-stream`};base64,${n}`)}}return e}getUrl(){return`${this.config.baseURL}/language-model`}getModelConfigHeaders(e,t){return{"ai-language-model-specification-version":`2`,"ai-language-model-id":e,"ai-language-model-streaming":String(t)}}},dx=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion=`v2`,this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:n,providerOptions:r}){let i=await Uv(this.config.headers());try{let{responseHeaders:a,value:o,rawValue:s}=await Vv({url:this.getUrl(),headers:rv(i,t??{},this.getModelConfigHeaders(),await Uv(this.config.o11yHeaders)),body:{input:e.length===1?e[0]:e,...r?{providerOptions:r}:{}},successfulResponseHandler:Kv(fx),failedResponseHandler:Wv({errorSchema:Lh(),errorToMessage:e=>e}),...n&&{abortSignal:n},fetch:this.config.fetch});return{embeddings:o.embeddings,usage:o.usage??void 0,providerMetadata:o.providerMetadata,response:{headers:a,body:s}}}catch(e){throw await nx(e,await ax(i))}}getUrl(){return`${this.config.baseURL}/embedding-model`}getModelConfigHeaders(){return{"ai-embedding-model-specification-version":`2`,"ai-model-id":this.modelId}}},fx=Av(()=>Xy(K({embeddings:Uh(Uh(kh())),usage:K({tokens:kh()}).nullish(),providerMetadata:Qh(G(),Qh(G(),zh())).optional()}))),px=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion=`v2`,this.maxImagesPerCall=4}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:n,aspectRatio:r,seed:i,providerOptions:a,headers:o,abortSignal:s}){let c=await Uv(this.config.headers());try{let{responseHeaders:l,value:u,rawValue:d}=await Vv({url:this.getUrl(),headers:rv(c,o??{},this.getModelConfigHeaders(),await Uv(this.config.o11yHeaders)),body:{prompt:e,n:t,...n&&{size:n},...r&&{aspectRatio:r},...i&&{seed:i},...a??{}},successfulResponseHandler:Kv(hx),failedResponseHandler:Wv({errorSchema:Lh(),errorToMessage:e=>e}),...s&&{abortSignal:s},fetch:this.config.fetch});return{images:u.images,warnings:u.warnings??[],providerMetadata:u.providerMetadata,response:{timestamp:new Date,modelId:this.modelId,headers:l}}}catch(e){throw nx(e,await ax(c))}}getUrl(){return`${this.config.baseURL}/image-model`}getModelConfigHeaders(){return{"ai-image-model-specification-version":`2`,"ai-model-id":this.modelId}}},mx=K({images:Uh(zh()).optional()}).catchall(zh()),hx=K({images:Uh(G()),warnings:Uh(K({type:ng(`other`),message:G()})).optional(),providerMetadata:Qh(G(),mx).optional()});async function gx(){return(0,db.getContext)().headers?.[`x-vercel-id`]}var _x=`2.0.11`,vx=`0.0.1`;function yx(e={}){let t=null,n=null,r=e.metadataCacheRefreshMillis??1e3*60*5,i=0,a=ob(e.baseURL)??`https://ai-gateway.vercel.sh/v1/ai`,o=async()=>{let t=await xx(e);if(t)return hv({Authorization:`Bearer ${t.token}`,"ai-gateway-protocol-version":vx,[ix]:t.authMethod,...e.headers},`ai-sdk/gateway/${_x}`);throw Sb.createContextualError({apiKeyProvided:!1,oidcTokenProvided:!1,statusCode:401})},s=()=>{let e=xv({settingValue:void 0,environmentVariableName:`VERCEL_DEPLOYMENT_ID`}),t=xv({settingValue:void 0,environmentVariableName:`VERCEL_ENV`}),n=xv({settingValue:void 0,environmentVariableName:`VERCEL_REGION`});return async()=>{let r=await gx();return{...e&&{"ai-o11y-deployment-id":e},...t&&{"ai-o11y-environment":t},...n&&{"ai-o11y-region":n},...r&&{"ai-o11y-request-id":r}}}},c=t=>new ux(t,{provider:`gateway`,baseURL:a,headers:o,fetch:e.fetch,o11yHeaders:s()}),l=async()=>{var s;let c=((s=e._internal)?.currentDate)?.call(s).getTime()??Date.now();return(!t||c-i>r)&&(i=c,t=new sx({baseURL:a,headers:o,fetch:e.fetch}).getAvailableModels().then(e=>(n=e,e)).catch(async e=>{throw await nx(e,await ax(await o()))})),n?Promise.resolve(n):t},u=async()=>new sx({baseURL:a,headers:o,fetch:e.fetch}).getCredits().catch(async e=>{throw await nx(e,await ax(await o()))}),d=function(e){if(new.target)throw Error(`The Gateway Provider model function cannot be called with the new keyword.`);return c(e)};return d.getAvailableModels=l,d.getCredits=u,d.imageModel=t=>new px(t,{provider:`gateway`,baseURL:a,headers:o,fetch:e.fetch,o11yHeaders:s()}),d.languageModel=c,d.textEmbeddingModel=t=>new dx(t,{provider:`gateway`,baseURL:a,headers:o,fetch:e.fetch,o11yHeaders:s()}),d}var bx=yx();async function xx(e){let t=xv({settingValue:e.apiKey,environmentVariableName:`AI_GATEWAY_API_KEY`});if(t)return{token:t,authMethod:`api-key`};try{return{token:await(0,fb.getVercelOidcToken)(),authMethod:`oidc`}}catch{return null}}var Sx=typeof globalThis==`object`?globalThis:typeof self==`object`?self:typeof window==`object`?window:typeof global==`object`?global:{},Cx=`1.9.0`,wx=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Tx(e){var t=new Set([e]),n=new Set,r=e.match(wx);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(i.prerelease!=null)return function(t){return t===e};function a(e){return n.add(e),!1}function o(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(wx);if(!r)return a(e);var s={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};return s.prerelease!=null||i.major!==s.major?a(e):i.major===0?i.minor===s.minor&&i.patch<=s.patch?o(e):a(e):i.minor<=s.minor?o(e):a(e)}}var Ex=Tx(Cx),Dx=Cx.split(`.`)[0],Ox=Symbol.for(`opentelemetry.js.api.`+Dx),kx=Sx;function Ax(e,t,n,r){r===void 0&&(r=!1);var i=kx[Ox]=kx[Ox]??{version:Cx};if(!r&&i[e]){var a=Error(`@opentelemetry/api: Attempted duplicate registration of API: `+e);return n.error(a.stack||a.message),!1}if(i.version!==`1.9.0`){var a=Error(`@opentelemetry/api: Registration of version v`+i.version+` for `+e+` does not match previously registered API v`+Cx);return n.error(a.stack||a.message),!1}return i[e]=t,n.debug(`@opentelemetry/api: Registered a global for `+e+` v`+Cx+`.`),!0}function jx(e){var t=kx[Ox]?.version;if(!(!t||!Ex(t)))return kx[Ox]?.[e]}function Mx(e,t){t.debug(`@opentelemetry/api: Unregistering a global for `+e+` v`+Cx+`.`);var n=kx[Ox];n&&delete n[e]}var Nx=function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Px=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Fx=function(){function e(e){this._namespace=e.namespace||`DiagComponentLogger`}return e.prototype.debug=function(){var e=[...arguments];return Ix(`debug`,this._namespace,e)},e.prototype.error=function(){var e=[...arguments];return Ix(`error`,this._namespace,e)},e.prototype.info=function(){var e=[...arguments];return Ix(`info`,this._namespace,e)},e.prototype.warn=function(){var e=[...arguments];return Ix(`warn`,this._namespace,e)},e.prototype.verbose=function(){var e=[...arguments];return Ix(`verbose`,this._namespace,e)},e}();function Ix(e,t,n){var r=jx(`diag`);if(r)return n.unshift(t),r[e].apply(r,Px([],Nx(n),!1))}var Lx;(function(e){e[e.NONE=0]=`NONE`,e[e.ERROR=30]=`ERROR`,e[e.WARN=50]=`WARN`,e[e.INFO=60]=`INFO`,e[e.DEBUG=70]=`DEBUG`,e[e.VERBOSE=80]=`VERBOSE`,e[e.ALL=9999]=`ALL`})(Lx||={});function Rx(e,t){e<Lx.NONE?e=Lx.NONE:e>Lx.ALL&&(e=Lx.ALL),t||={};function n(n,r){var i=t[n];return typeof i==`function`&&e>=r?i.bind(t):function(){}}return{error:n(`error`,Lx.ERROR),warn:n(`warn`,Lx.WARN),info:n(`info`,Lx.INFO),debug:n(`debug`,Lx.DEBUG),verbose:n(`verbose`,Lx.VERBOSE)}}var zx=function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Bx=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Vx=`diag`,Hx=function(){function e(){function e(e){return function(){var t=[...arguments],n=jx(`diag`);if(n)return n[e].apply(n,Bx([],zx(t),!1))}}var t=this;t.setLogger=function(e,n){if(n===void 0&&(n={logLevel:Lx.INFO}),e===t){var r=Error(`Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation`);return t.error(r.stack??r.message),!1}typeof n==`number`&&(n={logLevel:n});var i=jx(`diag`),a=Rx(n.logLevel??Lx.INFO,e);if(i&&!n.suppressOverrideMessage){var o=Error().stack??`<failed to generate stacktrace>`;i.warn(`Current logger will be overwritten from `+o),a.warn(`Current logger will overwrite one already registered from `+o)}return Ax(`diag`,a,t,!0)},t.disable=function(){Mx(Vx,t)},t.createComponentLogger=function(e){return new Fx(e)},t.verbose=e(`verbose`),t.debug=e(`debug`),t.info=e(`info`),t.warn=e(`warn`),t.error=e(`error`)}return e.instance=function(){return this._instance||=new e,this._instance},e}();function Ux(e){return Symbol.for(e)}var Wx=new(function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var i=new e(n._currentContext);return i._currentContext.set(t,r),i},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}}return e}()),Gx=function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Kx=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},qx=function(){function e(){}return e.prototype.active=function(){return Wx},e.prototype.with=function(e,t,n){var r=[...arguments].slice(3);return t.call.apply(t,Kx([n],Gx(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),Jx=function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Yx=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Xx=`context`,Zx=new qx,Qx=function(){function e(){}return e.getInstance=function(){return this._instance||=new e,this._instance},e.prototype.setGlobalContextManager=function(e){return Ax(Xx,e,Hx.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return(r=this._getContextManager()).with.apply(r,Yx([e,t,n],Jx(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return jx(Xx)||Zx},e.prototype.disable=function(){this._getContextManager().disable(),Mx(Xx,Hx.instance())},e}(),$x;(function(e){e[e.NONE=0]=`NONE`,e[e.SAMPLED=1]=`SAMPLED`})($x||={});var eS={traceId:`00000000000000000000000000000000`,spanId:`0000000000000000`,traceFlags:$x.NONE},tS=function(){function e(e){e===void 0&&(e=eS),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),nS=Ux(`OpenTelemetry Context Key SPAN`);function rS(e){return e.getValue(nS)||void 0}function iS(){return rS(Qx.getInstance().active())}function aS(e,t){return e.setValue(nS,t)}function oS(e){return e.deleteValue(nS)}function sS(e,t){return aS(e,new tS(t))}function cS(e){return rS(e)?.spanContext()}var lS=/^([0-9a-f]{32})$/i,uS=/^[0-9a-f]{16}$/i;function dS(e){return lS.test(e)&&e!==`00000000000000000000000000000000`}function fS(e){return uS.test(e)&&e!==`0000000000000000`}function pS(e){return dS(e.traceId)&&fS(e.spanId)}function mS(e){return new tS(e)}var hS=Qx.getInstance(),gS=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(n===void 0&&(n=hS.active()),t?.root)return new tS;var r=n&&cS(n);return _S(r)&&pS(r)?new tS(r):new tS},e.prototype.startActiveSpan=function(e,t,n,r){var i,a,o;if(!(arguments.length<2)){arguments.length===2?o=t:arguments.length===3?(i=t,o=n):(i=t,a=n,o=r);var s=a??hS.active(),c=this.startSpan(e,i,s),l=aS(s,c);return hS.with(l,o,void 0,c)}},e}();function _S(e){return typeof e==`object`&&typeof e.spanId==`string`&&typeof e.traceId==`string`&&typeof e.traceFlags==`number`}var vS=new gS,yS=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):vS},e}(),bS=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new gS},e}()),xS=function(){function e(){}return e.prototype.getTracer=function(e,t,n){return this.getDelegateTracer(e,t,n)??new yS(this,e,t,n)},e.prototype.getDelegate=function(){return this._delegate??bS},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){return this._delegate?.getTracer(e,t,n)},e}(),SS;(function(e){e[e.UNSET=0]=`UNSET`,e[e.OK=1]=`OK`,e[e.ERROR=2]=`ERROR`})(SS||={});var CS=`trace`,wS=function(){function e(){this._proxyTracerProvider=new xS,this.wrapSpanContext=mS,this.isSpanContextValid=pS,this.deleteSpan=oS,this.getSpan=rS,this.getActiveSpan=iS,this.getSpanContext=cS,this.setSpan=aS,this.setSpanContext=sS}return e.getInstance=function(){return this._instance||=new e,this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=Ax(CS,this._proxyTracerProvider,Hx.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return jx(CS)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){Mx(CS,Hx.instance()),this._proxyTracerProvider=new xS},e}().getInstance(),TS=Object.defineProperty,ES=(e,t)=>{for(var n in t)TS(e,n,{get:t[n],enumerable:!0})},DS=`AI_NoOutputSpecifiedError`,OS=`vercel.ai.error.${DS}`,kS=Symbol.for(OS),AS,jS=class extends H{constructor({message:e=`No output specified.`}={}){super({name:DS,message:e}),this[AS]=!0}static isInstance(e){return H.hasMarker(e,OS)}};AS=kS;function MS(e){let t=`AI SDK Warning:`;switch(e.type){case`unsupported-setting`:{let n=`${t} The "${e.setting}" setting is not supported by this model`;return e.details&&(n+=` - ${e.details}`),n}case`unsupported-tool`:{let n=`${t} The tool "${`name`in e.tool?e.tool.name:`unknown tool`}" is not supported by this model`;return e.details&&(n+=` - ${e.details}`),n}case`other`:return`${t} ${e.message}`;default:return`${t} ${JSON.stringify(e,null,2)}`}}var NS=`AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false.`,PS=!1,FS=e=>{if(e.length===0)return;let t=globalThis.AI_SDK_LOG_WARNINGS;if(t!==!1){if(typeof t==`function`){t(e);return}PS||(PS=!0,console.info(NS));for(let t of e)console.warn(MS(t))}},IS=`AI_InvalidArgumentError`,LS=`vercel.ai.error.${IS}`,RS=Symbol.for(LS),zS,BS=class extends H{constructor({parameter:e,value:t,message:n}){super({name:IS,message:`Invalid argument for parameter ${e}: ${n}`}),this[zS]=!0,this.parameter=e,this.value=t}static isInstance(e){return H.hasMarker(e,LS)}};zS=RS;var VS=`AI_InvalidToolInputError`,HS=`vercel.ai.error.${VS}`,US=Symbol.for(HS),WS,GS=class extends H{constructor({toolInput:e,toolName:t,cause:n,message:r=`Invalid input for tool ${t}: ${vl(n)}`}){super({name:VS,message:r,cause:n}),this[WS]=!0,this.toolInput=e,this.toolName=t}static isInstance(e){return H.hasMarker(e,HS)}};WS=US;var KS=`AI_NoObjectGeneratedError`,qS=`vercel.ai.error.${KS}`,JS=Symbol.for(qS),YS,XS=class extends H{constructor({message:e=`No object generated.`,cause:t,text:n,response:r,usage:i,finishReason:a}){super({name:KS,message:e,cause:t}),this[YS]=!0,this.text=n,this.response=r,this.usage=i,this.finishReason=a}static isInstance(e){return H.hasMarker(e,qS)}};YS=JS;var ZS=`AI_NoOutputGeneratedError`,QS=`vercel.ai.error.${ZS}`,$S=Symbol.for(QS),eC,tC=class extends H{constructor({message:e=`No output generated.`,cause:t}={}){super({name:ZS,message:e,cause:t}),this[eC]=!0}static isInstance(e){return H.hasMarker(e,QS)}};eC=$S;var nC=`AI_NoSuchToolError`,rC=`vercel.ai.error.${nC}`,iC=Symbol.for(rC),aC,oC=class extends H{constructor({toolName:e,availableTools:t=void 0,message:n=`Model tried to call unavailable tool '${e}'. ${t===void 0?`No tools are available.`:`Available tools: ${t.join(`, `)}.`}`}){super({name:nC,message:n}),this[aC]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return H.hasMarker(e,rC)}};aC=iC;var sC=`AI_ToolCallRepairError`,cC=`vercel.ai.error.${sC}`,lC=Symbol.for(cC),uC,dC=class extends H{constructor({cause:e,originalError:t,message:n=`Error repairing tool call: ${vl(e)}`}){super({name:sC,message:n,cause:e}),this[uC]=!0,this.originalError=t}static isInstance(e){return H.hasMarker(e,cC)}};uC=lC;var fC=class extends H{constructor(e){super({name:`AI_UnsupportedModelVersionError`,message:`Unsupported model version ${e.version} for provider "${e.provider}" and model "${e.modelId}". AI SDK 5 only supports models that implement specification version "v2".`}),this.version=e.version,this.provider=e.provider,this.modelId=e.modelId}},pC=`AI_InvalidMessageRoleError`,mC=`vercel.ai.error.${pC}`,hC=Symbol.for(mC),gC,_C=class extends H{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:pC,message:t}),this[gC]=!0,this.role=e}static isInstance(e){return H.hasMarker(e,mC)}};gC=hC;var vC=`AI_DownloadError`,yC=`vercel.ai.error.${vC}`,bC=Symbol.for(yC),xC,SC=class extends H{constructor({url:e,statusCode:t,statusText:n,cause:r,message:i=r==null?`Failed to download ${e}: ${t} ${n}`:`Failed to download ${e}: ${r}`}){super({name:vC,message:i,cause:r}),this[xC]=!0,this.url=e,this.statusCode=t,this.statusText=n}static isInstance(e){return H.hasMarker(e,yC)}};xC=bC;var CC=`AI_RetryError`,wC=`vercel.ai.error.${CC}`,TC=Symbol.for(wC),EC,DC=class extends H{constructor({message:e,reason:t,errors:n}){super({name:CC,message:e}),this[EC]=!0,this.reason=t,this.errors=n,this.lastError=n[n.length-1]}static isInstance(e){return H.hasMarker(e,wC)}};EC=TC;function OC(e){if(typeof e!=`string`){if(e.specificationVersion!==`v2`)throw new fC({version:e.specificationVersion,provider:e.provider,modelId:e.modelId});return e}return kC().languageModel(e)}function kC(){return globalThis.AI_SDK_DEFAULT_PROVIDER??bx}var AC=[{mediaType:`image/gif`,bytesPrefix:[71,73,70]},{mediaType:`image/png`,bytesPrefix:[137,80,78,71]},{mediaType:`image/jpeg`,bytesPrefix:[255,216]},{mediaType:`image/webp`,bytesPrefix:[82,73,70,70,null,null,null,null,87,69,66,80]},{mediaType:`image/bmp`,bytesPrefix:[66,77]},{mediaType:`image/tiff`,bytesPrefix:[73,73,42,0]},{mediaType:`image/tiff`,bytesPrefix:[77,77,0,42]},{mediaType:`image/avif`,bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102]},{mediaType:`image/heic`,bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99]}],jC=e=>{let t=typeof e==`string`?rb(e):e,n=(t[6]&127)<<21|(t[7]&127)<<14|(t[8]&127)<<7|t[9]&127;return t.slice(n+10)};function MC(e){return typeof e==`string`&&e.startsWith(`SUQz`)||typeof e!=`string`&&e.length>10&&e[0]===73&&e[1]===68&&e[2]===51?jC(e):e}function NC({data:e,signatures:t}){let n=MC(e),r=typeof n==`string`?rb(n.substring(0,Math.min(n.length,24))):n;for(let e of t)if(r.length>=e.bytesPrefix.length&&e.bytesPrefix.every((e,t)=>e===null||r[t]===e))return e.mediaType}var PC=`5.0.95`,FC=async({url:e})=>{let t=e.toString();try{let e=await fetch(t,{headers:hv({},`ai-sdk/${PC}`,pv())});if(!e.ok)throw new SC({url:t,statusCode:e.status,statusText:e.statusText});return{data:new Uint8Array(await e.arrayBuffer()),mediaType:e.headers.get(`content-type`)??void 0}}catch(e){throw SC.isInstance(e)?e:new SC({url:t,cause:e})}},IC=(e=FC)=>t=>Promise.all(t.map(async t=>t.isUrlSupportedByModel?null:e(t)));function LC(e){try{let[t,n]=e.split(`,`);return{mediaType:t.split(`;`)[0].split(`:`)[1],base64Content:n}}catch{return{mediaType:void 0,base64Content:void 0}}}var RC=Kh([G(),Dg(Uint8Array),Dg(ArrayBuffer),wg(e=>globalThis.Buffer?.isBuffer(e)??!1,{message:`Must be a Buffer`})]);function zC(e){if(e instanceof Uint8Array)return{data:e,mediaType:void 0};if(e instanceof ArrayBuffer)return{data:new Uint8Array(e),mediaType:void 0};if(typeof e==`string`)try{e=new URL(e)}catch{}if(e instanceof URL&&e.protocol===`data:`){let{mediaType:t,base64Content:n}=LC(e.toString());if(t==null||n==null)throw new H({name:`InvalidDataContentError`,message:`Invalid data URL format in content ${e.toString()}`});return{data:n,mediaType:t}}return{data:e,mediaType:void 0}}function BC(e){return typeof e==`string`?e:e instanceof ArrayBuffer?ib(new Uint8Array(e)):ib(e)}async function VC({prompt:e,supportedUrls:t,download:n=IC()}){let r=await UC(e.messages,n,t);return[...e.system==null?[]:[{role:`system`,content:e.system}],...e.messages.map(e=>HC({message:e,downloadedAssets:r}))]}function HC({message:e,downloadedAssets:t}){let n=e.role;switch(n){case`system`:return{role:`system`,content:e.content,providerOptions:e.providerOptions};case`user`:return typeof e.content==`string`?{role:`user`,content:[{type:`text`,text:e.content}],providerOptions:e.providerOptions}:{role:`user`,content:e.content.map(e=>WC(e,t)).filter(e=>e.type!==`text`||e.text!==``),providerOptions:e.providerOptions};case`assistant`:return typeof e.content==`string`?{role:`assistant`,content:[{type:`text`,text:e.content}],providerOptions:e.providerOptions}:{role:`assistant`,content:e.content.filter(e=>e.type!==`text`||e.text!==``||e.providerOptions!=null).map(e=>{let t=e.providerOptions;switch(e.type){case`file`:{let{data:n,mediaType:r}=zC(e.data);return{type:`file`,data:n,filename:e.filename,mediaType:r??e.mediaType,providerOptions:t}}case`reasoning`:return{type:`reasoning`,text:e.text,providerOptions:t};case`text`:return{type:`text`,text:e.text,providerOptions:t};case`tool-call`:return{type:`tool-call`,toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,providerExecuted:e.providerExecuted,providerOptions:t};case`tool-result`:return{type:`tool-result`,toolCallId:e.toolCallId,toolName:e.toolName,output:e.output,providerOptions:t}}}),providerOptions:e.providerOptions};case`tool`:return{role:`tool`,content:e.content.map(e=>({type:`tool-result`,toolCallId:e.toolCallId,toolName:e.toolName,output:e.output,providerOptions:e.providerOptions})),providerOptions:e.providerOptions};default:throw new _C({role:n})}}async function UC(e,t,n){let r=e.filter(e=>e.role===`user`).map(e=>e.content).filter(e=>Array.isArray(e)).flat().filter(e=>e.type===`image`||e.type===`file`).map(e=>{let t=e.mediaType??(e.type===`image`?`image/*`:void 0),n=e.type===`image`?e.image:e.data;if(typeof n==`string`)try{n=new URL(n)}catch{}return{mediaType:t,data:n}}).filter(e=>e.data instanceof URL).map(e=>({url:e.data,isUrlSupportedByModel:e.mediaType!=null&&yv({url:e.data.toString(),mediaType:e.mediaType,supportedUrls:n})})),i=await t(r);return Object.fromEntries(i.map((e,t)=>e==null?null:[r[t].url.toString(),{data:e.data,mediaType:e.mediaType}]).filter(e=>e!=null))}function WC(e,t){if(e.type===`text`)return{type:`text`,text:e.text,providerOptions:e.providerOptions};let n,r=e.type;switch(r){case`image`:n=e.image;break;case`file`:n=e.data;break;default:throw Error(`Unsupported part type: ${r}`)}let{data:i,mediaType:a}=zC(n),o=a??e.mediaType,s=i;if(s instanceof URL){let e=t[s.toString()];e&&(s=e.data,o??=e.mediaType)}switch(r){case`image`:return(s instanceof Uint8Array||typeof s==`string`)&&(o=NC({data:s,signatures:AC})??o),{type:`file`,mediaType:o??`image/*`,filename:void 0,data:s,providerOptions:e.providerOptions};case`file`:if(o==null)throw Error(`Media type is missing for file part`);return{type:`file`,mediaType:o,filename:e.filename,data:s,providerOptions:e.providerOptions}}}function GC({maxOutputTokens:e,temperature:t,topP:n,topK:r,presencePenalty:i,frequencyPenalty:a,seed:o,stopSequences:s}){if(e!=null){if(!Number.isInteger(e))throw new BS({parameter:`maxOutputTokens`,value:e,message:`maxOutputTokens must be an integer`});if(e<1)throw new BS({parameter:`maxOutputTokens`,value:e,message:`maxOutputTokens must be >= 1`})}if(t!=null&&typeof t!=`number`)throw new BS({parameter:`temperature`,value:t,message:`temperature must be a number`});if(n!=null&&typeof n!=`number`)throw new BS({parameter:`topP`,value:n,message:`topP must be a number`});if(r!=null&&typeof r!=`number`)throw new BS({parameter:`topK`,value:r,message:`topK must be a number`});if(i!=null&&typeof i!=`number`)throw new BS({parameter:`presencePenalty`,value:i,message:`presencePenalty must be a number`});if(a!=null&&typeof a!=`number`)throw new BS({parameter:`frequencyPenalty`,value:a,message:`frequencyPenalty must be a number`});if(o!=null&&!Number.isInteger(o))throw new BS({parameter:`seed`,value:o,message:`seed must be an integer`});return{maxOutputTokens:e,temperature:t,topP:n,topK:r,presencePenalty:i,frequencyPenalty:a,stopSequences:s,seed:o}}function KC(e){return e!=null&&Object.keys(e).length>0}function qC({tools:e,toolChoice:t,activeTools:n}){return KC(e)?{tools:(n==null?Object.entries(e):Object.entries(e).filter(([e])=>n.includes(e))).map(([e,t])=>{let n=t.type;switch(n){case void 0:case`dynamic`:case`function`:return{type:`function`,name:e,description:t.description,inputSchema:eb(t.inputSchema).jsonSchema,providerOptions:t.providerOptions};case`provider-defined`:return{type:`provider-defined`,name:e,id:t.id,args:t.args};default:{let e=n;throw Error(`Unsupported tool type: ${e}`)}}}),toolChoice:t==null?{type:`auto`}:typeof t==`string`?{type:t}:{type:`tool`,toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}var JC=Sg(()=>Kh([Fh(),G(),kh(),Nh(),Qh(G(),JC),Uh(JC)])),YC=Qh(G(),Qh(G(),JC)),XC=K({type:ng(`text`),text:G(),providerOptions:YC.optional()}),ZC=K({type:ng(`image`),image:Kh([RC,Dg(URL)]),mediaType:G().optional(),providerOptions:YC.optional()}),QC=K({type:ng(`file`),data:Kh([RC,Dg(URL)]),filename:G().optional(),mediaType:G(),providerOptions:YC.optional()}),$C=K({type:ng(`reasoning`),text:G(),providerOptions:YC.optional()}),ew=K({type:ng(`tool-call`),toolCallId:G(),toolName:G(),input:zh(),providerOptions:YC.optional(),providerExecuted:Nh().optional()}),tw=Jh(`type`,[K({type:ng(`text`),value:G()}),K({type:ng(`json`),value:JC}),K({type:ng(`error-text`),value:G()}),K({type:ng(`error-json`),value:JC}),K({type:ng(`content`),value:Uh(Kh([K({type:ng(`text`),text:G()}),K({type:ng(`media`),data:G(),mediaType:G()})]))})]),nw=K({type:ng(`tool-result`),toolCallId:G(),toolName:G(),output:tw,providerOptions:YC.optional()}),rw=Kh([K({role:ng(`system`),content:G(),providerOptions:YC.optional()}),K({role:ng(`user`),content:Kh([G(),Uh(Kh([XC,ZC,QC]))]),providerOptions:YC.optional()}),K({role:ng(`assistant`),content:Kh([G(),Uh(Kh([XC,QC,$C,ew,nw]))]),providerOptions:YC.optional()}),K({role:ng(`tool`),content:Uh(nw),providerOptions:YC.optional()})]);async function iw(e){if(e.prompt==null&&e.messages==null)throw new Ol({prompt:e,message:`prompt or messages must be defined`});if(e.prompt!=null&&e.messages!=null)throw new Ol({prompt:e,message:`prompt and messages cannot be defined at the same time`});if(e.system!=null&&typeof e.system!=`string`)throw new Ol({prompt:e,message:`system must be a string`});let t;if(e.prompt!=null&&typeof e.prompt==`string`)t=[{role:`user`,content:e.prompt}];else if(e.prompt!=null&&Array.isArray(e.prompt))t=e.prompt;else if(e.messages!=null)t=e.messages;else throw new Ol({prompt:e,message:`prompt or messages must be defined`});if(t.length===0)throw new Ol({prompt:e,message:`messages must not be empty`});let n=await Pv({value:t,schema:Uh(rw)});if(!n.success)throw new Ol({prompt:e,message:`The messages must be a ModelMessage[]. If you have passed a UIMessage[], you can use convertToModelMessages to convert them.`,cause:n.error});return{messages:t,system:e.system}}function aw(e){return Sb.isInstance(e)||Vb.isInstance(e)?new H({name:`GatewayError`,message:`Vercel AI Gateway access failed. If you want to use AI SDK providers directly, use the providers, e.g. @ai-sdk/openai, or register a different global default provider.`,cause:e}):e}function ow({operationId:e,telemetry:t}){return{"operation.name":`${e}${t?.functionId==null?``:` ${t.functionId}`}`,"resource.name":t?.functionId,"ai.operationId":e,"ai.telemetry.functionId":t?.functionId}}function sw({model:e,settings:t,telemetry:n,headers:r}){return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((e,[t,n])=>(e[`ai.settings.${t}`]=n,e),{}),...Object.entries(n?.metadata??{}).reduce((e,[t,n])=>(e[`ai.telemetry.metadata.${t}`]=n,e),{}),...Object.entries(r??{}).reduce((e,[t,n])=>(n!==void 0&&(e[`ai.request.headers.${t}`]=n),e),{})}}var cw={startSpan(){return lw},startActiveSpan(e,t,n,r){if(typeof t==`function`)return t(lw);if(typeof n==`function`)return n(lw);if(typeof r==`function`)return r(lw)}},lw={spanContext(){return uw},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},uw={traceId:``,spanId:``,traceFlags:0};function dw({isEnabled:e=!1,tracer:t}={}){return e?t||wS.getTracer(`ai`):cw}function fw({name:e,tracer:t,attributes:n,fn:r,endWhenDone:i=!0}){return t.startActiveSpan(e,{attributes:n},async e=>{try{let t=await r(e);return i&&e.end(),t}catch(t){try{pw(e,t)}finally{e.end()}throw t}})}function pw(e,t){t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:SS.ERROR,message:t.message})):e.setStatus({code:SS.ERROR})}function mw({telemetry:e,attributes:t}){return e?.isEnabled===!0?Object.entries(t).reduce((t,[n,r])=>{if(r==null)return t;if(typeof r==`object`&&`input`in r&&typeof r.input==`function`){if(e?.recordInputs===!1)return t;let i=r.input();return i==null?t:{...t,[n]:i}}if(typeof r==`object`&&`output`in r&&typeof r.output==`function`){if(e?.recordOutputs===!1)return t;let i=r.output();return i==null?t:{...t,[n]:i}}return{...t,[n]:r}},{}):{}}function hw(e){return JSON.stringify(e.map(e=>({...e,content:typeof e.content==`string`?e.content:e.content.map(e=>e.type===`file`?{...e,data:e.data instanceof Uint8Array?BC(e.data):e.data}:e)})))}function gw(e,t){return{inputTokens:_w(e.inputTokens,t.inputTokens),outputTokens:_w(e.outputTokens,t.outputTokens),totalTokens:_w(e.totalTokens,t.totalTokens),reasoningTokens:_w(e.reasoningTokens,t.reasoningTokens),cachedInputTokens:_w(e.cachedInputTokens,t.cachedInputTokens)}}function _w(e,t){return e==null&&t==null?void 0:(e??0)+(t??0)}function vw(e){return e===void 0?[]:Array.isArray(e)?e:[e]}function yw({error:e,exponentialBackoffDelay:t}){let n=e.responseHeaders;if(!n)return t;let r,i=n[`retry-after-ms`];if(i){let e=parseFloat(i);Number.isNaN(e)||(r=e)}let a=n[`retry-after`];if(a&&r===void 0){let e=parseFloat(a);r=Number.isNaN(e)?Date.parse(a)-Date.now():e*1e3}return r!=null&&!Number.isNaN(r)&&0<=r&&(r<60*1e3||r<t)?r:t}var bw=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2,abortSignal:r}={})=>async i=>xw(i,{maxRetries:e,delayInMs:t,backoffFactor:n,abortSignal:r});async function xw(e,{maxRetries:t,delayInMs:n,backoffFactor:r,abortSignal:i},a=[]){try{return await e()}catch(o){if(uv(o)||t===0)throw o;let s=lv(o),c=[...a,o],l=c.length;if(l>t)throw new DC({message:`Failed after ${l} attempts. Last error: ${s}`,reason:`maxRetriesExceeded`,errors:c});if(o instanceof Error&&fl.isInstance(o)&&o.isRetryable===!0&&l<=t)return await iv(yw({error:o,exponentialBackoffDelay:n}),{abortSignal:i}),xw(e,{maxRetries:t,delayInMs:r*n,backoffFactor:r,abortSignal:i},c);throw l===1?o:new DC({message:`Failed after ${l} attempts with non-retryable error: '${s}'`,reason:`errorNotRetryable`,errors:c})}}function Sw({maxRetries:e,abortSignal:t}){if(e!=null){if(!Number.isInteger(e))throw new BS({parameter:`maxRetries`,value:e,message:`maxRetries must be an integer`});if(e<0)throw new BS({parameter:`maxRetries`,value:e,message:`maxRetries must be >= 0`})}let n=e??2;return{maxRetries:n,retry:bw({maxRetries:n,abortSignal:t})}}var Cw=class{constructor({data:e,mediaType:t}){let n=e instanceof Uint8Array;this.base64Data=n?void 0:e,this.uint8ArrayData=n?e:void 0,this.mediaType=t}get base64(){return this.base64Data??=ib(this.uint8ArrayData),this.base64Data}get uint8Array(){return this.uint8ArrayData??=rb(this.base64Data),this.uint8ArrayData}},ww=class extends Cw{constructor(e){super(e),this.type=`file`}};async function Tw({toolCall:e,tools:t,repairToolCall:n,system:r,messages:i}){try{if(t==null)throw new oC({toolName:e.toolName});try{return await Ew({toolCall:e,tools:t})}catch(a){if(n==null||!(oC.isInstance(a)||GS.isInstance(a)))throw a;let o=null;try{o=await n({toolCall:e,tools:t,inputSchema:({toolName:e})=>{let{inputSchema:n}=t[e];return eb(n).jsonSchema},system:r,messages:i,error:a})}catch(e){throw new dC({cause:e,originalError:a})}if(o==null)throw a;return await Ew({toolCall:o,tools:t})}}catch(t){let n=await Iv({text:e.input}),r=n.success?n.value:e.input;return{type:`tool-call`,toolCallId:e.toolCallId,toolName:e.toolName,input:r,dynamic:!0,invalid:!0,error:t}}}async function Ew({toolCall:e,tools:t}){let n=e.toolName,r=t[n];if(r==null)throw new oC({toolName:e.toolName,availableTools:Object.keys(t)});let i=eb(r.inputSchema),a=e.input.trim()===``?await Pv({value:{},schema:i}):await Iv({text:e.input,schema:i});if(a.success===!1)throw new GS({toolName:n,toolInput:e.input,cause:a.error});return r.type===`dynamic`?{type:`tool-call`,toolCallId:e.toolCallId,toolName:e.toolName,input:a.value,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata,dynamic:!0}:{type:`tool-call`,toolCallId:e.toolCallId,toolName:n,input:a.value,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}}var Dw=class{constructor({content:e,finishReason:t,usage:n,warnings:r,request:i,response:a,providerMetadata:o}){this.content=e,this.finishReason=t,this.usage=n,this.warnings=r,this.request=i,this.response=a,this.providerMetadata=o}get text(){return this.content.filter(e=>e.type===`text`).map(e=>e.text).join(``)}get reasoning(){return this.content.filter(e=>e.type===`reasoning`)}get reasoningText(){return this.reasoning.length===0?void 0:this.reasoning.map(e=>e.text).join(``)}get files(){return this.content.filter(e=>e.type===`file`).map(e=>e.file)}get sources(){return this.content.filter(e=>e.type===`source`)}get toolCalls(){return this.content.filter(e=>e.type===`tool-call`)}get staticToolCalls(){return this.toolCalls.filter(e=>e.dynamic!==!0)}get dynamicToolCalls(){return this.toolCalls.filter(e=>e.dynamic===!0)}get toolResults(){return this.content.filter(e=>e.type===`tool-result`)}get staticToolResults(){return this.toolResults.filter(e=>e.dynamic!==!0)}get dynamicToolResults(){return this.toolResults.filter(e=>e.dynamic===!0)}};function Ow(e){return({steps:t})=>t.length===e}async function kw({stopConditions:e,steps:t}){return(await Promise.all(e.map(e=>e({steps:t})))).some(e=>e)}function Aw({output:e,tool:t,errorMode:n}){return n===`text`?{type:`error-text`,value:vl(e)}:n===`json`?{type:`error-json`,value:jw(e)}:t?.toModelOutput?t.toModelOutput(e):typeof e==`string`?{type:`text`,value:e}:{type:`json`,value:jw(e)}}function jw(e){return e===void 0?null:e}function Mw({content:e,tools:t}){let n=[],r=e.filter(e=>e.type!==`source`).filter(e=>(e.type!==`tool-result`||e.providerExecuted)&&(e.type!==`tool-error`||e.providerExecuted)).filter(e=>e.type!==`text`||e.text.length>0).map(e=>{switch(e.type){case`text`:return{type:`text`,text:e.text,providerOptions:e.providerMetadata};case`reasoning`:return{type:`reasoning`,text:e.text,providerOptions:e.providerMetadata};case`file`:return{type:`file`,data:e.file.base64,mediaType:e.file.mediaType,providerOptions:e.providerMetadata};case`tool-call`:return{type:`tool-call`,toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,providerExecuted:e.providerExecuted,providerOptions:e.providerMetadata};case`tool-result`:return{type:`tool-result`,toolCallId:e.toolCallId,toolName:e.toolName,output:Aw({tool:t?.[e.toolName],output:e.output,errorMode:`none`}),providerExecuted:!0,providerOptions:e.providerMetadata};case`tool-error`:return{type:`tool-result`,toolCallId:e.toolCallId,toolName:e.toolName,output:Aw({tool:t?.[e.toolName],output:e.error,errorMode:`json`}),providerOptions:e.providerMetadata}}});r.length>0&&n.push({role:`assistant`,content:r});let i=e.filter(e=>e.type===`tool-result`||e.type===`tool-error`).filter(e=>!e.providerExecuted).map(e=>({type:`tool-result`,toolCallId:e.toolCallId,toolName:e.toolName,output:Aw({tool:t?.[e.toolName],output:e.type===`tool-result`?e.output:e.error,errorMode:e.type===`tool-error`?`text`:`none`})}));return i.length>0&&n.push({role:`tool`,content:i}),n}sv({prefix:`aitxt`,size:24});function Nw(e,t){let n=new Headers(e??{});for(let[e,r]of Object.entries(t))n.has(e)||n.set(e,r);return n}function Pw({status:e,statusText:t,headers:n,textStream:r}){return new Response(r.pipeThrough(new TextEncoderStream),{status:e??200,statusText:t,headers:Nw(n,{"content-type":`text/plain; charset=utf-8`})})}function Fw({response:e,status:t,statusText:n,headers:r,stream:i}){e.writeHead(t??200,n,r);let a=i.getReader();(async()=>{try{for(;;){let{done:t,value:n}=await a.read();if(t)break;e.write(n)||await new Promise(t=>{e.once(`drain`,t)})}}catch(e){throw e}finally{e.end()}})()}function Iw({response:e,status:t,statusText:n,headers:r,textStream:i}){Fw({response:e,status:t,statusText:n,headers:Object.fromEntries(Nw(r,{"content-type":`text/plain; charset=utf-8`}).entries()),stream:i.pipeThrough(new TextEncoderStream)})}var Lw=class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(`data: ${JSON.stringify(e)}

`)},flush(e){e.enqueue(`data: [DONE]

`)}})}},Rw={"content-type":`text/event-stream`,"cache-control":`no-cache`,connection:`keep-alive`,"x-vercel-ai-ui-message-stream":`v1`,"x-accel-buffering":`no`};function zw({status:e,statusText:t,headers:n,stream:r,consumeSseStream:i}){let a=r.pipeThrough(new Lw);if(i){let[e,t]=a.tee();a=e,i({stream:t})}return new Response(a.pipeThrough(new TextEncoderStream),{status:e,statusText:t,headers:Nw(n,Rw)})}function Bw({originalMessages:e,responseMessageId:t}){if(e==null)return;let n=e[e.length-1];return n?.role===`assistant`?n.id:typeof t==`function`?t():t}function Vw(e){return e.type.startsWith(`data-`)}function Hw(e,t){if(e===void 0&&t===void 0)return;if(e===void 0)return t;if(t===void 0)return e;let n={...e};for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)){let i=t[r];if(i===void 0)continue;let a=r in e?e[r]:void 0,o=typeof i==`object`&&!!i&&!Array.isArray(i)&&!(i instanceof Date)&&!(i instanceof RegExp),s=typeof a==`object`&&!!a&&!Array.isArray(a)&&!(a instanceof Date)&&!(a instanceof RegExp);o&&s?n[r]=Hw(a,i):n[r]=i}return n}function Uw(e){let t=[`ROOT`],n=-1,r=null;function i(e,i,a){switch(e){case`"`:n=i,t.pop(),t.push(a),t.push(`INSIDE_STRING`);break;case`f`:case`t`:case`n`:n=i,r=i,t.pop(),t.push(a),t.push(`INSIDE_LITERAL`);break;case`-`:t.pop(),t.push(a),t.push(`INSIDE_NUMBER`);break;case`0`:case`1`:case`2`:case`3`:case`4`:case`5`:case`6`:case`7`:case`8`:case`9`:n=i,t.pop(),t.push(a),t.push(`INSIDE_NUMBER`);break;case`{`:n=i,t.pop(),t.push(a),t.push(`INSIDE_OBJECT_START`);break;case`[`:n=i,t.pop(),t.push(a),t.push(`INSIDE_ARRAY_START`);break}}function a(e,r){switch(e){case`,`:t.pop(),t.push(`INSIDE_OBJECT_AFTER_COMMA`);break;case`}`:n=r,t.pop();break}}function o(e,r){switch(e){case`,`:t.pop(),t.push(`INSIDE_ARRAY_AFTER_COMMA`);break;case`]`:n=r,t.pop();break}}for(let s=0;s<e.length;s++){let c=e[s];switch(t[t.length-1]){case`ROOT`:i(c,s,`FINISH`);break;case`INSIDE_OBJECT_START`:switch(c){case`"`:t.pop(),t.push(`INSIDE_OBJECT_KEY`);break;case`}`:n=s,t.pop();break}break;case`INSIDE_OBJECT_AFTER_COMMA`:switch(c){case`"`:t.pop(),t.push(`INSIDE_OBJECT_KEY`);break}break;case`INSIDE_OBJECT_KEY`:switch(c){case`"`:t.pop(),t.push(`INSIDE_OBJECT_AFTER_KEY`);break}break;case`INSIDE_OBJECT_AFTER_KEY`:switch(c){case`:`:t.pop(),t.push(`INSIDE_OBJECT_BEFORE_VALUE`);break}break;case`INSIDE_OBJECT_BEFORE_VALUE`:i(c,s,`INSIDE_OBJECT_AFTER_VALUE`);break;case`INSIDE_OBJECT_AFTER_VALUE`:a(c,s);break;case`INSIDE_STRING`:switch(c){case`"`:t.pop(),n=s;break;case`\\`:t.push(`INSIDE_STRING_ESCAPE`);break;default:n=s}break;case`INSIDE_ARRAY_START`:switch(c){case`]`:n=s,t.pop();break;default:n=s,i(c,s,`INSIDE_ARRAY_AFTER_VALUE`);break}break;case`INSIDE_ARRAY_AFTER_VALUE`:switch(c){case`,`:t.pop(),t.push(`INSIDE_ARRAY_AFTER_COMMA`);break;case`]`:n=s,t.pop();break;default:n=s;break}break;case`INSIDE_ARRAY_AFTER_COMMA`:i(c,s,`INSIDE_ARRAY_AFTER_VALUE`);break;case`INSIDE_STRING_ESCAPE`:t.pop(),n=s;break;case`INSIDE_NUMBER`:switch(c){case`0`:case`1`:case`2`:case`3`:case`4`:case`5`:case`6`:case`7`:case`8`:case`9`:n=s;break;case`e`:case`E`:case`-`:case`.`:break;case`,`:t.pop(),t[t.length-1]===`INSIDE_ARRAY_AFTER_VALUE`&&o(c,s),t[t.length-1]===`INSIDE_OBJECT_AFTER_VALUE`&&a(c,s);break;case`}`:t.pop(),t[t.length-1]===`INSIDE_OBJECT_AFTER_VALUE`&&a(c,s);break;case`]`:t.pop(),t[t.length-1]===`INSIDE_ARRAY_AFTER_VALUE`&&o(c,s);break;default:t.pop();break}break;case`INSIDE_LITERAL`:{let i=e.substring(r,s+1);!`false`.startsWith(i)&&!`true`.startsWith(i)&&!`null`.startsWith(i)?(t.pop(),t[t.length-1]===`INSIDE_OBJECT_AFTER_VALUE`?a(c,s):t[t.length-1]===`INSIDE_ARRAY_AFTER_VALUE`&&o(c,s)):n=s;break}}}let s=e.slice(0,n+1);for(let n=t.length-1;n>=0;n--)switch(t[n]){case`INSIDE_STRING`:s+=`"`;break;case`INSIDE_OBJECT_KEY`:case`INSIDE_OBJECT_AFTER_KEY`:case`INSIDE_OBJECT_AFTER_COMMA`:case`INSIDE_OBJECT_START`:case`INSIDE_OBJECT_BEFORE_VALUE`:case`INSIDE_OBJECT_AFTER_VALUE`:s+=`}`;break;case`INSIDE_ARRAY_START`:case`INSIDE_ARRAY_AFTER_COMMA`:case`INSIDE_ARRAY_AFTER_VALUE`:s+=`]`;break;case`INSIDE_LITERAL`:{let t=e.substring(r,e.length);`true`.startsWith(t)?s+=`true`.slice(t.length):`false`.startsWith(t)?s+=`false`.slice(t.length):`null`.startsWith(t)&&(s+=`null`.slice(t.length))}}return s}async function Ww(e){if(e===void 0)return{value:void 0,state:`undefined-input`};let t=await Iv({text:e});return t.success?{value:t.value,state:`successful-parse`}:(t=await Iv({text:Uw(e)}),t.success?{value:t.value,state:`repaired-parse`}:{value:void 0,state:`failed-parse`})}function Gw(e){return e.type.startsWith(`tool-`)}function Kw(e){return e.type.split(`-`).slice(1).join(`-`)}function qw({lastMessage:e,messageId:t}){return{message:e?.role===`assistant`?e:{id:t,metadata:void 0,role:`assistant`,parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function Jw({stream:e,messageMetadataSchema:t,dataPartSchemas:n,runUpdateMessageJob:r,onError:i,onToolCall:a,onData:o}){return e.pipeThrough(new TransformStream({async transform(e,s){await r(async({state:r,write:c})=>{function l(e){let t=r.message.parts.filter(Gw).find(t=>t.toolCallId===e);if(t==null)throw Error(`tool-output-error must be preceded by a tool-input-available`);return t}function u(e){let t=r.message.parts.filter(e=>e.type===`dynamic-tool`).find(t=>t.toolCallId===e);if(t==null)throw Error(`tool-output-error must be preceded by a tool-input-available`);return t}function d(e){let t=r.message.parts.find(t=>Gw(t)&&t.toolCallId===e.toolCallId),n=e,i=t;t==null?r.message.parts.push({type:`tool-${e.toolName}`,toolCallId:e.toolCallId,state:e.state,input:n.input,output:n.output,rawInput:n.rawInput,errorText:n.errorText,providerExecuted:n.providerExecuted,preliminary:n.preliminary,...n.providerMetadata==null?{}:{callProviderMetadata:n.providerMetadata}}):(t.state=e.state,i.input=n.input,i.output=n.output,i.errorText=n.errorText,i.rawInput=n.rawInput,i.preliminary=n.preliminary,i.providerExecuted=n.providerExecuted??t.providerExecuted,n.providerMetadata!=null&&t.state===`input-available`&&(t.callProviderMetadata=n.providerMetadata))}function f(e){let t=r.message.parts.find(t=>t.type===`dynamic-tool`&&t.toolCallId===e.toolCallId),n=e,i=t;t==null?r.message.parts.push({type:`dynamic-tool`,toolName:e.toolName,toolCallId:e.toolCallId,state:e.state,input:n.input,output:n.output,errorText:n.errorText,preliminary:n.preliminary,providerExecuted:n.providerExecuted,...n.providerMetadata==null?{}:{callProviderMetadata:n.providerMetadata}}):(t.state=e.state,i.toolName=e.toolName,i.input=n.input,i.output=n.output,i.errorText=n.errorText,i.rawInput=n.rawInput??i.rawInput,i.preliminary=n.preliminary,i.providerExecuted=n.providerExecuted??t.providerExecuted,n.providerMetadata!=null&&t.state===`input-available`&&(t.callProviderMetadata=n.providerMetadata))}async function p(e){if(e!=null){let n=r.message.metadata==null?e:Hw(r.message.metadata,e);t!=null&&await Nv({value:n,schema:t}),r.message.metadata=n}}switch(e.type){case`text-start`:{let t={type:`text`,text:``,providerMetadata:e.providerMetadata,state:`streaming`};r.activeTextParts[e.id]=t,r.message.parts.push(t),c();break}case`text-delta`:{let t=r.activeTextParts[e.id];t.text+=e.delta,t.providerMetadata=e.providerMetadata??t.providerMetadata,c();break}case`text-end`:{let t=r.activeTextParts[e.id];t.state=`done`,t.providerMetadata=e.providerMetadata??t.providerMetadata,delete r.activeTextParts[e.id],c();break}case`reasoning-start`:{let t={type:`reasoning`,text:``,providerMetadata:e.providerMetadata,state:`streaming`};r.activeReasoningParts[e.id]=t,r.message.parts.push(t),c();break}case`reasoning-delta`:{let t=r.activeReasoningParts[e.id];t.text+=e.delta,t.providerMetadata=e.providerMetadata??t.providerMetadata,c();break}case`reasoning-end`:{let t=r.activeReasoningParts[e.id];t.providerMetadata=e.providerMetadata??t.providerMetadata,t.state=`done`,delete r.activeReasoningParts[e.id],c();break}case`file`:r.message.parts.push({type:`file`,mediaType:e.mediaType,url:e.url}),c();break;case`source-url`:r.message.parts.push({type:`source-url`,sourceId:e.sourceId,url:e.url,title:e.title,providerMetadata:e.providerMetadata}),c();break;case`source-document`:r.message.parts.push({type:`source-document`,sourceId:e.sourceId,mediaType:e.mediaType,title:e.title,filename:e.filename,providerMetadata:e.providerMetadata}),c();break;case`tool-input-start`:{let t=r.message.parts.filter(Gw);r.partialToolCalls[e.toolCallId]={text:``,toolName:e.toolName,index:t.length,dynamic:e.dynamic},e.dynamic?f({toolCallId:e.toolCallId,toolName:e.toolName,state:`input-streaming`,input:void 0,providerExecuted:e.providerExecuted}):d({toolCallId:e.toolCallId,toolName:e.toolName,state:`input-streaming`,input:void 0,providerExecuted:e.providerExecuted}),c();break}case`tool-input-delta`:{let t=r.partialToolCalls[e.toolCallId];t.text+=e.inputTextDelta;let{value:n}=await Ww(t.text);t.dynamic?f({toolCallId:e.toolCallId,toolName:t.toolName,state:`input-streaming`,input:n}):d({toolCallId:e.toolCallId,toolName:t.toolName,state:`input-streaming`,input:n}),c();break}case`tool-input-available`:e.dynamic?f({toolCallId:e.toolCallId,toolName:e.toolName,state:`input-available`,input:e.input,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}):d({toolCallId:e.toolCallId,toolName:e.toolName,state:`input-available`,input:e.input,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}),c(),a&&!e.providerExecuted&&await a({toolCall:e});break;case`tool-input-error`:e.dynamic?f({toolCallId:e.toolCallId,toolName:e.toolName,state:`output-error`,input:e.input,errorText:e.errorText,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}):d({toolCallId:e.toolCallId,toolName:e.toolName,state:`output-error`,input:void 0,rawInput:e.input,errorText:e.errorText,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}),c();break;case`tool-output-available`:if(e.dynamic){let t=u(e.toolCallId);f({toolCallId:e.toolCallId,toolName:t.toolName,state:`output-available`,input:t.input,output:e.output,preliminary:e.preliminary})}else{let t=l(e.toolCallId);d({toolCallId:e.toolCallId,toolName:Kw(t),state:`output-available`,input:t.input,output:e.output,providerExecuted:e.providerExecuted,preliminary:e.preliminary})}c();break;case`tool-output-error`:if(e.dynamic){let t=u(e.toolCallId);f({toolCallId:e.toolCallId,toolName:t.toolName,state:`output-error`,input:t.input,errorText:e.errorText,providerExecuted:e.providerExecuted})}else{let t=l(e.toolCallId);d({toolCallId:e.toolCallId,toolName:Kw(t),state:`output-error`,input:t.input,rawInput:t.rawInput,errorText:e.errorText,providerExecuted:e.providerExecuted})}c();break;case`start-step`:r.message.parts.push({type:`step-start`});break;case`finish-step`:r.activeTextParts={},r.activeReasoningParts={};break;case`start`:e.messageId!=null&&(r.message.id=e.messageId),await p(e.messageMetadata),(e.messageId!=null||e.messageMetadata!=null)&&c();break;case`finish`:e.finishReason!=null&&(r.finishReason=e.finishReason),await p(e.messageMetadata),e.messageMetadata!=null&&c();break;case`message-metadata`:await p(e.messageMetadata),e.messageMetadata!=null&&c();break;case`error`:i?.(Error(e.errorText));break;default:if(Vw(e)){n?.[e.type]!=null&&await Nv({value:e.data,schema:n[e.type]});let t=e;if(t.transient){o?.(t);break}let i=t.id==null?void 0:r.message.parts.find(e=>t.type===e.type&&t.id===e.id);i==null?r.message.parts.push(t):i.data=t.data,o?.(t),c()}}s.enqueue(e)})}}))}function Yw({messageId:e,originalMessages:t=[],onFinish:n,onError:r,stream:i}){let a=t?.[t.length-1];a?.role===`assistant`?e=a.id:a=void 0;let o=!1,s=i.pipeThrough(new TransformStream({transform(t,n){if(t.type===`start`){let n=t;n.messageId==null&&e!=null&&(n.messageId=e)}t.type===`abort`&&(o=!0),n.enqueue(t)}}));if(n==null)return s;let c=qw({lastMessage:a?structuredClone(a):void 0,messageId:e??``}),l=async e=>{await e({state:c,write:()=>{}})},u=!1,d=async()=>{if(u||!n)return;u=!0;let e=c.message.id===a?.id;await n({isAborted:o,isContinuation:e,responseMessage:c.message,messages:[...e?t.slice(0,-1):t,c.message],finishReason:c.finishReason})};return Jw({stream:s,runUpdateMessageJob:l,onError:r}).pipeThrough(new TransformStream({transform(e,t){t.enqueue(e)},async cancel(){await d()},async flush(){await d()}}))}function Xw({response:e,status:t,statusText:n,headers:r,stream:i,consumeSseStream:a}){let o=i.pipeThrough(new Lw);if(a){let[e,t]=o.tee();o=e,a({stream:t})}Fw({response:e,status:t,statusText:n,headers:Object.fromEntries(Nw(r,Rw).entries()),stream:o.pipeThrough(new TextEncoderStream)})}function Zw(e){let t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=function(){let e=this.getReader(),t=!1;async function n(n){t=!0;try{n&&await e.cancel?.call(e)}finally{try{e.releaseLock()}catch{}}}return{async next(){if(t)return{done:!0,value:void 0};let{done:r,value:i}=await e.read();return r?(await n(!0),{done:!0,value:void 0}):{done:!1,value:i}},async return(){return await n(!0),{done:!0,value:void 0}},async throw(e){throw await n(!0),e}}},t}async function Qw({stream:e,onError:t}){let n=e.getReader();try{for(;;){let{done:e}=await n.read();if(e)break}}catch(e){t?.(e)}finally{n.releaseLock()}}function $w(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}function eT(){let e=[],t=null,n=!1,r=$w(),i=()=>{n=!0,r.resolve(),e.forEach(e=>e.cancel()),e=[],t?.close()},a=async()=>{if(n&&e.length===0){t?.close();return}if(e.length===0)return r=$w(),await r.promise,a();try{let{value:r,done:i}=await e[0].read();i?(e.shift(),e.length>0?await a():n&&t?.close()):t?.enqueue(r)}catch(n){t?.error(n),e.shift(),i()}};return{stream:new ReadableStream({start(e){t=e},pull:a,async cancel(){for(let t of e)await t.cancel();e=[],n=!0}}),addStream:t=>{if(n)throw Error(`Cannot add inner stream: outer stream is closed`);e.push(t.getReader()),r.resolve()},close:()=>{n=!0,r.resolve(),e.length===0&&t?.close()},terminate:i}}var tT=class{constructor(){this.status={type:`pending`},this._resolve=void 0,this._reject=void 0}get promise(){return this._promise||=new Promise((e,t)=>{this.status.type===`resolved`?e(this.status.value):this.status.type===`rejected`&&t(this.status.error),this._resolve=e,this._reject=t}),this._promise}resolve(e){var t;this.status={type:`resolved`,value:e},this._promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:`rejected`,error:e},this._promise&&((t=this._reject)==null||t.call(this,e))}};function nT(){return(globalThis==null?void 0:globalThis.performance)?.now()??Date.now()}function rT({tools:e,generatorStream:t,tracer:n,telemetry:r,system:i,messages:a,abortSignal:o,repairToolCall:s,experimental_context:c}){let l=null,u=new ReadableStream({start(e){l=e}}),d=new Set,f=new Map,p=!1,m;function h(){p&&d.size===0&&(m!=null&&l.enqueue(m),l.close())}let g=new TransformStream({async transform(t,u){let p=t.type;switch(p){case`stream-start`:case`text-start`:case`text-delta`:case`text-end`:case`reasoning-start`:case`reasoning-delta`:case`reasoning-end`:case`tool-input-start`:case`tool-input-delta`:case`tool-input-end`:case`source`:case`response-metadata`:case`error`:case`raw`:u.enqueue(t);break;case`file`:u.enqueue({type:`file`,file:new ww({data:t.data,mediaType:t.mediaType})});break;case`finish`:m={type:`finish`,finishReason:t.finishReason,usage:t.usage,providerMetadata:t.providerMetadata};break;case`tool-call`:try{let p=await Tw({toolCall:t,tools:e,repairToolCall:s,system:i,messages:a});if(u.enqueue(p),p.invalid){l.enqueue({type:`tool-error`,toolCallId:p.toolCallId,toolName:p.toolName,input:p.input,error:lv(p.error),dynamic:!0});break}let m=e[p.toolName];if(f.set(p.toolCallId,p.input),m.onInputAvailable!=null&&await m.onInputAvailable({input:p.input,toolCallId:p.toolCallId,messages:a,abortSignal:o,experimental_context:c}),m.execute!=null&&p.providerExecuted!==!0){let e=cv();d.add(e),fw({name:`ai.toolCall`,attributes:mw({telemetry:r,attributes:{...ow({operationId:`ai.toolCall`,telemetry:r}),"ai.toolCall.name":p.toolName,"ai.toolCall.id":p.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(p.input)}}}),tracer:n,fn:async t=>{let n;try{let e=cb({execute:m.execute.bind(m),input:p.input,options:{toolCallId:p.toolCallId,messages:a,abortSignal:o,experimental_context:c}});for await(let t of e)l.enqueue({...p,type:`tool-result`,output:t.output,...t.type===`preliminary`&&{preliminary:!0}}),t.type===`final`&&(n=t.output)}catch(n){pw(t,n),l.enqueue({...p,type:`tool-error`,error:n}),d.delete(e),h();return}d.delete(e),h();try{t.setAttributes(mw({telemetry:r,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(n)}}}))}catch{}}})}}catch(e){l.enqueue({type:`error`,error:e})}break;case`tool-result`:{let e=t.toolName;t.isError?l.enqueue({type:`tool-error`,toolCallId:t.toolCallId,toolName:e,input:f.get(t.toolCallId),providerExecuted:t.providerExecuted,error:t.result}):u.enqueue({type:`tool-result`,toolCallId:t.toolCallId,toolName:e,input:f.get(t.toolCallId),output:t.result,providerExecuted:t.providerExecuted});break}default:{let e=p;throw Error(`Unhandled chunk type: ${e}`)}}},flush(){p=!0,h()}});return new ReadableStream({async start(e){return Promise.all([t.pipeThrough(g).pipeTo(new WritableStream({write(t){e.enqueue(t)},close(){}})),u.pipeTo(new WritableStream({write(t){e.enqueue(t)},close(){e.close()}}))])}})}var iT=sv({prefix:`aitxt`,size:24});function aT({model:e,tools:t,toolChoice:n,system:r,prompt:i,messages:a,maxRetries:o,abortSignal:s,headers:c,stopWhen:l=Ow(1),experimental_output:u,experimental_telemetry:d,prepareStep:f,providerOptions:p,experimental_activeTools:m,activeTools:h=m,experimental_repairToolCall:g,experimental_transform:_,experimental_download:v,includeRawChunks:ee=!1,onChunk:te,onError:ne=({error:e})=>{console.error(e)},onFinish:y,onAbort:b,onStepFinish:x,experimental_context:re,_internal:{now:ie=nT,generateId:ae=iT,currentDate:oe=()=>new Date}={},...se}){return new sT({model:OC(e),telemetry:d,headers:c,settings:se,maxRetries:o,abortSignal:s,system:r,prompt:i,messages:a,tools:t,toolChoice:n,transforms:vw(_),activeTools:h,repairToolCall:g,stopConditions:vw(l),output:u,providerOptions:p,prepareStep:f,includeRawChunks:ee,onChunk:te,onError:ne,onFinish:y,onAbort:b,onStepFinish:x,now:ie,currentDate:oe,generateId:ae,experimental_context:re,download:v})}function oT(e){if(!e)return new TransformStream({transform(e,t){t.enqueue({part:e,partialOutput:void 0})}});let t,n=``,r=``,i=``;function a({controller:e,partialOutput:n=void 0}){e.enqueue({part:{type:`text-delta`,id:t,text:r},partialOutput:n}),r=``}return new TransformStream({async transform(o,s){if(o.type===`finish-step`&&r.length>0&&a({controller:s}),o.type!==`text-delta`&&o.type!==`text-start`&&o.type!==`text-end`){s.enqueue({part:o,partialOutput:void 0});return}if(t==null)t=o.id;else if(o.id!==t){s.enqueue({part:o,partialOutput:void 0});return}if(o.type===`text-start`){s.enqueue({part:o,partialOutput:void 0});return}if(o.type===`text-end`){r.length>0&&a({controller:s}),s.enqueue({part:o,partialOutput:void 0});return}n+=o.text,r+=o.text;let c=await e.parsePartial({text:n});if(c!=null){let e=JSON.stringify(c.partial);e!==i&&(a({controller:s,partialOutput:c.partial}),i=e)}}})}var sT=class{constructor({model:e,telemetry:t,headers:n,settings:r,maxRetries:i,abortSignal:a,system:o,prompt:s,messages:c,tools:l,toolChoice:u,transforms:d,activeTools:f,repairToolCall:p,stopConditions:m,output:h,providerOptions:g,prepareStep:_,includeRawChunks:v,now:ee,currentDate:te,generateId:ne,onChunk:y,onError:b,onFinish:x,onAbort:re,onStepFinish:ie,experimental_context:ae,download:oe}){this._totalUsage=new tT,this._finishReason=new tT,this._steps=new tT,this.output=h,this.includeRawChunks=v,this.tools=l;let se,ce=[],le=[],ue,de,fe={},pe=[],me=[],he,ge={},_e={},ve=new TransformStream({async transform(e,t){t.enqueue(e);let{part:n}=e;if((n.type===`text-delta`||n.type===`reasoning-delta`||n.type===`source`||n.type===`tool-call`||n.type===`tool-result`||n.type===`tool-input-start`||n.type===`tool-input-delta`||n.type===`raw`)&&await y?.({chunk:n}),n.type===`error`&&await b({error:aw(n.error)}),n.type===`text-start`&&(ge[n.id]={type:`text`,text:``,providerMetadata:n.providerMetadata},ce.push(ge[n.id])),n.type===`text-delta`){let e=ge[n.id];if(e==null){t.enqueue({part:{type:`error`,error:`text part ${n.id} not found`},partialOutput:void 0});return}e.text+=n.text,e.providerMetadata=n.providerMetadata??e.providerMetadata}if(n.type===`text-end`){let e=ge[n.id];if(e==null){t.enqueue({part:{type:`error`,error:`text part ${n.id} not found`},partialOutput:void 0});return}e.providerMetadata=n.providerMetadata??e.providerMetadata,delete ge[n.id]}if(n.type===`reasoning-start`&&(_e[n.id]={type:`reasoning`,text:``,providerMetadata:n.providerMetadata},ce.push(_e[n.id])),n.type===`reasoning-delta`){let e=_e[n.id];if(e==null){t.enqueue({part:{type:`error`,error:`reasoning part ${n.id} not found`},partialOutput:void 0});return}e.text+=n.text,e.providerMetadata=n.providerMetadata??e.providerMetadata}if(n.type===`reasoning-end`){let e=_e[n.id];if(e==null){t.enqueue({part:{type:`error`,error:`reasoning part ${n.id} not found`},partialOutput:void 0});return}e.providerMetadata=n.providerMetadata??e.providerMetadata,delete _e[n.id]}if(n.type===`file`&&ce.push({type:`file`,file:n.file}),n.type===`source`&&ce.push(n),n.type===`tool-call`&&ce.push(n),n.type===`tool-result`&&!n.preliminary&&ce.push(n),n.type===`tool-error`&&ce.push(n),n.type===`start-step`&&(fe=n.request,pe=n.warnings),n.type===`finish-step`){let e=Mw({content:ce,tools:l}),t=new Dw({content:ce,finishReason:n.finishReason,usage:n.usage,warnings:pe,request:fe,response:{...n.response,messages:[...le,...e]},providerMetadata:n.providerMetadata});await ie?.(t),FS(pe),me.push(t),ce=[],_e={},ge={},le.push(...e),se.resolve()}n.type===`finish`&&(de=n.totalUsage,ue=n.finishReason)},async flush(e){try{if(me.length===0){let e=new tC({message:`No output generated. Check the stream for errors.`});De._finishReason.reject(e),De._totalUsage.reject(e),De._steps.reject(e);return}let e=ue??`unknown`,n=de??{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};De._finishReason.resolve(e),De._totalUsage.resolve(n),De._steps.resolve(me);let r=me[me.length-1];await x?.({finishReason:e,totalUsage:n,usage:r.usage,content:r.content,text:r.text,reasoningText:r.reasoningText,reasoning:r.reasoning,files:r.files,sources:r.sources,toolCalls:r.toolCalls,staticToolCalls:r.staticToolCalls,dynamicToolCalls:r.dynamicToolCalls,toolResults:r.toolResults,staticToolResults:r.staticToolResults,dynamicToolResults:r.dynamicToolResults,request:r.request,response:r.response,warnings:r.warnings,providerMetadata:r.providerMetadata,steps:me}),he.setAttributes(mw({telemetry:t,attributes:{"ai.response.finishReason":e,"ai.response.text":{output:()=>r.text},"ai.response.toolCalls":{output:()=>r.toolCalls?.length?JSON.stringify(r.toolCalls):void 0},"ai.response.providerMetadata":JSON.stringify(r.providerMetadata),"ai.usage.inputTokens":n.inputTokens,"ai.usage.outputTokens":n.outputTokens,"ai.usage.totalTokens":n.totalTokens,"ai.usage.reasoningTokens":n.reasoningTokens,"ai.usage.cachedInputTokens":n.cachedInputTokens}}))}catch(t){e.error(t)}finally{he.end()}}}),ye=eT();this.addStream=ye.addStream,this.closeStream=ye.close;let be=ye.stream.getReader(),xe=new ReadableStream({async start(e){e.enqueue({type:`start`})},async pull(e){function t(){re?.({steps:me}),e.enqueue({type:`abort`}),e.close()}try{let{done:n,value:r}=await be.read();if(n){e.close();return}if(a?.aborted){t();return}e.enqueue(r)}catch(n){uv(n)&&a?.aborted?t():e.error(n)}},cancel(e){return ye.stream.cancel(e)}});for(let e of d)xe=xe.pipeThrough(e({tools:l,stopStream(){ye.terminate()}}));this.baseStream=xe.pipeThrough(oT(h)).pipeThrough(ve);let{maxRetries:Se,retry:Ce}=Sw({maxRetries:i,abortSignal:a}),we=dw(t),Te=GC(r),Ee=sw({model:e,telemetry:t,headers:n,settings:{...Te,maxRetries:Se}}),De=this;fw({name:`ai.streamText`,attributes:mw({telemetry:t,attributes:{...ow({operationId:`ai.streamText`,telemetry:t}),...Ee,"ai.prompt":{input:()=>JSON.stringify({system:o,prompt:s,messages:c})}}}),tracer:we,endWhenDone:!1,fn:async r=>{he=r;async function i({currentStep:r,responseMessages:d,usage:v}){let y=De.includeRawChunks;se=new tT;let b=await iw({system:o,prompt:s,messages:c}),x=[...b.messages,...d],re=await _?.({model:e,steps:me,stepNumber:me.length,messages:x}),ie=OC(re?.model??e),ce=await VC({prompt:{system:re?.system??b.system,messages:re?.messages??x},supportedUrls:await ie.supportedUrls,download:oe}),{toolChoice:le,tools:ue}=qC({tools:l,toolChoice:re?.toolChoice??u,activeTools:re?.activeTools??f}),{result:{stream:de,response:fe,request:pe},doStreamSpan:he,startTimestampMs:ge}=await Ce(()=>fw({name:`ai.streamText.doStream`,attributes:mw({telemetry:t,attributes:{...ow({operationId:`ai.streamText.doStream`,telemetry:t}),...Ee,"ai.model.provider":ie.provider,"ai.model.id":ie.modelId,"ai.prompt.messages":{input:()=>hw(ce)},"ai.prompt.tools":{input:()=>ue?.map(e=>JSON.stringify(e))},"ai.prompt.toolChoice":{input:()=>le==null?void 0:JSON.stringify(le)},"gen_ai.system":ie.provider,"gen_ai.request.model":ie.modelId,"gen_ai.request.frequency_penalty":Te.frequencyPenalty,"gen_ai.request.max_tokens":Te.maxOutputTokens,"gen_ai.request.presence_penalty":Te.presencePenalty,"gen_ai.request.stop_sequences":Te.stopSequences,"gen_ai.request.temperature":Te.temperature,"gen_ai.request.top_k":Te.topK,"gen_ai.request.top_p":Te.topP}}),tracer:we,endWhenDone:!1,fn:async e=>({startTimestampMs:ee(),doStreamSpan:e,result:await ie.doStream({...Te,tools:ue,toolChoice:le,responseFormat:h?.responseFormat,prompt:ce,providerOptions:g,abortSignal:a,headers:n,includeRawChunks:y})})})),_e=rT({tools:l,generatorStream:de,tracer:we,telemetry:t,system:o,messages:x,repairToolCall:p,abortSignal:a,experimental_context:ae}),ve=pe??{},ye=[],be=[],xe,Se={},Oe=`unknown`,ke={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},Ae,je=!0,Me={id:ne(),timestamp:te(),modelId:e.modelId},Ne=``;De.addStream(_e.pipeThrough(new TransformStream({async transform(e,t){if(e.type===`stream-start`){xe=e.warnings;return}if(je){let e=ee()-ge;je=!1,he.addEvent(`ai.stream.firstChunk`,{"ai.response.msToFirstChunk":e}),he.setAttributes({"ai.response.msToFirstChunk":e}),t.enqueue({type:`start-step`,request:ve,warnings:xe??[]})}let n=e.type;switch(n){case`text-start`:case`text-end`:t.enqueue(e);break;case`text-delta`:e.delta.length>0&&(t.enqueue({type:`text-delta`,id:e.id,text:e.delta,providerMetadata:e.providerMetadata}),Ne+=e.delta);break;case`reasoning-start`:case`reasoning-end`:t.enqueue(e);break;case`reasoning-delta`:t.enqueue({type:`reasoning-delta`,id:e.id,text:e.delta,providerMetadata:e.providerMetadata});break;case`tool-call`:t.enqueue(e),ye.push(e);break;case`tool-result`:t.enqueue(e),e.preliminary||be.push(e);break;case`tool-error`:t.enqueue(e),be.push(e);break;case`response-metadata`:Me={id:e.id??Me.id,timestamp:e.timestamp??Me.timestamp,modelId:e.modelId??Me.modelId};break;case`finish`:{ke=e.usage,Oe=e.finishReason,Ae=e.providerMetadata;let t=ee()-ge;he.addEvent(`ai.stream.finish`),he.setAttributes({"ai.response.msToFinish":t,"ai.response.avgOutputTokensPerSecond":1e3*(ke.outputTokens??0)/t});break}case`file`:t.enqueue(e);break;case`source`:t.enqueue(e);break;case`tool-input-start`:{Se[e.id]=e.toolName;let n=l?.[e.toolName];n?.onInputStart!=null&&await n.onInputStart({toolCallId:e.id,messages:x,abortSignal:a,experimental_context:ae}),t.enqueue({...e,dynamic:n?.type===`dynamic`});break}case`tool-input-end`:delete Se[e.id],t.enqueue(e);break;case`tool-input-delta`:{let n=Se[e.id],r=l?.[n];r?.onInputDelta!=null&&await r.onInputDelta({inputTextDelta:e.delta,toolCallId:e.id,messages:x,abortSignal:a,experimental_context:ae}),t.enqueue(e);break}case`error`:t.enqueue(e),Oe=`error`;break;case`raw`:y&&t.enqueue(e);break;default:{let e=n;throw Error(`Unknown chunk type: ${e}`)}}},async flush(e){let n=ye.length>0?JSON.stringify(ye):void 0;try{he.setAttributes(mw({telemetry:t,attributes:{"ai.response.finishReason":Oe,"ai.response.text":{output:()=>Ne},"ai.response.toolCalls":{output:()=>n},"ai.response.id":Me.id,"ai.response.model":Me.modelId,"ai.response.timestamp":Me.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(Ae),"ai.usage.inputTokens":ke.inputTokens,"ai.usage.outputTokens":ke.outputTokens,"ai.usage.totalTokens":ke.totalTokens,"ai.usage.reasoningTokens":ke.reasoningTokens,"ai.usage.cachedInputTokens":ke.cachedInputTokens,"gen_ai.response.finish_reasons":[Oe],"gen_ai.response.id":Me.id,"gen_ai.response.model":Me.modelId,"gen_ai.usage.input_tokens":ke.inputTokens,"gen_ai.usage.output_tokens":ke.outputTokens}}))}catch{}finally{he.end()}e.enqueue({type:`finish-step`,finishReason:Oe,usage:ke,providerMetadata:Ae,response:{...Me,headers:fe?.headers}});let a=gw(v,ke);await se.promise;let o=ye.filter(e=>e.providerExecuted!==!0),s=be.filter(e=>e.providerExecuted!==!0);if(o.length>0&&s.length===o.length&&!await kw({stopConditions:m,steps:me})){d.push(...Mw({content:me[me.length-1].content,tools:l}));try{await i({currentStep:r+1,responseMessages:d,usage:a})}catch(t){e.enqueue({type:`error`,error:t}),De.closeStream()}}else e.enqueue({type:`finish`,finishReason:Oe,totalUsage:a}),De.closeStream()}})))}await i({currentStep:0,responseMessages:[],usage:{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0}})}}).catch(e=>{De.addStream(new ReadableStream({start(t){t.enqueue({type:`error`,error:e}),t.close()}})),De.closeStream()})}get steps(){return this.consumeStream(),this._steps.promise}get finalStep(){return this.steps.then(e=>e[e.length-1])}get content(){return this.finalStep.then(e=>e.content)}get warnings(){return this.finalStep.then(e=>e.warnings)}get providerMetadata(){return this.finalStep.then(e=>e.providerMetadata)}get text(){return this.finalStep.then(e=>e.text)}get reasoningText(){return this.finalStep.then(e=>e.reasoningText)}get reasoning(){return this.finalStep.then(e=>e.reasoning)}get sources(){return this.finalStep.then(e=>e.sources)}get files(){return this.finalStep.then(e=>e.files)}get toolCalls(){return this.finalStep.then(e=>e.toolCalls)}get staticToolCalls(){return this.finalStep.then(e=>e.staticToolCalls)}get dynamicToolCalls(){return this.finalStep.then(e=>e.dynamicToolCalls)}get toolResults(){return this.finalStep.then(e=>e.toolResults)}get staticToolResults(){return this.finalStep.then(e=>e.staticToolResults)}get dynamicToolResults(){return this.finalStep.then(e=>e.dynamicToolResults)}get usage(){return this.finalStep.then(e=>e.usage)}get request(){return this.finalStep.then(e=>e.request)}get response(){return this.finalStep.then(e=>e.response)}get totalUsage(){return this.consumeStream(),this._totalUsage.promise}get finishReason(){return this.consumeStream(),this._finishReason.promise}teeStream(){let[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return Zw(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){e.type===`text-delta`&&t.enqueue(e.text)}})))}get fullStream(){return Zw(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){t.enqueue(e)}})))}async consumeStream(e){var t;try{await Qw({stream:this.fullStream,onError:e?.onError})}catch(n){(t=e?.onError)==null||t.call(e,n)}}get experimental_partialOutputStream(){if(this.output==null)throw new jS;return Zw(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:e},t){e!=null&&t.enqueue(e)}})))}toUIMessageStream({originalMessages:e,generateMessageId:t,onFinish:n,messageMetadata:r,sendReasoning:i=!0,sendSources:a=!1,sendStart:o=!0,sendFinish:s=!0,onError:c=vl}={}){let l=t==null?void 0:Bw({originalMessages:e,responseMessageId:t}),u={},d=e=>{let t=u[e];return this.tools?.[t]?.type===`dynamic`?!0:void 0};return Zw(Yw({stream:this.fullStream.pipeThrough(new TransformStream({transform:async(e,t)=>{let n=r?.({part:e}),f=e.type;switch(f){case`text-start`:t.enqueue({type:`text-start`,id:e.id,...e.providerMetadata==null?{}:{providerMetadata:e.providerMetadata}});break;case`text-delta`:t.enqueue({type:`text-delta`,id:e.id,delta:e.text,...e.providerMetadata==null?{}:{providerMetadata:e.providerMetadata}});break;case`text-end`:t.enqueue({type:`text-end`,id:e.id,...e.providerMetadata==null?{}:{providerMetadata:e.providerMetadata}});break;case`reasoning-start`:t.enqueue({type:`reasoning-start`,id:e.id,...e.providerMetadata==null?{}:{providerMetadata:e.providerMetadata}});break;case`reasoning-delta`:i&&t.enqueue({type:`reasoning-delta`,id:e.id,delta:e.text,...e.providerMetadata==null?{}:{providerMetadata:e.providerMetadata}});break;case`reasoning-end`:t.enqueue({type:`reasoning-end`,id:e.id,...e.providerMetadata==null?{}:{providerMetadata:e.providerMetadata}});break;case`file`:t.enqueue({type:`file`,mediaType:e.file.mediaType,url:`data:${e.file.mediaType};base64,${e.file.base64}`});break;case`source`:a&&e.sourceType===`url`&&t.enqueue({type:`source-url`,sourceId:e.id,url:e.url,title:e.title,...e.providerMetadata==null?{}:{providerMetadata:e.providerMetadata}}),a&&e.sourceType===`document`&&t.enqueue({type:`source-document`,sourceId:e.id,mediaType:e.mediaType,title:e.title,filename:e.filename,...e.providerMetadata==null?{}:{providerMetadata:e.providerMetadata}});break;case`tool-input-start`:{u[e.id]=e.toolName;let n=d(e.id);t.enqueue({type:`tool-input-start`,toolCallId:e.id,toolName:e.toolName,...e.providerExecuted==null?{}:{providerExecuted:e.providerExecuted},...n==null?{}:{dynamic:n}});break}case`tool-input-delta`:t.enqueue({type:`tool-input-delta`,toolCallId:e.id,inputTextDelta:e.delta});break;case`tool-call`:{u[e.toolCallId]=e.toolName;let n=d(e.toolCallId);e.invalid?t.enqueue({type:`tool-input-error`,toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,...e.providerExecuted==null?{}:{providerExecuted:e.providerExecuted},...e.providerMetadata==null?{}:{providerMetadata:e.providerMetadata},...n==null?{}:{dynamic:n},errorText:c(e.error)}):t.enqueue({type:`tool-input-available`,toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,...e.providerExecuted==null?{}:{providerExecuted:e.providerExecuted},...e.providerMetadata==null?{}:{providerMetadata:e.providerMetadata},...n==null?{}:{dynamic:n}});break}case`tool-result`:{let n=d(e.toolCallId);t.enqueue({type:`tool-output-available`,toolCallId:e.toolCallId,output:e.output,...e.providerExecuted==null?{}:{providerExecuted:e.providerExecuted},...e.preliminary==null?{}:{preliminary:e.preliminary},...n==null?{}:{dynamic:n}});break}case`tool-error`:{let n=d(e.toolCallId);t.enqueue({type:`tool-output-error`,toolCallId:e.toolCallId,errorText:c(e.error),...e.providerExecuted==null?{}:{providerExecuted:e.providerExecuted},...n==null?{}:{dynamic:n}});break}case`error`:t.enqueue({type:`error`,errorText:c(e.error)});break;case`start-step`:t.enqueue({type:`start-step`});break;case`finish-step`:t.enqueue({type:`finish-step`});break;case`start`:o&&t.enqueue({type:`start`,...n==null?{}:{messageMetadata:n},...l==null?{}:{messageId:l}});break;case`finish`:s&&t.enqueue({type:`finish`,finishReason:e.finishReason,...n==null?{}:{messageMetadata:n}});break;case`abort`:t.enqueue(e);break;case`tool-input-end`:break;case`raw`:break;default:{let e=f;throw Error(`Unknown chunk type: ${e}`)}}n!=null&&f!==`start`&&f!==`finish`&&t.enqueue({type:`message-metadata`,messageMetadata:n})}})),messageId:l??t?.(),originalMessages:e,onFinish:n,onError:c}))}pipeUIMessageStreamToResponse(e,{originalMessages:t,generateMessageId:n,onFinish:r,messageMetadata:i,sendReasoning:a,sendSources:o,sendFinish:s,sendStart:c,onError:l,...u}={}){Xw({response:e,stream:this.toUIMessageStream({originalMessages:t,generateMessageId:n,onFinish:r,messageMetadata:i,sendReasoning:a,sendSources:o,sendFinish:s,sendStart:c,onError:l}),...u})}pipeTextStreamToResponse(e,t){Iw({response:e,textStream:this.textStream,...t})}toUIMessageStreamResponse({originalMessages:e,generateMessageId:t,onFinish:n,messageMetadata:r,sendReasoning:i,sendSources:a,sendFinish:o,sendStart:s,onError:c,...l}={}){return zw({stream:this.toUIMessageStream({originalMessages:e,generateMessageId:t,onFinish:n,messageMetadata:r,sendReasoning:i,sendSources:a,sendFinish:o,sendStart:s,onError:c}),...l})}toTextStreamResponse(e){return Pw({textStream:this.textStream,...e})}};sv({prefix:`aiobj`,size:24}),sv({prefix:`aiobj`,size:24}),ES({},{object:()=>lT,text:()=>cT});var cT=()=>({type:`text`,responseFormat:{type:`text`},async parsePartial({text:e}){return{partial:e}},async parseOutput({text:e}){return e}}),lT=({schema:e})=>{let t=eb(e);return{type:`object`,responseFormat:{type:`json`,schema:t.jsonSchema},async parsePartial({text:e}){let t=await Ww(e);switch(t.state){case`failed-parse`:case`undefined-input`:return;case`repaired-parse`:case`successful-parse`:return{partial:t.value};default:{let e=t.state;throw Error(`Unsupported parse state: ${e}`)}}},async parseOutput({text:e},n){let r=await Iv({text:e});if(!r.success)throw new XS({message:`No object generated: could not parse the response.`,cause:r.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});let i=await Pv({value:r.value,schema:t});if(!i.success)throw new XS({message:`No object generated: response did not match schema.`,cause:i.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});return i.value}}};function uT(e){return e?.providerOptions?.openaiCompatible??{}}function dT(e){let t=[];for(let{role:n,content:r,...i}of e){let e=uT({...i});switch(n){case`system`:t.push({role:`system`,content:r,...e});break;case`user`:if(r.length===1&&r[0].type===`text`){t.push({role:`user`,content:r[0].text,...uT(r[0])});break}t.push({role:`user`,content:r.map(e=>{let t=uT(e);switch(e.type){case`text`:return{type:`text`,text:e.text,...t};case`file`:if(e.mediaType.startsWith(`image/`)){let n=e.mediaType===`image/*`?`image/jpeg`:e.mediaType;return{type:`image_url`,image_url:{url:e.data instanceof URL?e.data.toString():`data:${n};base64,${ab(e.data)}`},...t}}else throw new au({functionality:`file part media type ${e.mediaType}`})}}),...e});break;case`assistant`:{let n=``,i=[];for(let e of r){let t=uT(e);switch(e.type){case`text`:n+=e.text;break;case`tool-call`:i.push({id:e.toolCallId,type:`function`,function:{name:e.toolName,arguments:JSON.stringify(e.input)},...t});break}}t.push({role:`assistant`,content:n,tool_calls:i.length>0?i:void 0,...e});break}case`tool`:for(let e of r){let n=e.output,r;switch(n.type){case`text`:case`error-text`:r=n.value;break;case`content`:case`json`:case`error-json`:r=JSON.stringify(n.value);break}let i=uT(e);t.push({role:`tool`,tool_call_id:e.toolCallId,content:r,...i})}break;default:{let e=n;throw Error(`Unsupported role: ${e}`)}}}return t}function fT({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n==null?void 0:new Date(n*1e3)}}function pT(e){switch(e){case`stop`:return`stop`;case`length`:return`length`;case`content_filter`:return`content-filter`;case`function_call`:case`tool_calls`:return`tool-calls`;default:return`unknown`}}var mT=K({user:G().optional(),reasoningEffort:G().optional(),textVerbosity:G().optional()}),hT={errorSchema:K({error:K({message:G(),type:G().nullish(),param:Lh().nullish(),code:Kh([G(),kh()]).nullish()})}),errorToMessage:e=>e.error.message};function gT({tools:e,toolChoice:t}){e=e?.length?e:void 0;let n=[];if(e==null)return{tools:void 0,toolChoice:void 0,toolWarnings:n};let r=[];for(let t of e)t.type===`provider-defined`?n.push({type:`unsupported-tool`,tool:t}):r.push({type:`function`,function:{name:t.name,description:t.description,parameters:t.inputSchema}});if(t==null)return{tools:r,toolChoice:void 0,toolWarnings:n};let i=t.type;switch(i){case`auto`:case`none`:case`required`:return{tools:r,toolChoice:i,toolWarnings:n};case`tool`:return{tools:r,toolChoice:{type:`function`,function:{name:t.toolName}},toolWarnings:n};default:throw new au({functionality:`tool choice type: ${i}`})}}var _T=class{constructor(e,t){this.specificationVersion=`v2`,this.modelId=e,this.config=t;let n=t.errorStructure??hT;this.chunkSchema=bT(n.errorSchema),this.failedResponseHandler=Wv(n),this.supportsStructuredOutputs=t.supportsStructuredOutputs??!1}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(`.`)[0].trim()}get supportedUrls(){var e;return(e=this.config).supportedUrls?.call(e)??{}}async getArgs({prompt:e,maxOutputTokens:t,temperature:n,topP:r,topK:i,frequencyPenalty:a,presencePenalty:o,providerOptions:s,stopSequences:c,responseFormat:l,seed:u,toolChoice:d,tools:f}){let p=[],m=Object.assign(await zv({provider:`openai-compatible`,providerOptions:s,schema:mT})??{},await zv({provider:this.providerOptionsName,providerOptions:s,schema:mT})??{});i!=null&&p.push({type:`unsupported-setting`,setting:`topK`}),l?.type===`json`&&l.schema!=null&&!this.supportsStructuredOutputs&&p.push({type:`unsupported-setting`,setting:`responseFormat`,details:`JSON response format schema is only supported with structuredOutputs`});let{tools:h,toolChoice:g,toolWarnings:_}=gT({tools:f,toolChoice:d});return{args:{model:this.modelId,user:m.user,max_tokens:t,temperature:n,top_p:r,frequency_penalty:a,presence_penalty:o,response_format:l?.type===`json`?this.supportsStructuredOutputs===!0&&l.schema!=null?{type:`json_schema`,json_schema:{schema:l.schema,name:l.name??`response`,description:l.description}}:{type:`json_object`}:void 0,stop:c,seed:u,...Object.fromEntries(Object.entries(s?.[this.providerOptionsName]??{}).filter(([e])=>!Object.keys(mT.shape).includes(e))),reasoning_effort:m.reasoningEffort,verbosity:m.textVerbosity,messages:dT(e),tools:h,tool_choice:g},warnings:[...p,..._]}}async doGenerate(e){var t;let{args:n,warnings:r}=await this.getArgs({...e}),i=JSON.stringify(n),{responseHeaders:a,value:o,rawValue:s}=await Vv({url:this.config.url({path:`/chat/completions`,modelId:this.modelId}),headers:rv(this.config.headers(),e.headers),body:n,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Kv(yT),abortSignal:e.abortSignal,fetch:this.config.fetch}),c=o.choices[0],l=[],u=c.message.content;u!=null&&u.length>0&&l.push({type:`text`,text:u});let d=c.message.reasoning_content??c.message.reasoning;if(d!=null&&d.length>0&&l.push({type:`reasoning`,text:d}),c.message.tool_calls!=null)for(let e of c.message.tool_calls)l.push({type:`tool-call`,toolCallId:e.id??cv(),toolName:e.function.name,input:e.function.arguments});let f={[this.providerOptionsName]:{},...await((t=this.config.metadataExtractor)?.extractMetadata)?.call(t,{parsedBody:s})},p=o.usage?.completion_tokens_details;return p?.accepted_prediction_tokens!=null&&(f[this.providerOptionsName].acceptedPredictionTokens=p?.accepted_prediction_tokens),p?.rejected_prediction_tokens!=null&&(f[this.providerOptionsName].rejectedPredictionTokens=p?.rejected_prediction_tokens),{content:l,finishReason:pT(c.finish_reason),usage:{inputTokens:o.usage?.prompt_tokens??void 0,outputTokens:o.usage?.completion_tokens??void 0,totalTokens:o.usage?.total_tokens??void 0,reasoningTokens:o.usage?.completion_tokens_details?.reasoning_tokens??void 0,cachedInputTokens:o.usage?.prompt_tokens_details?.cached_tokens??void 0},providerMetadata:f,request:{body:i},response:{...fT(o),headers:a,body:s},warnings:r}}async doStream(e){let{args:t,warnings:n}=await this.getArgs({...e}),r={...t,stream:!0,stream_options:this.config.includeUsage?{include_usage:!0}:void 0},i=this.config.metadataExtractor?.createStreamExtractor(),{responseHeaders:a,value:o}=await Vv({url:this.config.url({path:`/chat/completions`,modelId:this.modelId}),headers:rv(this.config.headers(),e.headers),body:r,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Gv(this.chunkSchema),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=[],c=`unknown`,l={completionTokens:void 0,completionTokensDetails:{reasoningTokens:void 0,acceptedPredictionTokens:void 0,rejectedPredictionTokens:void 0},promptTokens:void 0,promptTokensDetails:{cachedTokens:void 0},totalTokens:void 0},u=!0,d=this.providerOptionsName,f=!1,p=!1;return{stream:o.pipeThrough(new TransformStream({start(e){e.enqueue({type:`stream-start`,warnings:n})},transform(t,n){if(e.includeRawChunks&&n.enqueue({type:`raw`,rawValue:t.rawValue}),!t.success){c=`error`,n.enqueue({type:`error`,error:t.error});return}let r=t.value;if(i?.processChunk(t.rawValue),`error`in r){c=`error`,n.enqueue({type:`error`,error:r.error.message});return}if(u&&(u=!1,n.enqueue({type:`response-metadata`,...fT(r)})),r.usage!=null){let{prompt_tokens:e,completion_tokens:t,total_tokens:n,prompt_tokens_details:i,completion_tokens_details:a}=r.usage;l.promptTokens=e??void 0,l.completionTokens=t??void 0,l.totalTokens=n??void 0,a?.reasoning_tokens!=null&&(l.completionTokensDetails.reasoningTokens=a?.reasoning_tokens),a?.accepted_prediction_tokens!=null&&(l.completionTokensDetails.acceptedPredictionTokens=a?.accepted_prediction_tokens),a?.rejected_prediction_tokens!=null&&(l.completionTokensDetails.rejectedPredictionTokens=a?.rejected_prediction_tokens),i?.cached_tokens!=null&&(l.promptTokensDetails.cachedTokens=i?.cached_tokens)}let a=r.choices[0];if(a?.finish_reason!=null&&(c=pT(a.finish_reason)),a?.delta==null)return;let o=a.delta,d=o.reasoning_content??o.reasoning;if(d&&(f||=(n.enqueue({type:`reasoning-start`,id:`reasoning-0`}),!0),n.enqueue({type:`reasoning-delta`,id:`reasoning-0`,delta:d})),o.content&&(p||=(n.enqueue({type:`text-start`,id:`txt-0`}),!0),n.enqueue({type:`text-delta`,id:`txt-0`,delta:o.content})),o.tool_calls!=null)for(let e of o.tool_calls){let t=e.index;if(s[t]==null){if(e.id==null)throw new Nl({data:e,message:`Expected 'id' to be a string.`});if(e.function?.name==null)throw new Nl({data:e,message:`Expected 'function.name' to be a string.`});n.enqueue({type:`tool-input-start`,id:e.id,toolName:e.function.name}),s[t]={id:e.id,type:`function`,function:{name:e.function.name,arguments:e.function.arguments??``},hasFinished:!1};let r=s[t];r.function?.name!=null&&r.function?.arguments!=null&&(r.function.arguments.length>0&&n.enqueue({type:`tool-input-delta`,id:r.id,delta:r.function.arguments}),Lv(r.function.arguments)&&(n.enqueue({type:`tool-input-end`,id:r.id}),n.enqueue({type:`tool-call`,toolCallId:r.id??cv(),toolName:r.function.name,input:r.function.arguments}),r.hasFinished=!0));continue}let r=s[t];r.hasFinished||(e.function?.arguments!=null&&(r.function.arguments+=e.function?.arguments??``),n.enqueue({type:`tool-input-delta`,id:r.id,delta:e.function.arguments??``}),r.function?.name!=null&&r.function?.arguments!=null&&Lv(r.function.arguments)&&(n.enqueue({type:`tool-input-end`,id:r.id}),n.enqueue({type:`tool-call`,toolCallId:r.id??cv(),toolName:r.function.name,input:r.function.arguments}),r.hasFinished=!0))}},flush(e){f&&e.enqueue({type:`reasoning-end`,id:`reasoning-0`}),p&&e.enqueue({type:`text-end`,id:`txt-0`});for(let t of s.filter(e=>!e.hasFinished))e.enqueue({type:`tool-input-end`,id:t.id}),e.enqueue({type:`tool-call`,toolCallId:t.id??cv(),toolName:t.function.name,input:t.function.arguments});let t={[d]:{},...i?.buildMetadata()};l.completionTokensDetails.acceptedPredictionTokens!=null&&(t[d].acceptedPredictionTokens=l.completionTokensDetails.acceptedPredictionTokens),l.completionTokensDetails.rejectedPredictionTokens!=null&&(t[d].rejectedPredictionTokens=l.completionTokensDetails.rejectedPredictionTokens),e.enqueue({type:`finish`,finishReason:c,usage:{inputTokens:l.promptTokens??void 0,outputTokens:l.completionTokens??void 0,totalTokens:l.totalTokens??void 0,reasoningTokens:l.completionTokensDetails.reasoningTokens??void 0,cachedInputTokens:l.promptTokensDetails.cachedTokens??void 0},providerMetadata:t})}})),request:{body:r},response:{headers:a}}}},vT=K({prompt_tokens:kh().nullish(),completion_tokens:kh().nullish(),total_tokens:kh().nullish(),prompt_tokens_details:K({cached_tokens:kh().nullish()}).nullish(),completion_tokens_details:K({reasoning_tokens:kh().nullish(),accepted_prediction_tokens:kh().nullish(),rejected_prediction_tokens:kh().nullish()}).nullish()}).nullish(),yT=K({id:G().nullish(),created:kh().nullish(),model:G().nullish(),choices:Uh(K({message:K({role:ng(`assistant`).nullish(),content:G().nullish(),reasoning_content:G().nullish(),reasoning:G().nullish(),tool_calls:Uh(K({id:G().nullish(),function:K({name:G(),arguments:G()})})).nullish()}),finish_reason:G().nullish()})),usage:vT}),bT=e=>Kh([K({id:G().nullish(),created:kh().nullish(),model:G().nullish(),choices:Uh(K({delta:K({role:eg([`assistant`]).nullish(),content:G().nullish(),reasoning_content:G().nullish(),reasoning:G().nullish(),tool_calls:Uh(K({index:kh(),id:G().nullish(),function:K({name:G().nullish(),arguments:G().nullish()})})).nullish()}).nullish(),finish_reason:G().nullish()})),usage:vT}),e]);K({echo:Nh().optional(),logitBias:Qh(G(),kh()).optional(),suffix:G().optional(),user:G().optional()});var xT=K({prompt_tokens:kh(),completion_tokens:kh(),total_tokens:kh()});K({id:G().nullish(),created:kh().nullish(),model:G().nullish(),choices:Uh(K({text:G(),finish_reason:G()})),usage:xT.nullish()}),K({dimensions:kh().optional(),user:G().optional()}),K({data:Uh(K({embedding:Uh(kh())})),usage:K({prompt_tokens:kh()}).nullish(),providerMetadata:Qh(G(),Qh(G(),Lh())).optional()}),K({data:Uh(K({b64_json:G()}))});var ST=e=>e==null?void 0:{deepseek:{promptCacheHitTokens:e.prompt_cache_hit_tokens??NaN,promptCacheMissTokens:e.prompt_cache_miss_tokens??NaN}},CT={extractMetadata:async({parsedBody:e})=>{let t=await Pv({value:e,schema:TT});return!t.success||t.value.usage==null?void 0:ST(t.value.usage)},createStreamExtractor:()=>{let e;return{processChunk:async t=>{let n=await Pv({value:t,schema:ET});n.success&&n.value.choices?.[0]?.finish_reason===`stop`&&n.value.usage&&(e=n.value.usage)},buildMetadata:()=>ST(e)}}},wT=K({prompt_cache_hit_tokens:kh().nullish(),prompt_cache_miss_tokens:kh().nullish()}),TT=K({usage:wT.nullish()}),ET=K({choices:Uh(K({finish_reason:G().nullish()})).nullish(),usage:wT.nullish()}),DT=`1.0.28`;function OT(e={}){let t=ob(e.baseURL??`https://api.deepseek.com/v1`),n=()=>hv({Authorization:`Bearer ${bv({apiKey:e.apiKey,environmentVariableName:`DEEPSEEK_API_KEY`,description:`DeepSeek API key`})}`,...e.headers},`ai-sdk/deepseek/${DT}`),r=r=>new _T(r,{provider:`deepseek.chat`,url:({path:e})=>`${t}${e}`,headers:n,fetch:e.fetch,metadataExtractor:CT}),i=e=>r(e);return i.languageModel=r,i.chat=r,i.textEmbeddingModel=e=>{throw new Jl({modelId:e,modelType:`textEmbeddingModel`})},i.imageModel=e=>{throw new Jl({modelId:e,modelType:`imageModel`})},i}OT();const kT=OT({apiKey:`sk-deb24f0d1f7347dea5234d4b38311428`})(`deepseek-chat`),AT=({sentence:e,parent:t,prev:n,next:r,children:i})=>{let a=``;return(t||n||r||i?.length)&&(a+=`上下文包括：

`,t&&(a+=`父命题：${t}\n`),n&&(a+=`上一句：${n}\n`),r&&(a+=`下一句：${r}\n`),i&&i.length>0&&(a+=`子命题：${i.join(`
`)}\n`)),aT({model:kT,system:`你是《逻辑哲学论》的专家，擅长分析维特根斯坦的哲学思想。而我正在阅读《逻辑哲学论》这本书，在阅读的过程中，我对其中的一些语句不太明白，我需要你为我解释这句话的意思。你只需要重点分析这句话本身，不需要进行整体总结。${a}`,prompt:`请你分析这句话的意思：${e}`})};var jT=()=>{Qc(),window.location.hash=``},MT=y(`div`,{target:`e1x4q84a0`})(`padding:20px;position:sticky;top:0;font-size:`,xc.fontSizeSmall,`;line-height:1.5;height:100vh;overflow-y:auto;`);const NT=()=>{let e=Zc(),[t,n]=(0,x.useState)(``);return(0,x.useEffect)(()=>{(async()=>{n(``);let t=Jc(),r={};t?.forEach(t=>{t.dataset.key===e&&(r.sentence=t.textContent||``),t.dataset.key.startsWith(e)&&t.dataset.key!==e&&(r.children=r.children||[],r.children.push(t.textContent||``)),t.dataset.key===e.slice(0,-1)&&(r.parent=t.textContent||``)});let{textStream:i}=AT(r);for await(let e of i)n(t=>t+e)})()},[e]),a(MT,{children:[i(u,{color:`default`,variant:`filled`,icon:i(v,{}),onClick:jT}),t?i(te,{children:t}):i(_,{active:!0})]})};var PT=y(`div`,{target:`e7mffw11`})({name:`k6r5mq`,styles:`height:100vh;overflow-y:auto`}),FT=y(`div`,{target:`e7mffw10`})(`position:relative;padding:40px 20px;font-size:`,xc.fontSize,`;line-height:2;white-space:pre-line;`);(0,ae.createRoot)(document.body).render(i(()=>{let e=Zc();rl(),(0,x.useEffect)(()=>{if(Yc(document.querySelectorAll(`[data-key]`)),window.location.hash){let e=window.location.hash.slice(1),t=document.querySelector(`[data-key="${e}"]`);t&&($c(t),t.scrollIntoView({behavior:`smooth`,block:`center`}))}},[]);let t=(0,x.useCallback)(e=>{let t=e.target.closest(`[data-key]`);t&&$c(t)},[]);return i(Zt,{left:a(PT,{children:[i(tl,{}),i(FT,{onClick:t,children:Qt.map((e,t)=>i(Kc,{item:e},t))})]}),right:e&&i(NT,{}),rightProps:{defaultSize:30}})},{}));