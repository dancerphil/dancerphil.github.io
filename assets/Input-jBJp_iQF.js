import{a as e}from"./chunk-DHjUg-A5.js";import{_ as t}from"./emotion-react-jsx-runtime.browser.esm-DaEj45wX.js";import{a as n,ft as r,kt as i,mt as a,t as o,vt as s,wt as c}from"./useSize-ngSKP0SX.js";import{h as l,n as u,o as d,t as f,x as p}from"./ContextIsolator-C-hGIX7X.js";import{t as m}from"./CloseCircleFilled-DmjPysqC.js";import{f as h,i as g,m as _,p as v,r as y}from"./style-cik293Q8.js";import{n as b}from"./Addon-DRi7TzZI.js";function x(e){return!!(e.addonBefore||e.addonAfter)}function S(e){return!!(e.prefix||e.suffix||e.allowClear)}function C(e,t,n){let r=t.cloneNode(!0),i=Object.create(e,{target:{value:r},currentTarget:{value:r}});return r.value=n,typeof t.selectionStart==`number`&&typeof t.selectionEnd==`number`&&(r.selectionStart=t.selectionStart,r.selectionEnd=t.selectionEnd),r.setSelectionRange=(...e)=>{t.setSelectionRange(...e)},i}function w(e,t,n,r){if(!n)return;let i=t;if(t.type===`click`){i=C(t,e,``),n(i);return}if(e.type!==`file`&&r!==void 0){i=C(t,e,r),n(i);return}n(i)}var T=e(t());function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}var D=T.forwardRef((e,t)=>{let{inputElement:n,children:r,prefixCls:i,prefix:o,suffix:s,addonBefore:c,addonAfter:l,className:u,style:d,disabled:f,readOnly:p,focused:m,triggerFocus:h,allowClear:g,value:_,handleReset:v,hidden:y,classes:b,classNames:C,dataAttrs:w,styles:D,components:O,onClear:k}=e,A=r??n,j=O?.affixWrapper||`span`,M=O?.groupWrapper||`span`,N=O?.wrapper||`span`,P=O?.groupAddon||`span`,F=(0,T.useRef)(null),I=e=>{F.current?.contains(e.target)&&h?.()},L=S(e),R=(0,T.cloneElement)(A,{value:_,className:a(A.props?.className,!L&&C?.variant)||null}),z=(0,T.useRef)(null);if(T.useImperativeHandle(t,()=>({nativeElement:z.current||F.current})),L){let e=null;if(g){let t=!f&&!p&&_,n=`${i}-clear-icon`,r=typeof g==`object`&&g?.clearIcon?g.clearIcon:`âœ–`;e=T.createElement(`button`,{type:`button`,tabIndex:-1,onClick:e=>{v?.(e),k?.()},onMouseDown:e=>e.preventDefault(),className:a(n,{[`${n}-hidden`]:!t,[`${n}-has-suffix`]:!!s})},r)}let t=`${i}-affix-wrapper`,n=a(t,{[`${i}-disabled`]:f,[`${t}-disabled`]:f,[`${t}-focused`]:m,[`${t}-readonly`]:p,[`${t}-input-with-clear-btn`]:s&&g&&_},b?.affixWrapper,C?.affixWrapper,C?.variant),r=(s||g)&&T.createElement(`span`,{className:a(`${i}-suffix`,C?.suffix),style:D?.suffix},e,s);R=T.createElement(j,E({className:n,style:D?.affixWrapper,onClick:I},w?.affixWrapper,{ref:F}),o&&T.createElement(`span`,{className:a(`${i}-prefix`,C?.prefix),style:D?.prefix},o),R,r)}if(x(e)){let e=`${i}-group`,t=`${e}-addon`,n=`${e}-wrapper`,r=a(`${i}-wrapper`,e,b?.wrapper,C?.wrapper),o=a(n,{[`${n}-disabled`]:f},b?.group,C?.groupWrapper);R=T.createElement(M,{className:o,ref:z},T.createElement(N,{className:r},c&&T.createElement(P,{className:t},c),R,l&&T.createElement(P,{className:t},l)))}return T.cloneElement(R,{className:a(R.props?.className,u)||null,style:{...R.props?.style,...d},hidden:y})});function O(e,t){return T.useMemo(()=>{let n={};t&&(n.show=typeof t==`object`&&t.formatter?t.formatter:!!t),n={...n,...e};let{show:r,...i}=n;return{...i,show:!!r,showFormatter:typeof r==`function`?r:void 0,strategy:i.strategy||(e=>e.length)}},[e,t])}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}var A=(0,T.forwardRef)((e,t)=>{let{autoComplete:n,onChange:r,onFocus:o,onBlur:c,onPressEnter:l,onKeyDown:u,onKeyUp:d,prefixCls:f=`rc-input`,disabled:p,htmlSize:m,className:h,maxLength:g,suffix:_,showCount:v,count:y,type:x=`text`,classes:S,classNames:C,styles:E,onCompositionStart:A,onCompositionEnd:j,...M}=e,[N,P]=(0,T.useState)(!1),F=(0,T.useRef)(!1),I=(0,T.useRef)(!1),L=(0,T.useRef)(null),R=(0,T.useRef)(null),z=e=>{L.current&&b(L.current,e)},[B,V]=i(e.defaultValue,e.value),H=B==null?``:String(B),[U,ee]=(0,T.useState)(null),W=O(y,v),G=W.max||g,K=W.strategy(H),te=!!G&&K>G;(0,T.useImperativeHandle)(t,()=>({focus:z,blur:()=>{L.current?.blur()},setSelectionRange:(e,t,n)=>{L.current?.setSelectionRange(e,t,n)},select:()=>{L.current?.select()},input:L.current,nativeElement:R.current?.nativeElement||L.current})),(0,T.useEffect)(()=>{I.current&&=!1,P(e=>e&&p?!1:e)},[p]);let q=(e,t,n)=>{let i=t;if(!F.current&&W.exceedFormatter&&W.max&&W.strategy(t)>W.max)i=W.exceedFormatter(t,{max:W.max}),t!==i&&ee([L.current?.selectionStart||0,L.current?.selectionEnd||0]);else if(n.source===`compositionEnd`)return;V(i),L.current&&w(L.current,e,r,i)};(0,T.useEffect)(()=>{U&&L.current?.setSelectionRange(...U)},[U]);let J=e=>{q(e,e.target.value,{source:`change`})},Y=e=>{F.current=!1,q(e,e.currentTarget.value,{source:`compositionEnd`}),j?.(e)},X=e=>{l&&e.key===`Enter`&&!I.current&&!e.nativeEvent.isComposing&&(I.current=!0,l(e)),u?.(e)},ne=e=>{e.key===`Enter`&&(I.current=!1),d?.(e)},re=e=>{P(!0),o?.(e)},ie=e=>{I.current&&=!1,P(!1),c?.(e)},Z=e=>{V(``),z(),L.current&&w(L.current,e,r)},ae=te&&`${f}-out-of-range`;return T.createElement(D,k({},M,{prefixCls:f,className:a(h,ae),handleReset:Z,value:H,focused:N,triggerFocus:z,suffix:(()=>{let e=Number(G)>0;if(_||W.show){let t=W.showFormatter?W.showFormatter({value:H,count:K,maxLength:G}):`${K}${e?` / ${G}`:``}`;return T.createElement(T.Fragment,null,W.show&&T.createElement(`span`,{className:a(`${f}-show-count-suffix`,{[`${f}-show-count-has-suffix`]:!!_},C?.count),style:{...E?.count}},t),_)}return null})(),disabled:p,classes:S,classNames:C,styles:E,ref:R}),(()=>{let t=s(e,[`prefixCls`,`onPressEnter`,`addonBefore`,`addonAfter`,`prefix`,`suffix`,`allowClear`,`defaultValue`,`showCount`,`count`,`classes`,`htmlSize`,`styles`,`classNames`,`onClear`]);return T.createElement(`input`,k({autoComplete:n},t,{onChange:J,onFocus:re,onBlur:ie,onKeyDown:X,onKeyUp:ne,className:a(f,{[`${f}-disabled`]:p},C?.input),style:E?.input,ref:L,size:m,type:x,onCompositionStart:e=>{F.current=!0,A?.(e)},onCompositionEnd:Y}))})())}),j=e=>{let t;return typeof e==`object`&&e?.clearIcon?t=e:e&&(t={clearIcon:T.createElement(m,null)}),t};function M(e,t){let n=(0,T.useRef)([]),r=()=>{n.current.push(setTimeout(()=>{e.current?.input&&e.current?.input.getAttribute(`type`)===`password`&&e.current?.input.hasAttribute(`value`)&&e.current?.input.removeAttribute(`value`)}))};return(0,T.useEffect)(()=>(t&&r(),()=>n.current.forEach(e=>{e&&clearTimeout(e)})),[]),r}function N(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}var P=(0,T.forwardRef)((e,t)=>{let{prefixCls:i,bordered:s=!0,status:m,size:b,disabled:x,onBlur:S,onFocus:C,suffix:w,allowClear:E,addonAfter:D,addonBefore:O,className:k,style:P,styles:F,rootClassName:I,onChange:L,classNames:R,variant:z,...B}=e,{getPrefixCls:V,direction:H,allowClear:U,autoComplete:ee,className:W,style:G,classNames:K,styles:te}=r(`input`),q=V(`input`,i),J=(0,T.useRef)(null),Y=p(q),[X,ne]=g(q,I);y(q,Y);let{compactSize:re,compactItemClassnames:ie}=d(q,H),Z=o(e=>b??re??e),ae=T.useContext(l),oe=x??ae,se={...e,size:Z,disabled:oe},[Q,ce]=n([K,R],[te,F],{props:se}),{status:le,hasFeedback:$,feedbackIcon:ue}=(0,T.useContext)(u),de=v(le,m);(0,T.useRef)(N(e)||!!$);let fe=M(J,!0),pe=e=>{fe(),S?.(e)},me=e=>{fe(),C?.(e)},he=e=>{fe(),L?.(e)},ge=($||w)&&T.createElement(T.Fragment,null,w,$&&ue),_e=j(E??U),[ve,ye]=h(`input`,z,s);return T.createElement(A,{ref:c(t,J),prefixCls:q,autoComplete:ee,...B,disabled:oe,onBlur:pe,onFocus:me,style:{...ce.root,...G,...P},styles:ce,suffix:ge,allowClear:_e,className:a(k,I,ne,Y,ie,W,Q.root),onChange:he,addonBefore:O&&T.createElement(f,{form:!0,space:!0},O),addonAfter:D&&T.createElement(f,{form:!0,space:!0},D),classNames:{...Q,input:a({[`${q}-sm`]:Z===`small`,[`${q}-lg`]:Z===`large`,[`${q}-rtl`]:H===`rtl`},Q.input,X),variant:a({[`${q}-${ve}`]:ye},_(q,de)),affixWrapper:a({[`${q}-affix-wrapper-sm`]:Z===`small`,[`${q}-affix-wrapper-lg`]:Z===`large`,[`${q}-affix-wrapper-rtl`]:H===`rtl`},X),wrapper:a({[`${q}-group-rtl`]:H===`rtl`},X),groupWrapper:a({[`${q}-group-wrapper-sm`]:Z===`small`,[`${q}-group-wrapper-lg`]:Z===`large`,[`${q}-group-wrapper-rtl`]:H===`rtl`,[`${q}-group-wrapper-${ve}`]:ye},_(`${q}-group-wrapper`,de,$),X)}})});export{D as a,O as i,M as n,w as o,j as r,P as t};